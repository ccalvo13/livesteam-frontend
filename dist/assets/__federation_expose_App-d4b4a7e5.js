import{importShared as A}from"./__federation_fn_import.js";function Ba(e,t){return function(){return e.apply(t,arguments)}}const{toString:_u}=Object.prototype,{getPrototypeOf:ti}=Object,mr=(e=>t=>{const n=_u.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ze=e=>(e=e.toLowerCase(),t=>mr(t)===e),vr=e=>t=>typeof t===e,{isArray:jt}=Array,pn=vr("undefined");function wu(e){return e!==null&&!pn(e)&&e.constructor!==null&&!pn(e.constructor)&&Ve(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $a=Ze("ArrayBuffer");function Eu(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$a(e.buffer),t}const Su=vr("string"),Ve=vr("function"),Ia=vr("number"),yr=e=>e!==null&&typeof e=="object",xu=e=>e===!0||e===!1,qn=e=>{if(mr(e)!=="object")return!1;const t=ti(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ku=Ze("Date"),Cu=Ze("File"),Ou=Ze("Blob"),Tu=Ze("FileList"),Ru=e=>yr(e)&&Ve(e.pipe),Au=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ve(e.append)&&((t=mr(e))==="formdata"||t==="object"&&Ve(e.toString)&&e.toString()==="[object FormData]"))},Nu=Ze("URLSearchParams"),Lu=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _n(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),jt(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(r=0;r<o;r++)c=i[r],t.call(null,e[c],c,e)}}function Da(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Va=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis)(),Fa=e=>!pn(e)&&e!==Va;function Ts(){const{caseless:e}=Fa(this)&&this||{},t={},n=(r,s)=>{const i=e&&Da(t,s)||s;qn(t[i])&&qn(r)?t[i]=Ts(t[i],r):qn(r)?t[i]=Ts({},r):jt(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&_n(arguments[r],n);return t}const Pu=(e,t,n,{allOwnKeys:r}={})=>(_n(t,(s,i)=>{n&&Ve(s)?e[i]=Ba(s,n):e[i]=s},{allOwnKeys:r}),e),Bu=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),$u=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Iu=(e,t,n,r)=>{let s,i,o;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&ti(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Du=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Vu=e=>{if(!e)return null;if(jt(e))return e;let t=e.length;if(!Ia(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Fu=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ti(Uint8Array)),Uu=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Mu=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},qu=Ze("HTMLFormElement"),ju=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Wi=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Hu=Ze("RegExp"),Ua=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_n(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},Wu=e=>{Ua(e,(t,n)=>{if(Ve(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ve(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zu=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return jt(e)?r(e):r(String(e).split(t)),n},Gu=()=>{},Ku=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Kr="abcdefghijklmnopqrstuvwxyz",zi="0123456789",Ma={DIGIT:zi,ALPHA:Kr,ALPHA_DIGIT:Kr+Kr.toUpperCase()+zi},Yu=(e=16,t=Ma.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Ju(e){return!!(e&&Ve(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Xu=e=>{const t=new Array(10),n=(r,s)=>{if(yr(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=jt(r)?[]:{};return _n(r,(o,c)=>{const h=n(o,s+1);!pn(h)&&(i[c]=h)}),t[s]=void 0,i}}return r};return n(e,0)},Qu=Ze("AsyncFunction"),Zu=e=>e&&(yr(e)||Ve(e))&&Ve(e.then)&&Ve(e.catch),C={isArray:jt,isArrayBuffer:$a,isBuffer:wu,isFormData:Au,isArrayBufferView:Eu,isString:Su,isNumber:Ia,isBoolean:xu,isObject:yr,isPlainObject:qn,isUndefined:pn,isDate:ku,isFile:Cu,isBlob:Ou,isRegExp:Hu,isFunction:Ve,isStream:Ru,isURLSearchParams:Nu,isTypedArray:Fu,isFileList:Tu,forEach:_n,merge:Ts,extend:Pu,trim:Lu,stripBOM:Bu,inherits:$u,toFlatObject:Iu,kindOf:mr,kindOfTest:Ze,endsWith:Du,toArray:Vu,forEachEntry:Uu,matchAll:Mu,isHTMLForm:qu,hasOwnProperty:Wi,hasOwnProp:Wi,reduceDescriptors:Ua,freezeMethods:Wu,toObjectSet:zu,toCamelCase:ju,noop:Gu,toFiniteNumber:Ku,findKey:Da,globalThis:Va,isContextDefined:Fa,ALPHABET:Ma,generateString:Yu,isSpecCompliantForm:Ju,toJSONObject:Xu,isAsyncFn:Qu,isThenable:Zu};function Q(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}C.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const qa=Q.prototype,ja={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ja[e]={value:e}});Object.defineProperties(Q,ja);Object.defineProperty(qa,"isAxiosError",{value:!0});Q.from=(e,t,n,r,s,i)=>{const o=Object.create(qa);return C.toFlatObject(e,o,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),Q.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const ef=null;function Rs(e){return C.isPlainObject(e)||C.isArray(e)}function Ha(e){return C.endsWith(e,"[]")?e.slice(0,-2):e}function Gi(e,t,n){return e?e.concat(t).map(function(s,i){return s=Ha(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function tf(e){return C.isArray(e)&&!e.some(Rs)}const nf=C.toFlatObject(C,{},null,function(t){return/^is[A-Z]/.test(t)});function gr(e,t,n){if(!C.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,O){return!C.isUndefined(O[E])});const r=n.metaTokens,s=n.visitor||p,i=n.dots,o=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(t);if(!C.isFunction(s))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(C.isDate(w))return w.toISOString();if(!h&&C.isBlob(w))throw new Q("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(w)||C.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,E,O){let N=w;if(w&&!O&&typeof w=="object"){if(C.endsWith(E,"{}"))E=r?E:E.slice(0,-2),w=JSON.stringify(w);else if(C.isArray(w)&&tf(w)||(C.isFileList(w)||C.endsWith(E,"[]"))&&(N=C.toArray(w)))return E=Ha(E),N.forEach(function(_,R){!(C.isUndefined(_)||_===null)&&t.append(o===!0?Gi([E],R,i):o===null?E:E+"[]",d(_))}),!1}return Rs(w)?!0:(t.append(Gi(O,E,i),d(w)),!1)}const g=[],b=Object.assign(nf,{defaultVisitor:p,convertValue:d,isVisitable:Rs});function S(w,E){if(!C.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+E.join("."));g.push(w),C.forEach(w,function(N,x){(!(C.isUndefined(N)||N===null)&&s.call(t,N,C.isString(x)?x.trim():x,E,b))===!0&&S(N,E?E.concat(x):[x])}),g.pop()}}if(!C.isObject(e))throw new TypeError("data must be an object");return S(e),t}function Ki(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ni(e,t){this._pairs=[],e&&gr(e,this,t)}const Wa=ni.prototype;Wa.append=function(t,n){this._pairs.push([t,n])};Wa.toString=function(t){const n=t?function(r){return t.call(this,r,Ki)}:Ki;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function rf(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function za(e,t,n){if(!t)return e;const r=n&&n.encode||rf,s=n&&n.serialize;let i;if(s?i=s(t,n):i=C.isURLSearchParams(t)?t.toString():new ni(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class sf{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){C.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Yi=sf,Ga={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},of=typeof URLSearchParams<"u"?URLSearchParams:ni,af=typeof FormData<"u"?FormData:null,cf=typeof Blob<"u"?Blob:null,lf=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),uf=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ye={isBrowser:!0,classes:{URLSearchParams:of,FormData:af,Blob:cf},isStandardBrowserEnv:lf,isStandardBrowserWebWorkerEnv:uf,protocols:["http","https","file","blob","url","data"]};function ff(e,t){return gr(e,new Ye.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Ye.isNode&&C.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function hf(e){return C.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function df(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Ka(e){function t(n,r,s,i){let o=n[i++];const c=Number.isFinite(+o),h=i>=n.length;return o=!o&&C.isArray(s)?s.length:o,h?(C.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!c):((!s[o]||!C.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&C.isArray(s[o])&&(s[o]=df(s[o])),!c)}if(C.isFormData(e)&&C.isFunction(e.entries)){const n={};return C.forEachEntry(e,(r,s)=>{t(hf(r),s,n,0)}),n}return null}function pf(e,t,n){if(C.isString(e))try{return(t||JSON.parse)(e),C.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ri={transitional:Ga,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=C.isObject(t);if(i&&C.isHTMLForm(t)&&(t=new FormData(t)),C.isFormData(t))return s&&s?JSON.stringify(Ka(t)):t;if(C.isArrayBuffer(t)||C.isBuffer(t)||C.isStream(t)||C.isFile(t)||C.isBlob(t))return t;if(C.isArrayBufferView(t))return t.buffer;if(C.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ff(t,this.formSerializer).toString();if((c=C.isFileList(t))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return gr(c?{"files[]":t}:t,h&&new h,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),pf(t)):t}],transformResponse:[function(t){const n=this.transitional||ri.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&C.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Q.from(c,Q.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ye.classes.FormData,Blob:Ye.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],e=>{ri.headers[e]={}});const si=ri,mf=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vf=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&mf[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ji=Symbol("internals");function Jt(e){return e&&String(e).trim().toLowerCase()}function jn(e){return e===!1||e==null?e:C.isArray(e)?e.map(jn):String(e)}function yf(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const gf=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Yr(e,t,n,r,s){if(C.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!C.isString(t)){if(C.isString(r))return t.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(t)}}function bf(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function _f(e,t){const n=C.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}class br{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(c,h,d){const p=Jt(h);if(!p)throw new Error("header name must be a non-empty string");const g=C.findKey(s,p);(!g||s[g]===void 0||d===!0||d===void 0&&s[g]!==!1)&&(s[g||h]=jn(c))}const o=(c,h)=>C.forEach(c,(d,p)=>i(d,p,h));return C.isPlainObject(t)||t instanceof this.constructor?o(t,n):C.isString(t)&&(t=t.trim())&&!gf(t)?o(vf(t),n):t!=null&&i(n,t,r),this}get(t,n){if(t=Jt(t),t){const r=C.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return yf(s);if(C.isFunction(n))return n.call(this,s,r);if(C.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Jt(t),t){const r=C.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Yr(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Jt(o),o){const c=C.findKey(r,o);c&&(!n||Yr(r,r[c],c,n))&&(delete r[c],s=!0)}}return C.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Yr(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return C.forEach(this,(s,i)=>{const o=C.findKey(r,i);if(o){n[o]=jn(s),delete n[i];return}const c=t?bf(i):String(i).trim();c!==i&&delete n[i],n[c]=jn(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return C.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&C.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Ji]=this[Ji]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=Jt(o);r[c]||(_f(s,o),r[c]=!0)}return C.isArray(t)?t.forEach(i):i(t),this}}br.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(br.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});C.freezeMethods(br);const st=br;function Jr(e,t){const n=this||si,r=t||n,s=st.from(r.headers);let i=r.data;return C.forEach(e,function(c){i=c.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Ya(e){return!!(e&&e.__CANCEL__)}function wn(e,t,n){Q.call(this,e??"canceled",Q.ERR_CANCELED,t,n),this.name="CanceledError"}C.inherits(wn,Q,{__CANCEL__:!0});function wf(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Q("Request failed with status code "+n.status,[Q.ERR_BAD_REQUEST,Q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ef=Ye.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,c){const h=[];h.push(n+"="+encodeURIComponent(r)),C.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),C.isString(i)&&h.push("path="+i),C.isString(o)&&h.push("domain="+o),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Sf(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xf(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Ja(e,t){return e&&!Sf(t)?xf(e,t):t}const kf=Ye.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const c=C.isString(o)?s(o):o;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function Cf(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Of(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(h){const d=Date.now(),p=r[i];o||(o=d),n[s]=h,r[s]=d;let g=i,b=0;for(;g!==s;)b+=n[g++],g=g%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<t)return;const S=p&&d-p;return S?Math.round(b*1e3/S):void 0}}function Xi(e,t){let n=0;const r=Of(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,c=i-n,h=r(c),d=i<=o;n=i;const p={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:h||void 0,estimated:h&&o&&d?(o-i)/h:void 0,event:s};p[t?"download":"upload"]=!0,e(p)}}const Tf=typeof XMLHttpRequest<"u",Rf=Tf&&function(e){return new Promise(function(n,r){let s=e.data;const i=st.from(e.headers).normalize(),o=e.responseType;let c;function h(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let d;C.isFormData(s)&&(Ye.isStandardBrowserEnv||Ye.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.getContentType(/^\s*multipart\/form-data/)?C.isString(d=i.getContentType())&&i.setContentType(d.replace(/^\s*(multipart\/form-data);+/,"$1")):i.setContentType("multipart/form-data"));let p=new XMLHttpRequest;if(e.auth){const w=e.auth.username||"",E=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(w+":"+E))}const g=Ja(e.baseURL,e.url);p.open(e.method.toUpperCase(),za(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout;function b(){if(!p)return;const w=st.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),O={data:!o||o==="text"||o==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:w,config:e,request:p};wf(function(x){n(x),h()},function(x){r(x),h()},O),p=null}if("onloadend"in p?p.onloadend=b:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(b)},p.onabort=function(){p&&(r(new Q("Request aborted",Q.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new Q("Network Error",Q.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let E=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const O=e.transitional||Ga;e.timeoutErrorMessage&&(E=e.timeoutErrorMessage),r(new Q(E,O.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,e,p)),p=null},Ye.isStandardBrowserEnv){const w=(e.withCredentials||kf(g))&&e.xsrfCookieName&&Ef.read(e.xsrfCookieName);w&&i.set(e.xsrfHeaderName,w)}s===void 0&&i.setContentType(null),"setRequestHeader"in p&&C.forEach(i.toJSON(),function(E,O){p.setRequestHeader(O,E)}),C.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),o&&o!=="json"&&(p.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&p.addEventListener("progress",Xi(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",Xi(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=w=>{p&&(r(!w||w.type?new wn(null,e,p):w),p.abort(),p=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const S=Cf(g);if(S&&Ye.protocols.indexOf(S)===-1){r(new Q("Unsupported protocol "+S+":",Q.ERR_BAD_REQUEST,e));return}p.send(s||null)})},As={http:ef,xhr:Rf};C.forEach(As,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Qi=e=>`- ${e}`,Af=e=>C.isFunction(e)||e===null||e===!1,Xa={getAdapter:e=>{e=C.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!Af(n)&&(r=As[(o=String(n)).toLowerCase()],r===void 0))throw new Q(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Qi).join(`
`):" "+Qi(i[0]):"as no adapter specified";throw new Q("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:As};function Xr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wn(null,e)}function Zi(e){return Xr(e),e.headers=st.from(e.headers),e.data=Jr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Xa.getAdapter(e.adapter||si.adapter)(e).then(function(r){return Xr(e),r.data=Jr.call(e,e.transformResponse,r),r.headers=st.from(r.headers),r},function(r){return Ya(r)||(Xr(e),r&&r.response&&(r.response.data=Jr.call(e,e.transformResponse,r.response),r.response.headers=st.from(r.response.headers))),Promise.reject(r)})}const eo=e=>e instanceof st?e.toJSON():e;function qt(e,t){t=t||{};const n={};function r(d,p,g){return C.isPlainObject(d)&&C.isPlainObject(p)?C.merge.call({caseless:g},d,p):C.isPlainObject(p)?C.merge({},p):C.isArray(p)?p.slice():p}function s(d,p,g){if(C.isUndefined(p)){if(!C.isUndefined(d))return r(void 0,d,g)}else return r(d,p,g)}function i(d,p){if(!C.isUndefined(p))return r(void 0,p)}function o(d,p){if(C.isUndefined(p)){if(!C.isUndefined(d))return r(void 0,d)}else return r(void 0,p)}function c(d,p,g){if(g in t)return r(d,p);if(g in e)return r(void 0,d)}const h={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,p)=>s(eo(d),eo(p),!0)};return C.forEach(Object.keys(Object.assign({},e,t)),function(p){const g=h[p]||s,b=g(e[p],t[p],p);C.isUndefined(b)&&g!==c||(n[p]=b)}),n}const Qa="1.5.1",ii={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ii[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const to={};ii.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Qa+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,c)=>{if(t===!1)throw new Q(s(o," has been removed"+(n?" in "+n:"")),Q.ERR_DEPRECATED);return n&&!to[o]&&(to[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,c):!0}};function Nf(e,t,n){if(typeof e!="object")throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const c=e[i],h=c===void 0||o(c,i,e);if(h!==!0)throw new Q("option "+i+" must be "+h,Q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Q("Unknown option "+i,Q.ERR_BAD_OPTION)}}const Ns={assertOptions:Nf,validators:ii},lt=Ns.validators;class nr{constructor(t){this.defaults=t,this.interceptors={request:new Yi,response:new Yi}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=qt(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ns.assertOptions(r,{silentJSONParsing:lt.transitional(lt.boolean),forcedJSONParsing:lt.transitional(lt.boolean),clarifyTimeoutError:lt.transitional(lt.boolean)},!1),s!=null&&(C.isFunction(s)?n.paramsSerializer={serialize:s}:Ns.assertOptions(s,{encode:lt.function,serialize:lt.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&C.merge(i.common,i[n.method]);i&&C.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),n.headers=st.concat(o,i);const c=[];let h=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(h=h&&E.synchronous,c.unshift(E.fulfilled,E.rejected))});const d=[];this.interceptors.response.forEach(function(E){d.push(E.fulfilled,E.rejected)});let p,g=0,b;if(!h){const w=[Zi.bind(this),void 0];for(w.unshift.apply(w,c),w.push.apply(w,d),b=w.length,p=Promise.resolve(n);g<b;)p=p.then(w[g++],w[g++]);return p}b=c.length;let S=n;for(g=0;g<b;){const w=c[g++],E=c[g++];try{S=w(S)}catch(O){E.call(this,O);break}}try{p=Zi.call(this,S)}catch(w){return Promise.reject(w)}for(g=0,b=d.length;g<b;)p=p.then(d[g++],d[g++]);return p}getUri(t){t=qt(this.defaults,t);const n=Ja(t.baseURL,t.url);return za(n,t.params,t.paramsSerializer)}}C.forEach(["delete","get","head","options"],function(t){nr.prototype[t]=function(n,r){return this.request(qt(r||{},{method:t,url:n,data:(r||{}).data}))}});C.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,c){return this.request(qt(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}nr.prototype[t]=n(),nr.prototype[t+"Form"]=n(!0)});const Hn=nr;class oi{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{r.subscribe(c),i=c}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,c){r.reason||(r.reason=new wn(i,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new oi(function(s){t=s}),cancel:t}}}const Lf=oi;function Pf(e){return function(n){return e.apply(null,n)}}function Bf(e){return C.isObject(e)&&e.isAxiosError===!0}const Ls={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ls).forEach(([e,t])=>{Ls[t]=e});const $f=Ls;function Za(e){const t=new Hn(e),n=Ba(Hn.prototype.request,t);return C.extend(n,Hn.prototype,t,{allOwnKeys:!0}),C.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Za(qt(e,s))},n}const de=Za(si);de.Axios=Hn;de.CanceledError=wn;de.CancelToken=Lf;de.isCancel=Ya;de.VERSION=Qa;de.toFormData=gr;de.AxiosError=Q;de.Cancel=de.CanceledError;de.all=function(t){return Promise.all(t)};de.spread=Pf;de.isAxiosError=Bf;de.mergeConfig=qt;de.AxiosHeaders=st;de.formToJSON=e=>Ka(C.isHTMLForm(e)?new FormData(e):e);de.getAdapter=Xa.getAdapter;de.HttpStatusCode=$f;de.default=de;const Nt=de;var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function If(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tc={exports:{}};/*!
 * Socket.IO v4.7.2
 * (c) 2014-2023 Guillermo Rauch
 * Released under the MIT License.
 */(function(e,t){(function(n,r){e.exports=r()})(ec,function(){function n(u){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},n(u)}function r(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}function s(u,v){for(var m=0;m<v.length;m++){var f=v[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,M(f.key),f)}}function i(u,v,m){return v&&s(u.prototype,v),m&&s(u,m),Object.defineProperty(u,"prototype",{writable:!1}),u}function o(){return o=Object.assign?Object.assign.bind():function(u){for(var v=1;v<arguments.length;v++){var m=arguments[v];for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(u[f]=m[f])}return u},o.apply(this,arguments)}function c(u,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(v&&v.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),v&&d(u,v)}function h(u){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},h(u)}function d(u,v){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,a){return f.__proto__=a,f},d(u,v)}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(u,v,m){return p()?g=Reflect.construct.bind():g=function(a,l,y){var k=[null];k.push.apply(k,l);var T=Function.bind.apply(a,k),D=new T;return y&&d(D,y.prototype),D},g.apply(null,arguments)}function b(u){return Function.toString.call(u).indexOf("[native code]")!==-1}function S(u){var v=typeof Map=="function"?new Map:void 0;return S=function(f){if(f===null||!b(f))return f;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(typeof v<"u"){if(v.has(f))return v.get(f);v.set(f,a)}function a(){return g(f,arguments,h(this).constructor)}return a.prototype=Object.create(f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),d(a,f)},S(u)}function w(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function E(u,v){if(v&&(typeof v=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(u)}function O(u){var v=p();return function(){var f=h(u),a;if(v){var l=h(this).constructor;a=Reflect.construct(f,arguments,l)}else a=f.apply(this,arguments);return E(this,a)}}function N(u,v){for(;!Object.prototype.hasOwnProperty.call(u,v)&&(u=h(u),u!==null););return u}function x(){return typeof Reflect<"u"&&Reflect.get?x=Reflect.get.bind():x=function(v,m,f){var a=N(v,m);if(a){var l=Object.getOwnPropertyDescriptor(a,m);return l.get?l.get.call(arguments.length<3?v:f):l.value}},x.apply(this,arguments)}function _(u,v){if(u){if(typeof u=="string")return R(u,v);var m=Object.prototype.toString.call(u).slice(8,-1);if(m==="Object"&&u.constructor&&(m=u.constructor.name),m==="Map"||m==="Set")return Array.from(u);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return R(u,v)}}function R(u,v){(v==null||v>u.length)&&(v=u.length);for(var m=0,f=new Array(v);m<v;m++)f[m]=u[m];return f}function B(u,v){var m=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!m){if(Array.isArray(u)||(m=_(u))||v&&u&&typeof u.length=="number"){m&&(u=m);var f=0,a=function(){};return{s:a,n:function(){return f>=u.length?{done:!0}:{done:!1,value:u[f++]}},e:function(T){throw T},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,y=!1,k;return{s:function(){m=m.call(u)},n:function(){var T=m.next();return l=T.done,T},e:function(T){y=!0,k=T},f:function(){try{!l&&m.return!=null&&m.return()}finally{if(y)throw k}}}}function V(u,v){if(typeof u!="object"||u===null)return u;var m=u[Symbol.toPrimitive];if(m!==void 0){var f=m.call(u,v||"default");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(u)}function M(u){var v=V(u,"string");return typeof v=="symbol"?v:String(v)}var P=Object.create(null);P.open="0",P.close="1",P.ping="2",P.pong="3",P.message="4",P.upgrade="5",P.noop="6";var I=Object.create(null);Object.keys(P).forEach(function(u){I[P[u]]=u});var Y={type:"error",data:"parser error"},W=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",F=typeof ArrayBuffer=="function",U=function(v){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(v):v&&v.buffer instanceof ArrayBuffer},z=function(v,m,f){var a=v.type,l=v.data;return W&&l instanceof Blob?m?f(l):ae(l,f):F&&(l instanceof ArrayBuffer||U(l))?m?f(l):ae(new Blob([l]),f):f(P[a]+(l||""))},ae=function(v,m){var f=new FileReader;return f.onload=function(){var a=f.result.split(",")[1];m("b"+(a||""))},f.readAsDataURL(v)};function oe(u){return u instanceof Uint8Array?u:u instanceof ArrayBuffer?new Uint8Array(u):new Uint8Array(u.buffer,u.byteOffset,u.byteLength)}var ue;function le(u,v){if(W&&u.data instanceof Blob)return u.data.arrayBuffer().then(oe).then(v);if(F&&(u.data instanceof ArrayBuffer||U(u.data)))return v(oe(u.data));z(u,!1,function(m){ue||(ue=new TextEncoder),v(ue.encode(m))})}for(var re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=typeof Uint8Array>"u"?[]:new Uint8Array(256),$=0;$<re.length;$++)L[re.charCodeAt($)]=$;var q=function(v){var m=v.length*.75,f=v.length,a,l=0,y,k,T,D;v[v.length-1]==="="&&(m--,v[v.length-2]==="="&&m--);var H=new ArrayBuffer(m),ne=new Uint8Array(H);for(a=0;a<f;a+=4)y=L[v.charCodeAt(a)],k=L[v.charCodeAt(a+1)],T=L[v.charCodeAt(a+2)],D=L[v.charCodeAt(a+3)],ne[l++]=y<<2|k>>4,ne[l++]=(k&15)<<4|T>>2,ne[l++]=(T&3)<<6|D&63;return H},J=typeof ArrayBuffer=="function",te=function(v,m){if(typeof v!="string")return{type:"message",data:fe(v,m)};var f=v.charAt(0);if(f==="b")return{type:"message",data:ye(v.substring(1),m)};var a=I[f];return a?v.length>1?{type:I[f],data:v.substring(1)}:{type:I[f]}:Y},ye=function(v,m){if(J){var f=q(v);return fe(f,m)}else return{base64:!0,data:v}},fe=function(v,m){switch(m){case"blob":return v instanceof Blob?v:new Blob([v]);case"arraybuffer":default:return v instanceof ArrayBuffer?v:v.buffer}},we=String.fromCharCode(30),Te=function(v,m){var f=v.length,a=new Array(f),l=0;v.forEach(function(y,k){z(y,!1,function(T){a[k]=T,++l===f&&m(a.join(we))})})},Pe=function(v,m){for(var f=v.split(we),a=[],l=0;l<f.length;l++){var y=te(f[l],m);if(a.push(y),y.type==="error")break}return a};function Me(){return new TransformStream({transform:function(v,m){le(v,function(f){var a=f.length,l;if(a<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,a);else if(a<65536){l=new Uint8Array(3);var y=new DataView(l.buffer);y.setUint8(0,126),y.setUint16(1,a)}else{l=new Uint8Array(9);var k=new DataView(l.buffer);k.setUint8(0,127),k.setBigUint64(1,BigInt(a))}v.data&&typeof v.data!="string"&&(l[0]|=128),m.enqueue(l),m.enqueue(f)})}})}var he;function ge(u){return u.reduce(function(v,m){return v+m.length},0)}function Ee(u,v){if(u[0].length===v)return u.shift();for(var m=new Uint8Array(v),f=0,a=0;a<v;a++)m[a]=u[0][f++],f===u[0].length&&(u.shift(),f=0);return u.length&&f<u[0].length&&(u[0]=u[0].slice(f)),m}function He(u,v){he||(he=new TextDecoder);var m=[],f=0,a=-1,l=!1;return new TransformStream({transform:function(k,T){for(m.push(k);;){if(f===0){if(ge(m)<1)break;var D=Ee(m,1);l=(D[0]&128)===128,a=D[0]&127,a<126?f=3:a===126?f=1:f=2}else if(f===1){if(ge(m)<2)break;var H=Ee(m,2);a=new DataView(H.buffer,H.byteOffset,H.length).getUint16(0),f=3}else if(f===2){if(ge(m)<8)break;var ne=Ee(m,8),ee=new DataView(ne.buffer,ne.byteOffset,ne.length),Oe=ee.getUint32(0);if(Oe>Math.pow(2,53-32)-1){T.enqueue(Y);break}a=Oe*Math.pow(2,32)+ee.getUint32(4),f=3}else{if(ge(m)<a)break;var Re=Ee(m,a);T.enqueue(te(l?Re:he.decode(Re),v)),f=0}if(a===0||a>u){T.enqueue(Y);break}}}})}var We=4;function ce(u){if(u)return Dl(u)}function Dl(u){for(var v in ce.prototype)u[v]=ce.prototype[v];return u}ce.prototype.on=ce.prototype.addEventListener=function(u,v){return this._callbacks=this._callbacks||{},(this._callbacks["$"+u]=this._callbacks["$"+u]||[]).push(v),this},ce.prototype.once=function(u,v){function m(){this.off(u,m),v.apply(this,arguments)}return m.fn=v,this.on(u,m),this},ce.prototype.off=ce.prototype.removeListener=ce.prototype.removeAllListeners=ce.prototype.removeEventListener=function(u,v){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var m=this._callbacks["$"+u];if(!m)return this;if(arguments.length==1)return delete this._callbacks["$"+u],this;for(var f,a=0;a<m.length;a++)if(f=m[a],f===v||f.fn===v){m.splice(a,1);break}return m.length===0&&delete this._callbacks["$"+u],this},ce.prototype.emit=function(u){this._callbacks=this._callbacks||{};for(var v=new Array(arguments.length-1),m=this._callbacks["$"+u],f=1;f<arguments.length;f++)v[f-1]=arguments[f];if(m){m=m.slice(0);for(var f=0,a=m.length;f<a;++f)m[f].apply(this,v)}return this},ce.prototype.emitReserved=ce.prototype.emit,ce.prototype.listeners=function(u){return this._callbacks=this._callbacks||{},this._callbacks["$"+u]||[]},ce.prototype.hasListeners=function(u){return!!this.listeners(u).length};var Be=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}();function Ni(u){for(var v=arguments.length,m=new Array(v>1?v-1:0),f=1;f<v;f++)m[f-1]=arguments[f];return m.reduce(function(a,l){return u.hasOwnProperty(l)&&(a[l]=u[l]),a},{})}var Vl=Be.setTimeout,Fl=Be.clearTimeout;function On(u,v){v.useNativeTimers?(u.setTimeoutFn=Vl.bind(Be),u.clearTimeoutFn=Fl.bind(Be)):(u.setTimeoutFn=Be.setTimeout.bind(Be),u.clearTimeoutFn=Be.clearTimeout.bind(Be))}var Ul=1.33;function Ml(u){return typeof u=="string"?ql(u):Math.ceil((u.byteLength||u.size)*Ul)}function ql(u){for(var v=0,m=0,f=0,a=u.length;f<a;f++)v=u.charCodeAt(f),v<128?m+=1:v<2048?m+=2:v<55296||v>=57344?m+=3:(f++,m+=4);return m}function jl(u){var v="";for(var m in u)u.hasOwnProperty(m)&&(v.length&&(v+="&"),v+=encodeURIComponent(m)+"="+encodeURIComponent(u[m]));return v}function Hl(u){for(var v={},m=u.split("&"),f=0,a=m.length;f<a;f++){var l=m[f].split("=");v[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return v}var Wl=function(u){c(m,u);var v=O(m);function m(f,a,l){var y;return r(this,m),y=v.call(this,f),y.description=a,y.context=l,y.type="TransportError",y}return i(m)}(S(Error)),Fr=function(u){c(m,u);var v=O(m);function m(f){var a;return r(this,m),a=v.call(this),a.writable=!1,On(w(a),f),a.opts=f,a.query=f.query,a.socket=f.socket,a}return i(m,[{key:"onError",value:function(a,l,y){return x(h(m.prototype),"emitReserved",this).call(this,"error",new Wl(a,l,y)),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}},{key:"send",value:function(a){this.readyState==="open"&&this.write(a)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,x(h(m.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(a){var l=te(a,this.socket.binaryType);this.onPacket(l)}},{key:"onPacket",value:function(a){x(h(m.prototype),"emitReserved",this).call(this,"packet",a)}},{key:"onClose",value:function(a){this.readyState="closed",x(h(m.prototype),"emitReserved",this).call(this,"close",a)}},{key:"pause",value:function(a){}},{key:"createUri",value:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a+"://"+this._hostname()+this._port()+this.opts.path+this._query(l)}},{key:"_hostname",value:function(){var a=this.opts.hostname;return a.indexOf(":")===-1?a:"["+a+"]"}},{key:"_port",value:function(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}},{key:"_query",value:function(a){var l=jl(a);return l.length?"?"+l:""}}]),m}(ce),Li="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ur=64,zl={},Pi=0,Tn=0,Bi;function $i(u){var v="";do v=Li[u%Ur]+v,u=Math.floor(u/Ur);while(u>0);return v}function Ii(){var u=$i(+new Date);return u!==Bi?(Pi=0,Bi=u):u+"."+$i(Pi++)}for(;Tn<Ur;Tn++)zl[Li[Tn]]=Tn;var Di=!1;try{Di=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Gl=Di;function Vi(u){var v=u.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!v||Gl))return new XMLHttpRequest}catch{}if(!v)try{return new Be[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function qg(){}function Kl(){}var Yl=function(){var u=new Vi({xdomain:!1});return u.responseType!=null}(),Jl=function(u){c(m,u);var v=O(m);function m(f){var a;if(r(this,m),a=v.call(this,f),a.polling=!1,typeof location<"u"){var l=location.protocol==="https:",y=location.port;y||(y=l?"443":"80"),a.xd=typeof location<"u"&&f.hostname!==location.hostname||y!==f.port}var k=f&&f.forceBase64;return a.supportsBinary=Yl&&!k,a.opts.withCredentials&&(a.cookieJar=void 0),a}return i(m,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(a){var l=this;this.readyState="pausing";var y=function(){l.readyState="paused",a()};if(this.polling||!this.writable){var k=0;this.polling&&(k++,this.once("pollComplete",function(){--k||y()})),this.writable||(k++,this.once("drain",function(){--k||y()}))}else y()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(a){var l=this,y=function(T){if(l.readyState==="opening"&&T.type==="open"&&l.onOpen(),T.type==="close")return l.onClose({description:"transport closed by the server"}),!1;l.onPacket(T)};Pe(a,this.socket.binaryType).forEach(y),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}},{key:"doClose",value:function(){var a=this,l=function(){a.write([{type:"close"}])};this.readyState==="open"?l():this.once("open",l)}},{key:"write",value:function(a){var l=this;this.writable=!1,Te(a,function(y){l.doWrite(y,function(){l.writable=!0,l.emitReserved("drain")})})}},{key:"uri",value:function(){var a=this.opts.secure?"https":"http",l=this.query||{};return this.opts.timestampRequests!==!1&&(l[this.opts.timestampParam]=Ii()),!this.supportsBinary&&!l.sid&&(l.b64=1),this.createUri(a,l)}},{key:"request",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o(a,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Rt(this.uri(),a)}},{key:"doWrite",value:function(a,l){var y=this,k=this.request({method:"POST",data:a});k.on("success",l),k.on("error",function(T,D){y.onError("xhr post error",T,D)})}},{key:"doPoll",value:function(){var a=this,l=this.request();l.on("data",this.onData.bind(this)),l.on("error",function(y,k){a.onError("xhr poll error",y,k)}),this.pollXhr=l}}]),m}(Fr),Rt=function(u){c(m,u);var v=O(m);function m(f,a){var l;return r(this,m),l=v.call(this),On(w(l),a),l.opts=a,l.method=a.method||"GET",l.uri=f,l.data=a.data!==void 0?a.data:null,l.create(),l}return i(m,[{key:"create",value:function(){var a=this,l,y=Ni(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");y.xdomain=!!this.opts.xd;var k=this.xhr=new Vi(y);try{k.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){k.setDisableHeaderCheck&&k.setDisableHeaderCheck(!0);for(var T in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(T)&&k.setRequestHeader(T,this.opts.extraHeaders[T])}}catch{}if(this.method==="POST")try{k.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{k.setRequestHeader("Accept","*/*")}catch{}(l=this.opts.cookieJar)===null||l===void 0||l.addCookies(k),"withCredentials"in k&&(k.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(k.timeout=this.opts.requestTimeout),k.onreadystatechange=function(){var D;k.readyState===3&&((D=a.opts.cookieJar)===null||D===void 0||D.parseCookies(k)),k.readyState===4&&(k.status===200||k.status===1223?a.onLoad():a.setTimeoutFn(function(){a.onError(typeof k.status=="number"?k.status:0)},0))},k.send(this.data)}catch(D){this.setTimeoutFn(function(){a.onError(D)},0);return}typeof document<"u"&&(this.index=m.requestsCount++,m.requests[this.index]=this)}},{key:"onError",value:function(a){this.emitReserved("error",a,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(a){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Kl,a)try{this.xhr.abort()}catch{}typeof document<"u"&&delete m.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var a=this.xhr.responseText;a!==null&&(this.emitReserved("data",a),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),m}(ce);if(Rt.requestsCount=0,Rt.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Fi);else if(typeof addEventListener=="function"){var Xl="onpagehide"in Be?"pagehide":"unload";addEventListener(Xl,Fi,!1)}}function Fi(){for(var u in Rt.requests)Rt.requests.hasOwnProperty(u)&&Rt.requests[u].abort()}var Mr=function(){var u=typeof Promise=="function"&&typeof Promise.resolve=="function";return u?function(v){return Promise.resolve().then(v)}:function(v,m){return m(v,0)}}(),Rn=Be.WebSocket||Be.MozWebSocket,Ui=!0,Ql="arraybuffer",Mi=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Zl=function(u){c(m,u);var v=O(m);function m(f){var a;return r(this,m),a=v.call(this,f),a.supportsBinary=!f.forceBase64,a}return i(m,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var a=this.uri(),l=this.opts.protocols,y=Mi?{}:Ni(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(y.headers=this.opts.extraHeaders);try{this.ws=Ui&&!Mi?l?new Rn(a,l):new Rn(a):new Rn(a,l,y)}catch(k){return this.emitReserved("error",k)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var a=this;this.ws.onopen=function(){a.opts.autoUnref&&a.ws._socket.unref(),a.onOpen()},this.ws.onclose=function(l){return a.onClose({description:"websocket connection closed",context:l})},this.ws.onmessage=function(l){return a.onData(l.data)},this.ws.onerror=function(l){return a.onError("websocket error",l)}}},{key:"write",value:function(a){var l=this;this.writable=!1;for(var y=function(){var D=a[k],H=k===a.length-1;z(D,l.supportsBinary,function(ne){try{Ui&&l.ws.send(ne)}catch{}H&&Mr(function(){l.writable=!0,l.emitReserved("drain")},l.setTimeoutFn)})},k=0;k<a.length;k++)y()}},{key:"doClose",value:function(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var a=this.opts.secure?"wss":"ws",l=this.query||{};return this.opts.timestampRequests&&(l[this.opts.timestampParam]=Ii()),this.supportsBinary||(l.b64=1),this.createUri(a,l)}},{key:"check",value:function(){return!!Rn}}]),m}(Fr),eu=function(u){c(m,u);var v=O(m);function m(){return r(this,m),v.apply(this,arguments)}return i(m,[{key:"name",get:function(){return"webtransport"}},{key:"doOpen",value:function(){var a=this;typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(function(){a.onClose()}).catch(function(l){a.onError("webtransport error",l)}),this.transport.ready.then(function(){a.transport.createBidirectionalStream().then(function(l){var y=He(Number.MAX_SAFE_INTEGER,a.socket.binaryType),k=l.readable.pipeThrough(y).getReader(),T=Me();T.readable.pipeTo(l.writable),a.writer=T.writable.getWriter();var D=function ne(){k.read().then(function(ee){var Oe=ee.done,Re=ee.value;Oe||(a.onPacket(Re),ne())}).catch(function(ee){})};D();var H={type:"open"};a.query.sid&&(H.data='{"sid":"'.concat(a.query.sid,'"}')),a.writer.write(H).then(function(){return a.onOpen()})})}))}},{key:"write",value:function(a){var l=this;this.writable=!1;for(var y=function(){var D=a[k],H=k===a.length-1;l.writer.write(D).then(function(){H&&Mr(function(){l.writable=!0,l.emitReserved("drain")},l.setTimeoutFn)})},k=0;k<a.length;k++)y()}},{key:"doClose",value:function(){var a;(a=this.transport)===null||a===void 0||a.close()}}]),m}(Fr),tu={websocket:Zl,webtransport:eu,polling:Jl},nu=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ru=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function qr(u){var v=u,m=u.indexOf("["),f=u.indexOf("]");m!=-1&&f!=-1&&(u=u.substring(0,m)+u.substring(m,f).replace(/:/g,";")+u.substring(f,u.length));for(var a=nu.exec(u||""),l={},y=14;y--;)l[ru[y]]=a[y]||"";return m!=-1&&f!=-1&&(l.source=v,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=su(l,l.path),l.queryKey=iu(l,l.query),l}function su(u,v){var m=/\/{2,9}/g,f=v.replace(m,"/").split("/");return(v.slice(0,1)=="/"||v.length===0)&&f.splice(0,1),v.slice(-1)=="/"&&f.splice(f.length-1,1),f}function iu(u,v){var m={};return v.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(f,a,l){a&&(m[a]=l)}),m}var jr=function(u){c(m,u);var v=O(m);function m(f){var a,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r(this,m),a=v.call(this),a.binaryType=Ql,a.writeBuffer=[],f&&n(f)==="object"&&(l=f,f=null),f?(f=qr(f),l.hostname=f.host,l.secure=f.protocol==="https"||f.protocol==="wss",l.port=f.port,f.query&&(l.query=f.query)):l.host&&(l.hostname=qr(l.host).host),On(w(a),l),a.secure=l.secure!=null?l.secure:typeof location<"u"&&location.protocol==="https:",l.hostname&&!l.port&&(l.port=a.secure?"443":"80"),a.hostname=l.hostname||(typeof location<"u"?location.hostname:"localhost"),a.port=l.port||(typeof location<"u"&&location.port?location.port:a.secure?"443":"80"),a.transports=l.transports||["polling","websocket","webtransport"],a.writeBuffer=[],a.prevBufferLen=0,a.opts=o({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},l),a.opts.path=a.opts.path.replace(/\/$/,"")+(a.opts.addTrailingSlash?"/":""),typeof a.opts.query=="string"&&(a.opts.query=Hl(a.opts.query)),a.id=null,a.upgrades=null,a.pingInterval=null,a.pingTimeout=null,a.pingTimeoutTimer=null,typeof addEventListener=="function"&&(a.opts.closeOnBeforeunload&&(a.beforeunloadEventListener=function(){a.transport&&(a.transport.removeAllListeners(),a.transport.close())},addEventListener("beforeunload",a.beforeunloadEventListener,!1)),a.hostname!=="localhost"&&(a.offlineEventListener=function(){a.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",a.offlineEventListener,!1))),a.open(),a}return i(m,[{key:"createTransport",value:function(a){var l=o({},this.opts.query);l.EIO=We,l.transport=a,this.id&&(l.sid=this.id);var y=o({},this.opts,{query:l,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[a]);return new tu[a](y)}},{key:"open",value:function(){var a=this,l;if(this.opts.rememberUpgrade&&m.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)l="websocket";else if(this.transports.length===0){this.setTimeoutFn(function(){a.emitReserved("error","No transports available")},0);return}else l=this.transports[0];this.readyState="opening";try{l=this.createTransport(l)}catch{this.transports.shift(),this.open();return}l.open(),this.setTransport(l)}},{key:"setTransport",value:function(a){var l=this;this.transport&&this.transport.removeAllListeners(),this.transport=a,a.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(y){return l.onClose("transport close",y)})}},{key:"probe",value:function(a){var l=this,y=this.createTransport(a),k=!1;m.priorWebsocketSuccess=!1;var T=function(){k||(y.send([{type:"ping",data:"probe"}]),y.once("packet",function(Pn){if(!k)if(Pn.type==="pong"&&Pn.data==="probe"){if(l.upgrading=!0,l.emitReserved("upgrading",y),!y)return;m.priorWebsocketSuccess=y.name==="websocket",l.transport.pause(function(){k||l.readyState!=="closed"&&(Re(),l.setTransport(y),y.send([{type:"upgrade"}]),l.emitReserved("upgrade",y),y=null,l.upgrading=!1,l.flush())})}else{var Yt=new Error("probe error");Yt.transport=y.name,l.emitReserved("upgradeError",Yt)}}))};function D(){k||(k=!0,Re(),y.close(),y=null)}var H=function(Pn){var Yt=new Error("probe error: "+Pn);Yt.transport=y.name,D(),l.emitReserved("upgradeError",Yt)};function ne(){H("transport closed")}function ee(){H("socket closed")}function Oe(Ln){y&&Ln.name!==y.name&&D()}var Re=function(){y.removeListener("open",T),y.removeListener("error",H),y.removeListener("close",ne),l.off("close",ee),l.off("upgrading",Oe)};y.once("open",T),y.once("error",H),y.once("close",ne),this.once("close",ee),this.once("upgrading",Oe),this.upgrades.indexOf("webtransport")!==-1&&a!=="webtransport"?this.setTimeoutFn(function(){k||y.open()},200):y.open()}},{key:"onOpen",value:function(){if(this.readyState="open",m.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade)for(var a=0,l=this.upgrades.length;a<l;a++)this.probe(this.upgrades[a])}},{key:"onPacket",value:function(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",a),this.emitReserved("heartbeat"),this.resetPingTimeout(),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var l=new Error("server error");l.code=a.data,this.onError(l);break;case"message":this.emitReserved("data",a.data),this.emitReserved("message",a.data);break}}},{key:"onHandshake",value:function(a){this.emitReserved("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.maxPayload=a.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var a=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){a.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var a=this.getWritablePackets();this.transport.send(a),this.prevBufferLen=a.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){var a=this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1;if(!a)return this.writeBuffer;for(var l=1,y=0;y<this.writeBuffer.length;y++){var k=this.writeBuffer[y].data;if(k&&(l+=Ml(k)),y>0&&l>this.maxPayload)return this.writeBuffer.slice(0,y);l+=2}return this.writeBuffer}},{key:"write",value:function(a,l,y){return this.sendPacket("message",a,l,y),this}},{key:"send",value:function(a,l,y){return this.sendPacket("message",a,l,y),this}},{key:"sendPacket",value:function(a,l,y,k){if(typeof l=="function"&&(k=l,l=void 0),typeof y=="function"&&(k=y,y=null),!(this.readyState==="closing"||this.readyState==="closed")){y=y||{},y.compress=y.compress!==!1;var T={type:a,data:l,options:y};this.emitReserved("packetCreate",T),this.writeBuffer.push(T),k&&this.once("flush",k),this.flush()}}},{key:"close",value:function(){var a=this,l=function(){a.onClose("forced close"),a.transport.close()},y=function T(){a.off("upgrade",T),a.off("upgradeError",T),l()},k=function(){a.once("upgrade",y),a.once("upgradeError",y)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){a.upgrading?k():l()}):this.upgrading?k():l()),this}},{key:"onError",value:function(a){m.priorWebsocketSuccess=!1,this.emitReserved("error",a),this.onClose("transport error",a)}},{key:"onClose",value:function(a,l){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",a,l),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(a){for(var l=[],y=0,k=a.length;y<k;y++)~this.transports.indexOf(a[y])&&l.push(a[y]);return l}}]),m}(ce);jr.protocol=We,jr.protocol;function ou(u){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",m=arguments.length>2?arguments[2]:void 0,f=u;m=m||typeof location<"u"&&location,u==null&&(u=m.protocol+"//"+m.host),typeof u=="string"&&(u.charAt(0)==="/"&&(u.charAt(1)==="/"?u=m.protocol+u:u=m.host+u),/^(https?|wss?):\/\//.test(u)||(typeof m<"u"?u=m.protocol+"//"+u:u="https://"+u),f=qr(u)),f.port||(/^(http|ws)$/.test(f.protocol)?f.port="80":/^(http|ws)s$/.test(f.protocol)&&(f.port="443")),f.path=f.path||"/";var a=f.host.indexOf(":")!==-1,l=a?"["+f.host+"]":f.host;return f.id=f.protocol+"://"+l+":"+f.port+v,f.href=f.protocol+"://"+l+(m&&m.port===f.port?"":":"+f.port),f}var au=typeof ArrayBuffer=="function",cu=function(v){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(v):v.buffer instanceof ArrayBuffer},qi=Object.prototype.toString,lu=typeof Blob=="function"||typeof Blob<"u"&&qi.call(Blob)==="[object BlobConstructor]",uu=typeof File=="function"||typeof File<"u"&&qi.call(File)==="[object FileConstructor]";function Hr(u){return au&&(u instanceof ArrayBuffer||cu(u))||lu&&u instanceof Blob||uu&&u instanceof File}function An(u,v){if(!u||n(u)!=="object")return!1;if(Array.isArray(u)){for(var m=0,f=u.length;m<f;m++)if(An(u[m]))return!0;return!1}if(Hr(u))return!0;if(u.toJSON&&typeof u.toJSON=="function"&&arguments.length===1)return An(u.toJSON(),!0);for(var a in u)if(Object.prototype.hasOwnProperty.call(u,a)&&An(u[a]))return!0;return!1}function fu(u){var v=[],m=u.data,f=u;return f.data=Wr(m,v),f.attachments=v.length,{packet:f,buffers:v}}function Wr(u,v){if(!u)return u;if(Hr(u)){var m={_placeholder:!0,num:v.length};return v.push(u),m}else if(Array.isArray(u)){for(var f=new Array(u.length),a=0;a<u.length;a++)f[a]=Wr(u[a],v);return f}else if(n(u)==="object"&&!(u instanceof Date)){var l={};for(var y in u)Object.prototype.hasOwnProperty.call(u,y)&&(l[y]=Wr(u[y],v));return l}return u}function hu(u,v){return u.data=zr(u.data,v),delete u.attachments,u}function zr(u,v){if(!u)return u;if(u&&u._placeholder===!0){var m=typeof u.num=="number"&&u.num>=0&&u.num<v.length;if(m)return v[u.num];throw new Error("illegal attachments")}else if(Array.isArray(u))for(var f=0;f<u.length;f++)u[f]=zr(u[f],v);else if(n(u)==="object")for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(u[a]=zr(u[a],v));return u}var du=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],pu=5,K;(function(u){u[u.CONNECT=0]="CONNECT",u[u.DISCONNECT=1]="DISCONNECT",u[u.EVENT=2]="EVENT",u[u.ACK=3]="ACK",u[u.CONNECT_ERROR=4]="CONNECT_ERROR",u[u.BINARY_EVENT=5]="BINARY_EVENT",u[u.BINARY_ACK=6]="BINARY_ACK"})(K||(K={}));var mu=function(){function u(v){r(this,u),this.replacer=v}return i(u,[{key:"encode",value:function(m){return(m.type===K.EVENT||m.type===K.ACK)&&An(m)?this.encodeAsBinary({type:m.type===K.EVENT?K.BINARY_EVENT:K.BINARY_ACK,nsp:m.nsp,data:m.data,id:m.id}):[this.encodeAsString(m)]}},{key:"encodeAsString",value:function(m){var f=""+m.type;return(m.type===K.BINARY_EVENT||m.type===K.BINARY_ACK)&&(f+=m.attachments+"-"),m.nsp&&m.nsp!=="/"&&(f+=m.nsp+","),m.id!=null&&(f+=m.id),m.data!=null&&(f+=JSON.stringify(m.data,this.replacer)),f}},{key:"encodeAsBinary",value:function(m){var f=fu(m),a=this.encodeAsString(f.packet),l=f.buffers;return l.unshift(a),l}}]),u}();function ji(u){return Object.prototype.toString.call(u)==="[object Object]"}var vu=function(u){c(m,u);var v=O(m);function m(f){var a;return r(this,m),a=v.call(this),a.reviver=f,a}return i(m,[{key:"add",value:function(a){var l;if(typeof a=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");l=this.decodeString(a);var y=l.type===K.BINARY_EVENT;y||l.type===K.BINARY_ACK?(l.type=y?K.EVENT:K.ACK,this.reconstructor=new yu(l),l.attachments===0&&x(h(m.prototype),"emitReserved",this).call(this,"decoded",l)):x(h(m.prototype),"emitReserved",this).call(this,"decoded",l)}else if(Hr(a)||a.base64)if(this.reconstructor)l=this.reconstructor.takeBinaryData(a),l&&(this.reconstructor=null,x(h(m.prototype),"emitReserved",this).call(this,"decoded",l));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+a)}},{key:"decodeString",value:function(a){var l=0,y={type:Number(a.charAt(0))};if(K[y.type]===void 0)throw new Error("unknown packet type "+y.type);if(y.type===K.BINARY_EVENT||y.type===K.BINARY_ACK){for(var k=l+1;a.charAt(++l)!=="-"&&l!=a.length;);var T=a.substring(k,l);if(T!=Number(T)||a.charAt(l)!=="-")throw new Error("Illegal attachments");y.attachments=Number(T)}if(a.charAt(l+1)==="/"){for(var D=l+1;++l;){var H=a.charAt(l);if(H===","||l===a.length)break}y.nsp=a.substring(D,l)}else y.nsp="/";var ne=a.charAt(l+1);if(ne!==""&&Number(ne)==ne){for(var ee=l+1;++l;){var Oe=a.charAt(l);if(Oe==null||Number(Oe)!=Oe){--l;break}if(l===a.length)break}y.id=Number(a.substring(ee,l+1))}if(a.charAt(++l)){var Re=this.tryParse(a.substr(l));if(m.isPayloadValid(y.type,Re))y.data=Re;else throw new Error("invalid payload")}return y}},{key:"tryParse",value:function(a){try{return JSON.parse(a,this.reviver)}catch{return!1}}},{key:"destroy",value:function(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}],[{key:"isPayloadValid",value:function(a,l){switch(a){case K.CONNECT:return ji(l);case K.DISCONNECT:return l===void 0;case K.CONNECT_ERROR:return typeof l=="string"||ji(l);case K.EVENT:case K.BINARY_EVENT:return Array.isArray(l)&&(typeof l[0]=="number"||typeof l[0]=="string"&&du.indexOf(l[0])===-1);case K.ACK:case K.BINARY_ACK:return Array.isArray(l)}}}]),m}(ce),yu=function(){function u(v){r(this,u),this.packet=v,this.buffers=[],this.reconPack=v}return i(u,[{key:"takeBinaryData",value:function(m){if(this.buffers.push(m),this.buffers.length===this.reconPack.attachments){var f=hu(this.reconPack,this.buffers);return this.finishedReconstruction(),f}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),u}(),gu=Object.freeze({__proto__:null,protocol:pu,get PacketType(){return K},Encoder:mu,Decoder:vu});function qe(u,v,m){return u.on(v,m),function(){u.off(v,m)}}var bu=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Hi=function(u){c(m,u);var v=O(m);function m(f,a,l){var y;return r(this,m),y=v.call(this),y.connected=!1,y.recovered=!1,y.receiveBuffer=[],y.sendBuffer=[],y._queue=[],y._queueSeq=0,y.ids=0,y.acks={},y.flags={},y.io=f,y.nsp=a,l&&l.auth&&(y.auth=l.auth),y._opts=o({},l),y.io._autoConnect&&y.open(),y}return i(m,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var a=this.io;this.subs=[qe(a,"open",this.onopen.bind(this)),qe(a,"packet",this.onpacket.bind(this)),qe(a,"error",this.onerror.bind(this)),qe(a,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var a=arguments.length,l=new Array(a),y=0;y<a;y++)l[y]=arguments[y];return l.unshift("message"),this.emit.apply(this,l),this}},{key:"emit",value:function(a){if(bu.hasOwnProperty(a))throw new Error('"'+a.toString()+'" is a reserved event name');for(var l=arguments.length,y=new Array(l>1?l-1:0),k=1;k<l;k++)y[k-1]=arguments[k];if(y.unshift(a),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(y),this;var T={type:K.EVENT,data:y};if(T.options={},T.options.compress=this.flags.compress!==!1,typeof y[y.length-1]=="function"){var D=this.ids++,H=y.pop();this._registerAckCallback(D,H),T.id=D}var ne=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,ee=this.flags.volatile&&(!ne||!this.connected);return ee||(this.connected?(this.notifyOutgoingListeners(T),this.packet(T)):this.sendBuffer.push(T)),this.flags={},this}},{key:"_registerAckCallback",value:function(a,l){var y=this,k,T=(k=this.flags.timeout)!==null&&k!==void 0?k:this._opts.ackTimeout;if(T===void 0){this.acks[a]=l;return}var D=this.io.setTimeoutFn(function(){delete y.acks[a];for(var H=0;H<y.sendBuffer.length;H++)y.sendBuffer[H].id===a&&y.sendBuffer.splice(H,1);l.call(y,new Error("operation has timed out"))},T);this.acks[a]=function(){y.io.clearTimeoutFn(D);for(var H=arguments.length,ne=new Array(H),ee=0;ee<H;ee++)ne[ee]=arguments[ee];l.apply(y,[null].concat(ne))}}},{key:"emitWithAck",value:function(a){for(var l=this,y=arguments.length,k=new Array(y>1?y-1:0),T=1;T<y;T++)k[T-1]=arguments[T];var D=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise(function(H,ne){k.push(function(ee,Oe){return D?ee?ne(ee):H(Oe):H(ee)}),l.emit.apply(l,[a].concat(k))})}},{key:"_addToQueue",value:function(a){var l=this,y;typeof a[a.length-1]=="function"&&(y=a.pop());var k={id:this._queueSeq++,tryCount:0,pending:!1,args:a,flags:o({fromQueue:!0},this.flags)};a.push(function(T){if(k===l._queue[0]){var D=T!==null;if(D)k.tryCount>l._opts.retries&&(l._queue.shift(),y&&y(T));else if(l._queue.shift(),y){for(var H=arguments.length,ne=new Array(H>1?H-1:0),ee=1;ee<H;ee++)ne[ee-1]=arguments[ee];y.apply(void 0,[null].concat(ne))}return k.pending=!1,l._drainQueue()}}),this._queue.push(k),this._drainQueue()}},{key:"_drainQueue",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!this.connected||this._queue.length===0)){var l=this._queue[0];l.pending&&!a||(l.pending=!0,l.tryCount++,this.flags=l.flags,this.emit.apply(this,l.args))}}},{key:"packet",value:function(a){a.nsp=this.nsp,this.io._packet(a)}},{key:"onopen",value:function(){var a=this;typeof this.auth=="function"?this.auth(function(l){a._sendConnectPacket(l)}):this._sendConnectPacket(this.auth)}},{key:"_sendConnectPacket",value:function(a){this.packet({type:K.CONNECT,data:this._pid?o({pid:this._pid,offset:this._lastOffset},a):a})}},{key:"onerror",value:function(a){this.connected||this.emitReserved("connect_error",a)}},{key:"onclose",value:function(a,l){this.connected=!1,delete this.id,this.emitReserved("disconnect",a,l)}},{key:"onpacket",value:function(a){var l=a.nsp===this.nsp;if(l)switch(a.type){case K.CONNECT:a.data&&a.data.sid?this.onconnect(a.data.sid,a.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case K.EVENT:case K.BINARY_EVENT:this.onevent(a);break;case K.ACK:case K.BINARY_ACK:this.onack(a);break;case K.DISCONNECT:this.ondisconnect();break;case K.CONNECT_ERROR:this.destroy();var y=new Error(a.data.message);y.data=a.data.data,this.emitReserved("connect_error",y);break}}},{key:"onevent",value:function(a){var l=a.data||[];a.id!=null&&l.push(this.ack(a.id)),this.connected?this.emitEvent(l):this.receiveBuffer.push(Object.freeze(l))}},{key:"emitEvent",value:function(a){if(this._anyListeners&&this._anyListeners.length){var l=this._anyListeners.slice(),y=B(l),k;try{for(y.s();!(k=y.n()).done;){var T=k.value;T.apply(this,a)}}catch(D){y.e(D)}finally{y.f()}}x(h(m.prototype),"emit",this).apply(this,a),this._pid&&a.length&&typeof a[a.length-1]=="string"&&(this._lastOffset=a[a.length-1])}},{key:"ack",value:function(a){var l=this,y=!1;return function(){if(!y){y=!0;for(var k=arguments.length,T=new Array(k),D=0;D<k;D++)T[D]=arguments[D];l.packet({type:K.ACK,id:a,data:T})}}}},{key:"onack",value:function(a){var l=this.acks[a.id];typeof l=="function"&&(l.apply(this,a.data),delete this.acks[a.id])}},{key:"onconnect",value:function(a,l){this.id=a,this.recovered=l&&this._pid===l,this._pid=l,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}},{key:"emitBuffered",value:function(){var a=this;this.receiveBuffer.forEach(function(l){return a.emitEvent(l)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(l){a.notifyOutgoingListeners(l),a.packet(l)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach(function(a){return a()}),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:K.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(a){return this.flags.compress=a,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(a){return this.flags.timeout=a,this}},{key:"onAny",value:function(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(a),this}},{key:"prependAny",value:function(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(a),this}},{key:"offAny",value:function(a){if(!this._anyListeners)return this;if(a){for(var l=this._anyListeners,y=0;y<l.length;y++)if(a===l[y])return l.splice(y,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(a),this}},{key:"prependAnyOutgoing",value:function(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(a),this}},{key:"offAnyOutgoing",value:function(a){if(!this._anyOutgoingListeners)return this;if(a){for(var l=this._anyOutgoingListeners,y=0;y<l.length;y++)if(a===l[y])return l.splice(y,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(a){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var l=this._anyOutgoingListeners.slice(),y=B(l),k;try{for(y.s();!(k=y.n()).done;){var T=k.value;T.apply(this,a.data)}}catch(D){y.e(D)}finally{y.f()}}}}]),m}(ce);function At(u){u=u||{},this.ms=u.min||100,this.max=u.max||1e4,this.factor=u.factor||2,this.jitter=u.jitter>0&&u.jitter<=1?u.jitter:0,this.attempts=0}At.prototype.duration=function(){var u=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var v=Math.random(),m=Math.floor(v*this.jitter*u);u=Math.floor(v*10)&1?u+m:u-m}return Math.min(u,this.max)|0},At.prototype.reset=function(){this.attempts=0},At.prototype.setMin=function(u){this.ms=u},At.prototype.setMax=function(u){this.max=u},At.prototype.setJitter=function(u){this.jitter=u};var Gr=function(u){c(m,u);var v=O(m);function m(f,a){var l;r(this,m);var y;l=v.call(this),l.nsps={},l.subs=[],f&&n(f)==="object"&&(a=f,f=void 0),a=a||{},a.path=a.path||"/socket.io",l.opts=a,On(w(l),a),l.reconnection(a.reconnection!==!1),l.reconnectionAttempts(a.reconnectionAttempts||1/0),l.reconnectionDelay(a.reconnectionDelay||1e3),l.reconnectionDelayMax(a.reconnectionDelayMax||5e3),l.randomizationFactor((y=a.randomizationFactor)!==null&&y!==void 0?y:.5),l.backoff=new At({min:l.reconnectionDelay(),max:l.reconnectionDelayMax(),jitter:l.randomizationFactor()}),l.timeout(a.timeout==null?2e4:a.timeout),l._readyState="closed",l.uri=f;var k=a.parser||gu;return l.encoder=new k.Encoder,l.decoder=new k.Decoder,l._autoConnect=a.autoConnect!==!1,l._autoConnect&&l.open(),l}return i(m,[{key:"reconnection",value:function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection}},{key:"reconnectionAttempts",value:function(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)}},{key:"reconnectionDelay",value:function(a){var l;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(l=this.backoff)===null||l===void 0||l.setMin(a),this)}},{key:"randomizationFactor",value:function(a){var l;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(l=this.backoff)===null||l===void 0||l.setJitter(a),this)}},{key:"reconnectionDelayMax",value:function(a){var l;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(l=this.backoff)===null||l===void 0||l.setMax(a),this)}},{key:"timeout",value:function(a){return arguments.length?(this._timeout=a,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}},{key:"open",value:function(a){var l=this;if(~this._readyState.indexOf("open"))return this;this.engine=new jr(this.uri,this.opts);var y=this.engine,k=this;this._readyState="opening",this.skipReconnect=!1;var T=qe(y,"open",function(){k.onopen(),a&&a()}),D=function(Re){l.cleanup(),l._readyState="closed",l.emitReserved("error",Re),a?a(Re):l.maybeReconnectOnOpen()},H=qe(y,"error",D);if(this._timeout!==!1){var ne=this._timeout,ee=this.setTimeoutFn(function(){T(),D(new Error("timeout")),y.close()},ne);this.opts.autoUnref&&ee.unref(),this.subs.push(function(){l.clearTimeoutFn(ee)})}return this.subs.push(T),this.subs.push(H),this}},{key:"connect",value:function(a){return this.open(a)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var a=this.engine;this.subs.push(qe(a,"ping",this.onping.bind(this)),qe(a,"data",this.ondata.bind(this)),qe(a,"error",this.onerror.bind(this)),qe(a,"close",this.onclose.bind(this)),qe(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(a){try{this.decoder.add(a)}catch(l){this.onclose("parse error",l)}}},{key:"ondecoded",value:function(a){var l=this;Mr(function(){l.emitReserved("packet",a)},this.setTimeoutFn)}},{key:"onerror",value:function(a){this.emitReserved("error",a)}},{key:"socket",value:function(a,l){var y=this.nsps[a];return y?this._autoConnect&&!y.active&&y.connect():(y=new Hi(this,a,l),this.nsps[a]=y),y}},{key:"_destroy",value:function(a){for(var l=Object.keys(this.nsps),y=0,k=l;y<k.length;y++){var T=k[y],D=this.nsps[T];if(D.active)return}this._close()}},{key:"_packet",value:function(a){for(var l=this.encoder.encode(a),y=0;y<l.length;y++)this.engine.write(l[y],a.options)}},{key:"cleanup",value:function(){this.subs.forEach(function(a){return a()}),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(a,l){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a,l),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var a=this;if(this._reconnecting||this.skipReconnect)return this;var l=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var y=this.backoff.duration();this._reconnecting=!0;var k=this.setTimeoutFn(function(){l.skipReconnect||(a.emitReserved("reconnect_attempt",l.backoff.attempts),!l.skipReconnect&&l.open(function(T){T?(l._reconnecting=!1,l.reconnect(),a.emitReserved("reconnect_error",T)):l.onreconnect()}))},y);this.opts.autoUnref&&k.unref(),this.subs.push(function(){a.clearTimeoutFn(k)})}}},{key:"onreconnect",value:function(){var a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)}}]),m}(ce),Kt={};function Nn(u,v){n(u)==="object"&&(v=u,u=void 0),v=v||{};var m=ou(u,v.path||"/socket.io"),f=m.source,a=m.id,l=m.path,y=Kt[a]&&l in Kt[a].nsps,k=v.forceNew||v["force new connection"]||v.multiplex===!1||y,T;return k?T=new Gr(f,v):(Kt[a]||(Kt[a]=new Gr(f,v)),T=Kt[a]),m.query&&!v.query&&(v.query=m.queryKey),T.socket(m.path,v)}return o(Nn,{Manager:Gr,Socket:Hi,io:Nn,connect:Nn}),Nn})})(tc);var Df=tc.exports;const se={};var _t={},rr={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */rr.exports;(function(e,t){(function(n){var r=t&&!t.nodeType&&t,s=e&&!e.nodeType&&e,i=typeof globalThis=="object"&&globalThis;(i.global===i||i.window===i||i.self===i)&&(n=i);var o,c=2147483647,h=36,d=1,p=26,g=38,b=700,S=72,w=128,E="-",O=/^xn--/,N=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=h-d,B=Math.floor,V=String.fromCharCode,M;function P(L){throw RangeError(_[L])}function I(L,$){for(var q=L.length,J=[];q--;)J[q]=$(L[q]);return J}function Y(L,$){var q=L.split("@"),J="";q.length>1&&(J=q[0]+"@",L=q[1]),L=L.replace(x,".");var te=L.split("."),ye=I(te,$).join(".");return J+ye}function W(L){for(var $=[],q=0,J=L.length,te,ye;q<J;)te=L.charCodeAt(q++),te>=55296&&te<=56319&&q<J?(ye=L.charCodeAt(q++),(ye&64512)==56320?$.push(((te&1023)<<10)+(ye&1023)+65536):($.push(te),q--)):$.push(te);return $}function F(L){return I(L,function($){var q="";return $>65535&&($-=65536,q+=V($>>>10&1023|55296),$=56320|$&1023),q+=V($),q}).join("")}function U(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:h}function z(L,$){return L+22+75*(L<26)-(($!=0)<<5)}function ae(L,$,q){var J=0;for(L=q?B(L/b):L>>1,L+=B(L/$);L>R*p>>1;J+=h)L=B(L/R);return B(J+(R+1)*L/(L+g))}function oe(L){var $=[],q=L.length,J,te=0,ye=w,fe=S,we,Te,Pe,Me,he,ge,Ee,He,We;for(we=L.lastIndexOf(E),we<0&&(we=0),Te=0;Te<we;++Te)L.charCodeAt(Te)>=128&&P("not-basic"),$.push(L.charCodeAt(Te));for(Pe=we>0?we+1:0;Pe<q;){for(Me=te,he=1,ge=h;Pe>=q&&P("invalid-input"),Ee=U(L.charCodeAt(Pe++)),(Ee>=h||Ee>B((c-te)/he))&&P("overflow"),te+=Ee*he,He=ge<=fe?d:ge>=fe+p?p:ge-fe,!(Ee<He);ge+=h)We=h-He,he>B(c/We)&&P("overflow"),he*=We;J=$.length+1,fe=ae(te-Me,J,Me==0),B(te/J)>c-ye&&P("overflow"),ye+=B(te/J),te%=J,$.splice(te++,0,ye)}return F($)}function ue(L){var $,q,J,te,ye,fe,we,Te,Pe,Me,he,ge=[],Ee,He,We,ce;for(L=W(L),Ee=L.length,$=w,q=0,ye=S,fe=0;fe<Ee;++fe)he=L[fe],he<128&&ge.push(V(he));for(J=te=ge.length,te&&ge.push(E);J<Ee;){for(we=c,fe=0;fe<Ee;++fe)he=L[fe],he>=$&&he<we&&(we=he);for(He=J+1,we-$>B((c-q)/He)&&P("overflow"),q+=(we-$)*He,$=we,fe=0;fe<Ee;++fe)if(he=L[fe],he<$&&++q>c&&P("overflow"),he==$){for(Te=q,Pe=h;Me=Pe<=ye?d:Pe>=ye+p?p:Pe-ye,!(Te<Me);Pe+=h)ce=Te-Me,We=h-Me,ge.push(V(z(Me+ce%We,0))),Te=B(ce/We);ge.push(V(z(Te,0))),ye=ae(q,He,J==te),q=0,++J}++q,++$}return ge.join("")}function le(L){return Y(L,function($){return O.test($)?oe($.slice(4).toLowerCase()):$})}function re(L){return Y(L,function($){return N.test($)?"xn--"+ue($):$})}if(o={version:"1.3.2",ucs2:{decode:W,encode:F},decode:oe,encode:ue,toASCII:re,toUnicode:le},r&&s)if(e.exports==r)s.exports=o;else for(M in o)o.hasOwnProperty(M)&&(r[M]=o[M]);else n.punycode=o})(ec)})(rr,rr.exports);var Vf=rr.exports,Ff={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},mn={};function Uf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Mf=function(e,t,n,r){t=t||"&",n=n||"=";var s={};if(typeof e!="string"||e.length===0)return s;var i=/\+/g;e=e.split(t);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var c=e.length;o>0&&c>o&&(c=o);for(var h=0;h<c;++h){var d=e[h].replace(i,"%20"),p=d.indexOf(n),g,b,S,w;p>=0?(g=d.substr(0,p),b=d.substr(p+1)):(g=d,b=""),S=decodeURIComponent(g),w=decodeURIComponent(b),Uf(s,S)?Array.isArray(s[S])?s[S].push(w):s[S]=[s[S],w]:s[S]=w}return s},Xt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},qf=function(e,t,n,r){return t=t||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(s){var i=encodeURIComponent(Xt(s))+n;return Array.isArray(e[s])?e[s].map(function(o){return i+encodeURIComponent(Xt(o))}).join(t):i+encodeURIComponent(Xt(e[s]))}).join(t):r?encodeURIComponent(Xt(r))+n+encodeURIComponent(Xt(e)):""};mn.decode=mn.parse=Mf;mn.encode=mn.stringify=qf;var jf=Vf,Ke=Ff;_t.parse=En;_t.resolve=Zf;_t.resolveObject=eh;_t.format=Qf;_t.Url=Fe;function Fe(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Hf=/^([a-z0-9.+-]+:)/i,Wf=/:[0-9]*$/,zf=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Gf=["<",">",'"',"`"," ","\r",`
`,"	"],Kf=["{","}","|","\\","^","`"].concat(Gf),Ps=["'"].concat(Kf),no=["%","/","?",";","#"].concat(Ps),ro=["/","?","#"],Yf=255,so=/^[+a-z0-9A-Z_-]{0,63}$/,Jf=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Xf={javascript:!0,"javascript:":!0},Bs={javascript:!0,"javascript:":!0},Ft={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},$s=mn;function En(e,t,n){if(e&&Ke.isObject(e)&&e instanceof Fe)return e;var r=new Fe;return r.parse(e,t,n),r}Fe.prototype.parse=function(e,t,n){if(!Ke.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),s=r!==-1&&r<e.indexOf("#")?"?":"#",i=e.split(s),o=/\\/g;i[0]=i[0].replace(o,"/"),e=i.join(s);var c=e;if(c=c.trim(),!n&&e.split("#").length===1){var h=zf.exec(c);if(h)return this.path=c,this.href=c,this.pathname=h[1],h[2]?(this.search=h[2],t?this.query=$s.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=Hf.exec(c);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,c=c.substr(d.length)}if(n||d||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var g=c.substr(0,2)==="//";g&&!(d&&Bs[d])&&(c=c.substr(2),this.slashes=!0)}if(!Bs[d]&&(g||d&&!Ft[d])){for(var b=-1,S=0;S<ro.length;S++){var w=c.indexOf(ro[S]);w!==-1&&(b===-1||w<b)&&(b=w)}var E,O;b===-1?O=c.lastIndexOf("@"):O=c.lastIndexOf("@",b),O!==-1&&(E=c.slice(0,O),c=c.slice(O+1),this.auth=decodeURIComponent(E)),b=-1;for(var S=0;S<no.length;S++){var w=c.indexOf(no[S]);w!==-1&&(b===-1||w<b)&&(b=w)}b===-1&&(b=c.length),this.host=c.slice(0,b),c=c.slice(b),this.parseHost(),this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N)for(var x=this.hostname.split(/\./),S=0,_=x.length;S<_;S++){var R=x[S];if(R&&!R.match(so)){for(var B="",V=0,M=R.length;V<M;V++)R.charCodeAt(V)>127?B+="x":B+=R[V];if(!B.match(so)){var P=x.slice(0,S),I=x.slice(S+1),Y=R.match(Jf);Y&&(P.push(Y[1]),I.unshift(Y[2])),I.length&&(c="/"+I.join(".")+c),this.hostname=P.join(".");break}}}this.hostname.length>Yf?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=jf.toASCII(this.hostname));var W=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+W,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),c[0]!=="/"&&(c="/"+c))}if(!Xf[p])for(var S=0,_=Ps.length;S<_;S++){var U=Ps[S];if(c.indexOf(U)!==-1){var z=encodeURIComponent(U);z===U&&(z=escape(U)),c=c.split(U).join(z)}}var ae=c.indexOf("#");ae!==-1&&(this.hash=c.substr(ae),c=c.slice(0,ae));var oe=c.indexOf("?");if(oe!==-1?(this.search=c.substr(oe),this.query=c.substr(oe+1),t&&(this.query=$s.parse(this.query)),c=c.slice(0,oe)):t&&(this.search="",this.query={}),c&&(this.pathname=c),Ft[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var W=this.pathname||"",ue=this.search||"";this.path=W+ue}return this.href=this.format(),this};function Qf(e){return Ke.isString(e)&&(e=En(e)),e instanceof Fe?e.format():Fe.prototype.format.call(e)}Fe.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",s=!1,i="";this.host?s=e+this.host:this.hostname&&(s=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&Ke.isObject(this.query)&&Object.keys(this.query).length&&(i=$s.stringify(this.query));var o=this.search||i&&"?"+i||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Ft[t])&&s!==!1?(s="//"+(s||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):s||(s=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(c){return encodeURIComponent(c)}),o=o.replace("#","%23"),t+s+n+o+r};function Zf(e,t){return En(e,!1,!0).resolve(t)}Fe.prototype.resolve=function(e){return this.resolveObject(En(e,!1,!0)).format()};function eh(e,t){return e?En(e,!1,!0).resolveObject(t):t}Fe.prototype.resolveObject=function(e){if(Ke.isString(e)){var t=new Fe;t.parse(e,!1,!0),e=t}for(var n=new Fe,r=Object.keys(this),s=0;s<r.length;s++){var i=r[s];n[i]=this[i]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),c=0;c<o.length;c++){var h=o[c];h!=="protocol"&&(n[h]=e[h])}return Ft[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Ft[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var g=d[p];n[g]=e[g]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!Bs[e.protocol]){for(var _=(e.pathname||"").split("/");_.length&&!(e.host=_.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),_[0]!==""&&_.unshift(""),_.length<2&&_.unshift(""),n.pathname=_.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var b=n.pathname||"",S=n.search||"";n.path=b+S}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var w=n.pathname&&n.pathname.charAt(0)==="/",E=e.host||e.pathname&&e.pathname.charAt(0)==="/",O=E||w||n.host&&e.pathname,N=O,x=n.pathname&&n.pathname.split("/")||[],_=e.pathname&&e.pathname.split("/")||[],R=n.protocol&&!Ft[n.protocol];if(R&&(n.hostname="",n.port=null,n.host&&(x[0]===""?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(_[0]===""?_[0]=e.host:_.unshift(e.host)),e.host=null),O=O&&(_[0]===""||x[0]==="")),E)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=_;else if(_.length)x||(x=[]),x.pop(),x=x.concat(_),n.search=e.search,n.query=e.query;else if(!Ke.isNullOrUndefined(e.search)){if(R){n.hostname=n.host=x.shift();var B=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;B&&(n.auth=B.shift(),n.host=n.hostname=B.shift())}return n.search=e.search,n.query=e.query,(!Ke.isNull(n.pathname)||!Ke.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var V=x.slice(-1)[0],M=(n.host||e.host||x.length>1)&&(V==="."||V==="..")||V==="",P=0,I=x.length;I>=0;I--)V=x[I],V==="."?x.splice(I,1):V===".."?(x.splice(I,1),P++):P&&(x.splice(I,1),P--);if(!O&&!N)for(;P--;P)x.unshift("..");O&&x[0]!==""&&(!x[0]||x[0].charAt(0)!=="/")&&x.unshift(""),M&&x.join("/").substr(-1)!=="/"&&x.push("");var Y=x[0]===""||x[0]&&x[0].charAt(0)==="/";if(R){n.hostname=n.host=Y?"":x.length?x.shift():"";var B=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;B&&(n.auth=B.shift(),n.host=n.hostname=B.shift())}return O=O||n.host&&x.length,O&&!Y&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),(!Ke.isNull(n.pathname)||!Ke.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};Fe.prototype.parseHost=function(){var e=this.host,t=Wf.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var ai={exports:{}},Ut=typeof Reflect=="object"?Reflect:null,io=Ut&&typeof Ut.apply=="function"?Ut.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Wn;Ut&&typeof Ut.ownKeys=="function"?Wn=Ut.ownKeys:Object.getOwnPropertySymbols?Wn=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Wn=function(t){return Object.getOwnPropertyNames(t)};function th(e){console&&console.warn&&console.warn(e)}var nc=Number.isNaN||function(t){return t!==t};function ie(){ie.init.call(this)}ai.exports=ie;ai.exports.once=ih;ie.EventEmitter=ie;ie.prototype._events=void 0;ie.prototype._eventsCount=0;ie.prototype._maxListeners=void 0;var oo=10;function _r(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ie,"defaultMaxListeners",{enumerable:!0,get:function(){return oo},set:function(e){if(typeof e!="number"||e<0||nc(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");oo=e}});ie.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ie.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||nc(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function rc(e){return e._maxListeners===void 0?ie.defaultMaxListeners:e._maxListeners}ie.prototype.getMaxListeners=function(){return rc(this)};ie.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var c=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw c.context=o,c}var h=i[t];if(h===void 0)return!1;if(typeof h=="function")io(h,this,n);else for(var d=h.length,p=cc(h,d),r=0;r<d;++r)io(p[r],this,n);return!0};function sc(e,t,n,r){var s,i,o;if(_r(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=rc(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,th(c)}return e}ie.prototype.addListener=function(t,n){return sc(this,t,n,!1)};ie.prototype.on=ie.prototype.addListener;ie.prototype.prependListener=function(t,n){return sc(this,t,n,!0)};function nh(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ic(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=nh.bind(r);return s.listener=n,r.wrapFn=s,s}ie.prototype.once=function(t,n){return _r(n),this.on(t,ic(this,t,n)),this};ie.prototype.prependOnceListener=function(t,n){return _r(n),this.prependListener(t,ic(this,t,n)),this};ie.prototype.removeListener=function(t,n){var r,s,i,o,c;if(_r(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){c=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():rh(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,c||n)}return this};ie.prototype.off=ie.prototype.removeListener;ie.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function oc(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?sh(s):cc(s,s.length)}ie.prototype.listeners=function(t){return oc(this,t,!0)};ie.prototype.rawListeners=function(t){return oc(this,t,!1)};ie.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):ac.call(e,t)};ie.prototype.listenerCount=ac;function ac(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}ie.prototype.eventNames=function(){return this._eventsCount>0?Wn(this._events):[]};function cc(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function rh(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function sh(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function ih(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}lc(e,t,i,{once:!0}),t!=="error"&&oh(e,s,{once:!0})})}function oh(e,t,n){typeof e.on=="function"&&lc(e,"error",t,n)}function lc(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var ah=ai.exports;const uc=If(ah),{defineComponent:fc,openBlock:zn,createElementBlock:Gn,Fragment:ch,renderList:lh,createElementVNode:dt,createTextVNode:hc,toDisplayString:ao}=await A("vue");function uh(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var fh=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hh=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Is=function(t){var n=t,r=t.indexOf("["),s=t.indexOf("]");r!=-1&&s!=-1&&(t=t.substring(0,r)+t.substring(r,s).replace(/:/g,";")+t.substring(s,t.length));for(var i=fh.exec(t||""),o={},c=14;c--;)o[hh[c]]=i[c]||"";return r!=-1&&s!=-1&&(o.source=n,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=dh(o,o.path),o.queryKey=ph(o,o.query),o};function dh(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&r.splice(0,1),t.substr(t.length-1,1)=="/"&&r.splice(r.length-1,1),r}function ph(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}function mh(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Is(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}/**
 * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.
 *
 * This can be used with JS designed for browsers to improve reuse of code and
 * allow the use of existing libraries.
 *
 * Usage: include("XMLHttpRequest.js") and use XMLHttpRequest per W3C specs.
 *
 * @author Dan DeFelippi <dan@driverdan.com>
 * @contributor David Ellis <d.f.ellis@ieee.org>
 * @license MIT
 */var vh=se.spawn,Kn=Ds;Ds.XMLHttpRequest=Ds;function Ds(e){e=e||{};var t=this,n=se,r=se,s,i,o={},c=!1,h={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},d=Object.assign({},h),p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],g=["TRACE","TRACK","CONNECT"],b=!1,S=!1,w=!1,E={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var O=function(_){return c||_&&p.indexOf(_.toLowerCase())===-1},N=function(_){return _&&g.indexOf(_)===-1};this.open=function(_,R,B,V,M){if(this.abort(),S=!1,w=!1,!N(_))throw new Error("SecurityError: Request method not allowed");o={method:_,url:R.toString(),async:typeof B!="boolean"?!0:B,user:V||null,password:M||null},x(this.OPENED)},this.setDisableHeaderCheck=function(_){c=_},this.setRequestHeader=function(_,R){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!O(_))return console.warn('Refused to set unsafe header "'+_+'"'),!1;if(b)throw new Error("INVALID_STATE_ERR: send flag is true");return d[_]=R,!0},this.getResponseHeader=function(_){return typeof _=="string"&&this.readyState>this.OPENED&&i.headers[_.toLowerCase()]&&!S?i.headers[_.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||S)return"";var _="";for(var R in i.headers)R!=="set-cookie"&&R!=="set-cookie2"&&(_+=R+": "+i.headers[R]+`\r
`);return _.substr(0,_.length-2)},this.getRequestHeader=function(_){return typeof _=="string"&&d[_]?d[_]:""},this.send=function(_){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(b)throw new Error("INVALID_STATE_ERR: send has already been called");var R=!1,B=!1,V=_t.parse(o.url),M;switch(V.protocol){case"https:":R=!0;case"http:":M=V.hostname;break;case"file:":B=!0;break;case void 0:case"":M="localhost";break;default:throw new Error("Protocol not supported.")}if(B){if(o.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(o.async)se.readFile(unescape(V.pathname),"utf8",function($,q){$?t.handleError($,$.errno||-1):(t.status=200,t.responseText=q,x(t.DONE))});else try{this.responseText=se.readFileSync(unescape(V.pathname),"utf8"),this.status=200,x(t.DONE)}catch($){this.handleError($,$.errno||-1)}return}var P=V.port||(R?443:80),I=V.pathname+(V.search?V.search:"");if(d.Host=M,R&&P===443||P===80||(d.Host+=":"+V.port),o.user){typeof o.password>"u"&&(o.password="");var Y=new Buffer(o.user+":"+o.password);d.Authorization="Basic "+Y.toString("base64")}o.method==="GET"||o.method==="HEAD"?_=null:_?(d["Content-Length"]=Buffer.isBuffer(_)?_.length:Buffer.byteLength(_),d["Content-Type"]||(d["Content-Type"]="text/plain;charset=UTF-8")):o.method==="POST"&&(d["Content-Length"]=0);var W=e.agent||!1,F={host:M,port:P,path:I,method:o.method,headers:d,agent:W};if(R&&(F.pfx=e.pfx,F.key=e.key,F.passphrase=e.passphrase,F.cert=e.cert,F.ca=e.ca,F.ciphers=e.ciphers,F.rejectUnauthorized=e.rejectUnauthorized!==!1),S=!1,o.async){var U=R?r.request:n.request;b=!0,t.dispatchEvent("readystatechange");var z=function($){if(i=$,i.statusCode===302||i.statusCode===303||i.statusCode===307){o.url=i.headers.location;var q=_t.parse(o.url);M=q.hostname;var J={hostname:q.hostname,port:q.port,path:q.path,method:i.statusCode===303?"GET":o.method,headers:d};R&&(J.pfx=e.pfx,J.key=e.key,J.passphrase=e.passphrase,J.cert=e.cert,J.ca=e.ca,J.ciphers=e.ciphers,J.rejectUnauthorized=e.rejectUnauthorized!==!1),s=U(J,z).on("error",ae),s.end();return}i&&i.setEncoding&&i.setEncoding("utf8"),x(t.HEADERS_RECEIVED),t.status=i.statusCode,i.on("data",function(te){te&&(t.responseText+=te),b&&x(t.LOADING)}),i.on("end",function(){b&&(b=!1,x(t.DONE))}),i.on("error",function(te){t.handleError(te)})},ae=function($){t.handleError($)};s=U(F,z).on("error",ae),e.autoUnref&&s.on("socket",$=>{$.unref()}),_&&s.write(_),s.end(),t.dispatchEvent("loadstart")}else{var oe=".node-xmlhttprequest-content-"+process.pid,ue=".node-xmlhttprequest-sync-"+process.pid;se.writeFileSync(ue,"","utf8");for(var le="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(R?"s":"")+".request;var options = "+JSON.stringify(F)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+oe+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+ue+"');});response.on('error', function(error) {fs.writeFileSync('"+oe+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+ue+"');});}).on('error', function(error) {fs.writeFileSync('"+oe+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+ue+"');});"+(_?"req.write('"+JSON.stringify(_).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",re=vh(process.argv[0],["-e",le]);se.existsSync(ue););if(t.responseText=se.readFileSync(oe,"utf8"),re.stdin.end(),se.unlinkSync(oe),t.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var L=t.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");t.handleError(L,503)}else t.status=t.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),t.responseText=t.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),x(t.DONE)}},this.handleError=function(_,R){this.status=R||0,this.statusText=_,this.responseText=_.stack,S=!0,x(this.DONE)},this.abort=function(){s&&(s.abort(),s=null),d=Object.assign({},h),this.responseText="",this.responseXML="",S=w=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||b)&&this.readyState!==this.DONE&&(b=!1,x(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(_,R){_ in E||(E[_]=[]),E[_].push(R)},this.removeEventListener=function(_,R){_ in E&&(E[_]=E[_].filter(function(B){return B!==R}))},this.dispatchEvent=function(_){if(typeof t["on"+_]=="function"&&(this.readyState===this.DONE?setImmediate(function(){t["on"+_]()}):t["on"+_]()),_ in E)for(let R=0,B=E[_].length;R<B;R++)this.readyState===this.DONE?setImmediate(function(){E[_][R].call(t)}):E[_][R].call(t)};var x=function(_){if(!(t.readyState===_||t.readyState===t.UNSENT&&w)&&(t.readyState=_,(o.async||t.readyState<t.OPENED||t.readyState===t.DONE)&&t.dispatchEvent("readystatechange"),t.readyState===t.DONE)){let R;w?R="abort":S?R="error":R="load",t.dispatchEvent(R),t.dispatchEvent("loadend")}}}var yh=Object.freeze(uh({__proto__:null,default:Kn,__moduleExports:Kn},[Kn]));const dc=Kn||yh;var It=It;function pc(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const gh=setTimeout,bh=clearTimeout;function wr(e,t){t.useNativeTimers?(e.setTimeoutFn=gh.bind(It),e.clearTimeoutFn=bh.bind(It)):(e.setTimeoutFn=setTimeout.bind(It),e.clearTimeoutFn=clearTimeout.bind(It))}var Ht=ke;function ke(e){if(e)return _h(e)}function _h(e){for(var t in ke.prototype)e[t]=ke.prototype[t];return e}ke.prototype.on=ke.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ke.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ke.prototype.off=ke.prototype.removeListener=ke.prototype.removeAllListeners=ke.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ke.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};ke.prototype.emitReserved=ke.prototype.emit;ke.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ke.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Xe=Object.create(null);Xe.open="0";Xe.close="1";Xe.ping="2";Xe.pong="3";Xe.message="4";Xe.upgrade="5";Xe.noop="6";const Yn=Object.create(null);Object.keys(Xe).forEach(e=>{Yn[Xe[e]]=e});const wh={type:"error",data:"parser error"},mc=({type:e,data:t},n,r)=>{if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){const s=Eh(t);return r(Sh(s,n))}return r(Xe[e]+(t||""))},Eh=e=>Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):Buffer.from(e.buffer,e.byteOffset,e.byteLength),Sh=(e,t)=>t?e:"b"+e.toString("base64"),vc=(e,t)=>{if(typeof e!="string")return{type:"message",data:co(e,t)};const n=e.charAt(0);if(n==="b"){const r=Buffer.from(e.substring(1),"base64");return{type:"message",data:co(r,t)}}return Yn[n]?e.length>1?{type:Yn[n],data:e.substring(1)}:{type:Yn[n]}:wh},co=(e,t)=>{const n=Buffer.isBuffer(e);switch(t){case"arraybuffer":return n?xh(e):e;case"nodebuffer":default:return e}},xh=e=>{const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e[r];return t},yc=String.fromCharCode(30),kh=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{mc(i,!1,c=>{r[o]=c,++s===n&&t(r.join(yc))})})},Ch=(e,t)=>{const n=e.split(yc),r=[];for(let s=0;s<n.length;s++){const i=vc(n[s],t);if(r.push(i),i.type==="error")break}return r},gc=4;class bc extends Ht{constructor(t){super(),this.writable=!1,wr(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,n){const r=new Error(t);return r.type="TransportError",r.description=n,super.emit("error",r),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(t){const n=vc(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emit("packet",t)}onClose(){this.readyState="closed",super.emit("close")}}var _c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),sr=64,wc={},lo=0,gt=0,uo;function Vs(e){var t="";do t=_c[e%sr]+t,e=Math.floor(e/sr);while(e>0);return t}function Oh(e){var t=0;for(gt=0;gt<e.length;gt++)t=t*sr+wc[e.charAt(gt)];return t}function ci(){var e=Vs(+new Date);return e!==uo?(lo=0,uo=e):e+"."+Vs(lo++)}for(;gt<sr;gt++)wc[_c[gt]]=gt;ci.encode=Vs;ci.decode=Oh;var Ec=ci,Th=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},Rh=function(e){for(var t={},n=e.split("&"),r=0,s=n.length;r<s;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t},li={encode:Th,decode:Rh};class Ah extends bc{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose(),!1;this.onPacket(r)};Ch(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,kh(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emit("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Ec()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const s=li.encode(t),i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(s.length?"?"+s:"")}}function Nh(){}const Lh=function(){return new dc({xdomain:!1}).responseType!=null}();class Ph extends Ah{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port,this.xs=t.secure!==r}const n=t&&t.forceBase64;this.supportsBinary=Lh&&!n}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Je(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",s=>{this.onError("xhr post error",s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",n=>{this.onError("xhr poll error",n)}),this.pollXhr=t}}class Je extends Ht{constructor(t,n){super(),wr(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=pc(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new dc(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=Je.requestsCount++,Je.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(t){this.emit("data",t),this.onSuccess()}onError(t){this.emit("error",t),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Nh,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Je.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&this.onData(t)}abort(){this.cleanup()}}Je.requestsCount=0;Je.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",fo);else if(typeof addEventListener=="function"){const e="onpagehide"in It?"pagehide":"unload";addEventListener(e,fo,!1)}}function fo(){for(let e in Je.requests)Je.requests.hasOwnProperty(e)&&Je.requests[e].abort()}function Sc(e,t,n){return n={path:t,exports:{},require:function(r,s){return Bh(r,s??n.path)}},e(n,n.exports),n.exports}function Bh(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var kt={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}},vn=Sc(function(e){const{EMPTY_BUFFER:t}=kt;function n(c,h){if(c.length===0)return t;if(c.length===1)return c[0];const d=Buffer.allocUnsafe(h);let p=0;for(let g=0;g<c.length;g++){const b=c[g];d.set(b,p),p+=b.length}return p<h?d.slice(0,p):d}function r(c,h,d,p,g){for(let b=0;b<g;b++)d[p+b]=c[b]^h[b&3]}function s(c,h){for(let d=0;d<c.length;d++)c[d]^=h[d&3]}function i(c){return c.byteLength===c.buffer.byteLength?c.buffer:c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}function o(c){if(o.readOnly=!0,Buffer.isBuffer(c))return c;let h;return c instanceof ArrayBuffer?h=Buffer.from(c):ArrayBuffer.isView(c)?h=Buffer.from(c.buffer,c.byteOffset,c.byteLength):(h=Buffer.from(c),o.readOnly=!1),h}try{const c=require("bufferutil");e.exports={concat:n,mask(h,d,p,g,b){b<48?r(h,d,p,g,b):c.mask(h,d,p,g,b)},toArrayBuffer:i,toBuffer:o,unmask(h,d){h.length<32?s(h,d):c.unmask(h,d)}}}catch{e.exports={concat:n,mask:r,toArrayBuffer:i,toBuffer:o,unmask:s}}});const ho=Symbol("kDone"),Qr=Symbol("kRun");class $h{constructor(t){this[ho]=()=>{this.pending--,this[Qr]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[Qr]()}[Qr](){if(this.pending!==this.concurrency&&this.jobs.length){const t=this.jobs.shift();this.pending++,t(this[ho])}}}var Ih=$h;const{kStatusCode:xc}=kt,Dh=Buffer.from([0,0,255,255]),ir=Symbol("permessage-deflate"),nt=Symbol("total-length"),cn=Symbol("callback"),pt=Symbol("buffers"),Jn=Symbol("error");let Bn;class Vh{constructor(t,n,r){if(this._maxPayload=r|0,this._options=t||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!n,this._deflate=null,this._inflate=null,this.params=null,!Bn){const s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Bn=new Ih(s)}}static get extensionName(){return"permessage-deflate"}offer(){const t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const t=this._deflate[cn];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){const n=this._options,r=t.find(s=>!(n.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(n.serverMaxWindowBits===!1||typeof n.serverMaxWindowBits=="number"&&n.serverMaxWindowBits>s.server_max_window_bits)||typeof n.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return n.serverNoContextTakeover&&(r.server_no_context_takeover=!0),n.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof n.serverMaxWindowBits=="number"&&(r.server_max_window_bits=n.serverMaxWindowBits),typeof n.clientMaxWindowBits=="number"?r.client_max_window_bits=n.clientMaxWindowBits:(r.client_max_window_bits===!0||n.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(t){const n=t[0];if(this._options.clientNoContextTakeover===!1&&n.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!n.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(n.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&n.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return n}normalizeParams(t){return t.forEach(n=>{Object.keys(n).forEach(r=>{let s=n[r];if(s.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(s=s[0],r==="client_max_window_bits"){if(s!==!0){const i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else if(r==="server_max_window_bits"){const i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=i}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else throw new Error(`Unknown parameter "${r}"`);n[r]=s})}),t}decompress(t,n,r){Bn.add(s=>{this._decompress(t,n,(i,o)=>{s(),r(i,o)})})}compress(t,n,r){Bn.add(s=>{this._compress(t,n,(i,o)=>{s(),r(i,o)})})}_decompress(t,n,r){const s=this._isServer?"client":"server";if(!this._inflate){const i=`${s}_max_window_bits`,o=typeof this.params[i]!="number"?se.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=se.createInflateRaw({...this._options.zlibInflateOptions,windowBits:o}),this._inflate[ir]=this,this._inflate[nt]=0,this._inflate[pt]=[],this._inflate.on("error",Uh),this._inflate.on("data",kc)}this._inflate[cn]=r,this._inflate.write(t),n&&this._inflate.write(Dh),this._inflate.flush(()=>{const i=this._inflate[Jn];if(i){this._inflate.close(),this._inflate=null,r(i);return}const o=vn.concat(this._inflate[pt],this._inflate[nt]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[nt]=0,this._inflate[pt]=[],n&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),r(null,o)})}_compress(t,n,r){const s=this._isServer?"server":"client";if(!this._deflate){const i=`${s}_max_window_bits`,o=typeof this.params[i]!="number"?se.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=se.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:o}),this._deflate[nt]=0,this._deflate[pt]=[],this._deflate.on("data",Fh)}this._deflate[cn]=r,this._deflate.write(t),this._deflate.flush(se.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=vn.concat(this._deflate[pt],this._deflate[nt]);n&&(i=i.slice(0,i.length-4)),this._deflate[cn]=null,this._deflate[nt]=0,this._deflate[pt]=[],n&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),r(null,i)})}}var me=Vh;function Fh(e){this[pt].push(e),this[nt]+=e.length}function kc(e){if(this[nt]+=e.length,this[ir]._maxPayload<1||this[nt]<=this[ir]._maxPayload){this[pt].push(e);return}this[Jn]=new RangeError("Max payload size exceeded"),this[Jn].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Jn][xc]=1009,this.removeListener("data",kc),this.reset()}function Uh(e){this[ir]._inflate=null,e[xc]=1007,this[cn](e)}var Er=Sc(function(e){const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function n(s){return s>=1e3&&s<=1014&&s!==1004&&s!==1005&&s!==1006||s>=3e3&&s<=4999}function r(s){const i=s.length;let o=0;for(;o<i;)if(!(s[o]&128))o++;else if((s[o]&224)===192){if(o+1===i||(s[o+1]&192)!==128||(s[o]&254)===192)return!1;o+=2}else if((s[o]&240)===224){if(o+2>=i||(s[o+1]&192)!==128||(s[o+2]&192)!==128||s[o]===224&&(s[o+1]&224)===128||s[o]===237&&(s[o+1]&224)===160)return!1;o+=3}else if((s[o]&248)===240){if(o+3>=i||(s[o+1]&192)!==128||(s[o+2]&192)!==128||(s[o+3]&192)!==128||s[o]===240&&(s[o+1]&240)===128||s[o]===244&&s[o+1]>143||s[o]>244)return!1;o+=4}else return!1;return!0}try{const s=require("utf-8-validate");e.exports={isValidStatusCode:n,isValidUTF8(i){return i.length<150?r(i):s(i)},tokenChars:t}}catch{e.exports={isValidStatusCode:n,isValidUTF8:r,tokenChars:t}}});const{Writable:Mh}=se,{BINARY_TYPES:qh,EMPTY_BUFFER:po,kStatusCode:jh,kWebSocket:Hh}=kt,{concat:Zr,toArrayBuffer:Wh,unmask:zh}=vn,{isValidStatusCode:Gh,isValidUTF8:mo}=Er,Qt=0,vo=1,yo=2,go=3,es=4,Kh=5;class Yh extends Mh{constructor(t={}){super(),this._binaryType=t.binaryType||qh[0],this._extensions=t.extensions||{},this._isServer=!!t.isServer,this._maxPayload=t.maxPayload|0,this._skipUTF8Validation=!!t.skipUTF8Validation,this[Hh]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=Qt,this._loop=!1}_write(t,n,r){if(this._opcode===8&&this._state==Qt)return r();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(r)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){const r=this._buffers[0];return this._buffers[0]=r.slice(t),r.slice(0,t)}const n=Buffer.allocUnsafe(t);do{const r=this._buffers[0],s=n.length-t;t>=r.length?n.set(this._buffers.shift(),s):(n.set(new Uint8Array(r.buffer,r.byteOffset,t),s),this._buffers[0]=r.slice(t)),t-=r.length}while(t>0);return n}startLoop(t){let n;this._loop=!0;do switch(this._state){case Qt:n=this.getInfo();break;case vo:n=this.getPayloadLength16();break;case yo:n=this.getPayloadLength64();break;case go:this.getMask();break;case es:n=this.getData(t);break;default:this._loop=!1;return}while(this._loop);t(n)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}const t=this.consume(2);if(t[0]&48)return this._loop=!1,pe(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const n=(t[0]&64)===64;if(n&&!this._extensions[me.extensionName])return this._loop=!1,pe(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(n)return this._loop=!1,pe(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,pe(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,pe(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,pe(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(n)return this._loop=!1,pe(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,pe(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,pe(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,pe(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,pe(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=vo;else if(this._payloadLength===127)this._state=yo;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}const t=this.consume(8),n=t.readUInt32BE(0);return n>Math.pow(2,53-32)-1?(this._loop=!1,pe(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=n*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,pe(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=go:this._state=es}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=es}getData(t){let n=po;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}n=this.consume(this._payloadLength),this._masked&&zh(n,this._mask)}if(this._opcode>7)return this.controlMessage(n);if(this._compressed){this._state=Kh,this.decompress(n,t);return}return n.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(n)),this.dataMessage()}decompress(t,n){this._extensions[me.extensionName].decompress(t,this._fin,(s,i)=>{if(s)return n(s);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return n(pe(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(i)}const o=this.dataMessage();if(o)return n(o);this.startLoop(n)})}dataMessage(){if(this._fin){const t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let r;this._binaryType==="nodebuffer"?r=Zr(n,t):this._binaryType==="arraybuffer"?r=Wh(Zr(n,t)):r=n,this.emit("message",r,!0)}else{const r=Zr(n,t);if(!this._skipUTF8Validation&&!mo(r))return this._loop=!1,pe(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r,!1)}}this._state=Qt}controlMessage(t){if(this._opcode===8)if(this._loop=!1,t.length===0)this.emit("conclude",1005,po),this.end();else{if(t.length===1)return pe(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{const n=t.readUInt16BE(0);if(!Gh(n))return pe(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const r=t.slice(2);if(!this._skipUTF8Validation&&!mo(r))return pe(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",n,r),this.end()}}else this._opcode===9?this.emit("ping",t):this.emit("pong",t);this._state=Qt}}var Cc=Yh;function pe(e,t,n,r,s){const i=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,pe),i.code=s,i[jh]=r,i}const{randomFillSync:Jh}=se,{EMPTY_BUFFER:Xh}=kt,{isValidStatusCode:Qh}=Er,{mask:bo,toBuffer:et}=vn,wt=Buffer.alloc(4);class mt{constructor(t,n){this._extensions=n||{},this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(t,n){const r=n.mask&&n.readOnly;let s=n.mask?6:2,i=t.length;t.length>=65536?(s+=8,i=127):t.length>125&&(s+=2,i=126);const o=Buffer.allocUnsafe(r?t.length+s:s);return o[0]=n.fin?n.opcode|128:n.opcode,n.rsv1&&(o[0]|=64),o[1]=i,i===126?o.writeUInt16BE(t.length,2):i===127&&(o.writeUInt32BE(0,2),o.writeUInt32BE(t.length,6)),n.mask?(Jh(wt,0,4),o[1]|=128,o[s-4]=wt[0],o[s-3]=wt[1],o[s-2]=wt[2],o[s-1]=wt[3],r?(bo(t,wt,o,s,t.length),[o]):(bo(t,wt,t,0,t.length),[o,t])):[o,t]}close(t,n,r,s){let i;if(t===void 0)i=Xh;else{if(typeof t!="number"||!Qh(t))throw new TypeError("First argument must be a valid error code number");if(n===void 0||!n.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(t,0);else{const o=Buffer.byteLength(n);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+o),i.writeUInt16BE(t,0),typeof n=="string"?i.write(n,2):i.set(n,2)}}this._deflating?this.enqueue([this.doClose,i,r,s]):this.doClose(i,r,s)}doClose(t,n,r){this.sendFrame(mt.frame(t,{fin:!0,rsv1:!1,opcode:8,mask:n,readOnly:!1}),r)}ping(t,n,r){const s=et(t);if(s.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,s,n,et.readOnly,r]):this.doPing(s,n,et.readOnly,r)}doPing(t,n,r,s){this.sendFrame(mt.frame(t,{fin:!0,rsv1:!1,opcode:9,mask:n,readOnly:r}),s)}pong(t,n,r){const s=et(t);if(s.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,s,n,et.readOnly,r]):this.doPong(s,n,et.readOnly,r)}doPong(t,n,r,s){this.sendFrame(mt.frame(t,{fin:!0,rsv1:!1,opcode:10,mask:n,readOnly:r}),s)}send(t,n,r){const s=et(t),i=this._extensions[me.extensionName];let o=n.binary?2:1,c=n.compress;if(this._firstFragment?(this._firstFragment=!1,c&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(c=s.length>=i._threshold),this._compress=c):(c=!1,o=0),n.fin&&(this._firstFragment=!0),i){const h={fin:n.fin,rsv1:c,opcode:o,mask:n.mask,readOnly:et.readOnly};this._deflating?this.enqueue([this.dispatch,s,this._compress,h,r]):this.dispatch(s,this._compress,h,r)}else this.sendFrame(mt.frame(s,{fin:n.fin,rsv1:!1,opcode:o,mask:n.mask,readOnly:et.readOnly}),r)}dispatch(t,n,r,s){if(!n){this.sendFrame(mt.frame(t,r),s);return}const i=this._extensions[me.extensionName];this._bufferedBytes+=t.length,this._deflating=!0,i.compress(t,r.fin,(o,c)=>{if(this._socket.destroyed){const h=new Error("The socket was closed while data was being compressed");typeof s=="function"&&s(h);for(let d=0;d<this._queue.length;d++){const p=this._queue[d][4];typeof p=="function"&&p(h)}return}this._bufferedBytes-=t.length,this._deflating=!1,r.readOnly=!1,this.sendFrame(mt.frame(c,r),s),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const t=this._queue.shift();this._bufferedBytes-=t[1].length,Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[1].length,this._queue.push(t)}sendFrame(t,n){t.length===2?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],n),this._socket.uncork()):this._socket.write(t[0],n)}}var Oc=mt;const{kForOnEventAttribute:ts,kListener:_o}=kt,wo=Symbol("kCode"),Eo=Symbol("kData"),So=Symbol("kError"),xo=Symbol("kMessage"),ko=Symbol("kReason"),Dt=Symbol("kTarget"),Co=Symbol("kType"),Oo=Symbol("kWasClean");class Ct{constructor(t){this[Dt]=null,this[Co]=t}get target(){return this[Dt]}get type(){return this[Co]}}Object.defineProperty(Ct.prototype,"target",{enumerable:!0});Object.defineProperty(Ct.prototype,"type",{enumerable:!0});class Sn extends Ct{constructor(t,n={}){super(t),this[wo]=n.code===void 0?0:n.code,this[ko]=n.reason===void 0?"":n.reason,this[Oo]=n.wasClean===void 0?!1:n.wasClean}get code(){return this[wo]}get reason(){return this[ko]}get wasClean(){return this[Oo]}}Object.defineProperty(Sn.prototype,"code",{enumerable:!0});Object.defineProperty(Sn.prototype,"reason",{enumerable:!0});Object.defineProperty(Sn.prototype,"wasClean",{enumerable:!0});class Sr extends Ct{constructor(t,n={}){super(t),this[So]=n.error===void 0?null:n.error,this[xo]=n.message===void 0?"":n.message}get error(){return this[So]}get message(){return this[xo]}}Object.defineProperty(Sr.prototype,"error",{enumerable:!0});Object.defineProperty(Sr.prototype,"message",{enumerable:!0});class ui extends Ct{constructor(t,n={}){super(t),this[Eo]=n.data===void 0?null:n.data}get data(){return this[Eo]}}Object.defineProperty(ui.prototype,"data",{enumerable:!0});const Zh={addEventListener(e,t,n={}){let r;if(e==="message")r=function(i,o){const c=new ui("message",{data:o?i:i.toString()});c[Dt]=this,t.call(this,c)};else if(e==="close")r=function(i,o){const c=new Sn("close",{code:i,reason:o.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});c[Dt]=this,t.call(this,c)};else if(e==="error")r=function(i){const o=new Sr("error",{error:i,message:i.message});o[Dt]=this,t.call(this,o)};else if(e==="open")r=function(){const i=new Ct("open");i[Dt]=this,t.call(this,i)};else return;r[ts]=!!n[ts],r[_o]=t,n.once?this.once(e,r):this.on(e,r)},removeEventListener(e,t){for(const n of this.listeners(e))if(n[_o]===t&&!n[ts]){this.removeListener(e,n);break}}};var ed={CloseEvent:Sn,ErrorEvent:Sr,Event:Ct,EventTarget:Zh,MessageEvent:ui};const{tokenChars:Zt}=Er;function ze(e,t,n){e[t]===void 0?e[t]=[n]:e[t].push(n)}function td(e){const t=Object.create(null);let n=Object.create(null),r=!1,s=!1,i=!1,o,c,h=-1,d=-1,p=-1,g=0;for(;g<e.length;g++)if(d=e.charCodeAt(g),o===void 0)if(p===-1&&Zt[d]===1)h===-1&&(h=g);else if(g!==0&&(d===32||d===9))p===-1&&h!==-1&&(p=g);else if(d===59||d===44){if(h===-1)throw new SyntaxError(`Unexpected character at index ${g}`);p===-1&&(p=g);const S=e.slice(h,p);d===44?(ze(t,S,n),n=Object.create(null)):o=S,h=p=-1}else throw new SyntaxError(`Unexpected character at index ${g}`);else if(c===void 0)if(p===-1&&Zt[d]===1)h===-1&&(h=g);else if(d===32||d===9)p===-1&&h!==-1&&(p=g);else if(d===59||d===44){if(h===-1)throw new SyntaxError(`Unexpected character at index ${g}`);p===-1&&(p=g),ze(n,e.slice(h,p),!0),d===44&&(ze(t,o,n),n=Object.create(null),o=void 0),h=p=-1}else if(d===61&&h!==-1&&p===-1)c=e.slice(h,g),h=p=-1;else throw new SyntaxError(`Unexpected character at index ${g}`);else if(s){if(Zt[d]!==1)throw new SyntaxError(`Unexpected character at index ${g}`);h===-1?h=g:r||(r=!0),s=!1}else if(i)if(Zt[d]===1)h===-1&&(h=g);else if(d===34&&h!==-1)i=!1,p=g;else if(d===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${g}`);else if(d===34&&e.charCodeAt(g-1)===61)i=!0;else if(p===-1&&Zt[d]===1)h===-1&&(h=g);else if(h!==-1&&(d===32||d===9))p===-1&&(p=g);else if(d===59||d===44){if(h===-1)throw new SyntaxError(`Unexpected character at index ${g}`);p===-1&&(p=g);let S=e.slice(h,p);r&&(S=S.replace(/\\/g,""),r=!1),ze(n,c,S),d===44&&(ze(t,o,n),n=Object.create(null),o=void 0),c=void 0,h=p=-1}else throw new SyntaxError(`Unexpected character at index ${g}`);if(h===-1||i||d===32||d===9)throw new SyntaxError("Unexpected end of input");p===-1&&(p=g);const b=e.slice(h,p);return o===void 0?ze(t,b,n):(c===void 0?ze(n,b,!0):r?ze(n,c,b.replace(/\\/g,"")):ze(n,c,b),ze(t,o,n)),t}function nd(e){return Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(r=>[t].concat(Object.keys(r).map(s=>{let i=r[s];return Array.isArray(i)||(i=[i]),i.map(o=>o===!0?s:`${s}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}var Fs={format:nd,parse:td};const{randomBytes:rd,createHash:sd}=se,{URL:ns}=_t,{BINARY_TYPES:To,EMPTY_BUFFER:$n,GUID:id,kForOnEventAttribute:rs,kListener:od,kStatusCode:ad,kWebSocket:xe,NOOP:Tc}=kt,{EventTarget:{addEventListener:cd,removeEventListener:ld}}=ed,{format:ud,parse:fd}=Fs,{toBuffer:hd}=vn,ot=["CONNECTING","OPEN","CLOSING","CLOSED"],dd=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,ss=[8,13],pd=30*1e3;class G extends uc{constructor(t,n,r){super(),this._binaryType=To[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=$n,this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=G.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,t!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,n===void 0?n=[]:Array.isArray(n)||(typeof n=="object"&&n!==null?(r=n,n=[]):n=[n]),Rc(this,t,n,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(t){To.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,n,r){const s=new Cc({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new Oc(t,this._extensions),this._receiver=s,this._socket=t,s[xe]=this,t[xe]=this,s.on("conclude",yd),s.on("drain",gd),s.on("error",bd),s.on("message",_d),s.on("ping",wd),s.on("pong",Ed),t.setTimeout(0),t.setNoDelay(),n.length>0&&t.unshift(n),t.on("close",Nc),t.on("data",xr),t.on("end",Lc),t.on("error",Pc),this._readyState=G.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=G.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[me.extensionName]&&this._extensions[me.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=G.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,n){if(this.readyState!==G.CLOSED){if(this.readyState===G.CONNECTING){const r="WebSocket was closed before the connection was established";return De(this,this._req,r)}if(this.readyState===G.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=G.CLOSING,this._sender.close(t,n,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),pd)}}ping(t,n,r){if(this.readyState===G.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(r=t,t=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==G.OPEN){is(this,t,r);return}n===void 0&&(n=!this._isServer),this._sender.ping(t||$n,n,r)}pong(t,n,r){if(this.readyState===G.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(r=t,t=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==G.OPEN){is(this,t,r);return}n===void 0&&(n=!this._isServer),this._sender.pong(t||$n,n,r)}send(t,n,r){if(this.readyState===G.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof n=="function"&&(r=n,n={}),typeof t=="number"&&(t=t.toString()),this.readyState!==G.OPEN){is(this,t,r);return}const s={binary:typeof t!="string",mask:!this._isServer,compress:!0,fin:!0,...n};this._extensions[me.extensionName]||(s.compress=!1),this._sender.send(t||$n,s,r)}terminate(){if(this.readyState!==G.CLOSED){if(this.readyState===G.CONNECTING){const t="WebSocket was closed before the connection was established";return De(this,this._req,t)}this._socket&&(this._readyState=G.CLOSING,this._socket.destroy())}}}Object.defineProperty(G,"CONNECTING",{enumerable:!0,value:ot.indexOf("CONNECTING")});Object.defineProperty(G.prototype,"CONNECTING",{enumerable:!0,value:ot.indexOf("CONNECTING")});Object.defineProperty(G,"OPEN",{enumerable:!0,value:ot.indexOf("OPEN")});Object.defineProperty(G.prototype,"OPEN",{enumerable:!0,value:ot.indexOf("OPEN")});Object.defineProperty(G,"CLOSING",{enumerable:!0,value:ot.indexOf("CLOSING")});Object.defineProperty(G.prototype,"CLOSING",{enumerable:!0,value:ot.indexOf("CLOSING")});Object.defineProperty(G,"CLOSED",{enumerable:!0,value:ot.indexOf("CLOSED")});Object.defineProperty(G.prototype,"CLOSED",{enumerable:!0,value:ot.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(e=>{Object.defineProperty(G.prototype,e,{enumerable:!0})});["open","error","close","message"].forEach(e=>{Object.defineProperty(G.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[rs])return t[od];return null},set(t){for(const n of this.listeners(e))if(n[rs]){this.removeListener(e,n);break}typeof t=="function"&&this.addEventListener(e,t,{[rs]:!0})}})});G.prototype.addEventListener=cd;G.prototype.removeEventListener=ld;var Qe=G;function Rc(e,t,n,r){const s={protocolVersion:ss[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!ss.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${ss.join(", ")})`);let i;if(t instanceof ns)i=t,e._url=t.href;else{try{i=new ns(t)}catch{throw new SyntaxError(`Invalid URL: ${t}`)}e._url=t}const o=i.protocol==="wss:",c=i.protocol==="ws+unix:";if(i.protocol!=="ws:"&&!o&&!c)throw new SyntaxError(`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`);if(c&&!i.pathname)throw new SyntaxError("The URL's pathname is empty");if(i.hash)throw new SyntaxError("The URL contains a fragment identifier");const h=o?443:80,d=rd(16).toString("base64"),p=se.get,g=new Set;let b;if(s.createConnection=o?vd:md,s.defaultPort=s.defaultPort||h,s.port=i.port||h,s.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,s.headers={"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":d,Connection:"Upgrade",Upgrade:"websocket",...s.headers},s.path=i.pathname+i.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(b=new me(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=ud({[me.extensionName]:b.offer()})),n.length){for(const w of n){if(typeof w!="string"||!dd.test(w)||g.has(w))throw new SyntaxError("An invalid or duplicated subprotocol was specified");g.add(w)}s.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(i.username||i.password)&&(s.auth=`${i.username}:${i.password}`),c){const w=s.path.split(":");s.socketPath=w[0],s.path=w[1]}let S=e._req=p(s);s.timeout&&S.on("timeout",()=>{De(e,S,"Opening handshake has timed out")}),S.on("error",w=>{S===null||S.aborted||(S=e._req=null,e._readyState=G.CLOSING,e.emit("error",w),e.emitClose())}),S.on("response",w=>{const E=w.headers.location,O=w.statusCode;if(E&&s.followRedirects&&O>=300&&O<400){if(++e._redirects>s.maxRedirects){De(e,S,"Maximum redirects exceeded");return}S.abort();const N=new ns(E,t);Rc(e,N,n,r)}else e.emit("unexpected-response",S,w)||De(e,S,`Unexpected server response: ${w.statusCode}`)}),S.on("upgrade",(w,E,O)=>{if(e.emit("upgrade",w),e.readyState!==G.CONNECTING)return;S=e._req=null;const N=sd("sha1").update(d+id).digest("base64");if(w.headers["sec-websocket-accept"]!==N){De(e,E,"Invalid Sec-WebSocket-Accept header");return}const x=w.headers["sec-websocket-protocol"];let _;if(x!==void 0?g.size?g.has(x)||(_="Server sent an invalid subprotocol"):_="Server sent a subprotocol but none was requested":g.size&&(_="Server sent no subprotocol"),_){De(e,E,_);return}x&&(e._protocol=x);const R=w.headers["sec-websocket-extensions"];if(R!==void 0){if(!b){De(e,E,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let B;try{B=fd(R)}catch{De(e,E,"Invalid Sec-WebSocket-Extensions header");return}const V=Object.keys(B);if(V.length!==1||V[0]!==me.extensionName){De(e,E,"Server indicated an extension that was not requested");return}try{b.accept(B[me.extensionName])}catch{De(e,E,"Invalid Sec-WebSocket-Extensions header");return}e._extensions[me.extensionName]=b}e.setSocket(E,O,{maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})})}function md(e){return e.path=e.socketPath,se.connect(e)}function vd(e){return e.path=void 0,!e.servername&&e.servername!==""&&(e.servername=se.isIP(e.host)?"":e.host),se.connect(e)}function De(e,t,n){e._readyState=G.CLOSING;const r=new Error(n);Error.captureStackTrace(r,De),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function is(e,t,n){if(t){const r=hd(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(n){const r=new Error(`WebSocket is not open: readyState ${e.readyState} (${ot[e.readyState]})`);n(r)}}function yd(e,t){const n=this[xe];n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,n._socket[xe]!==void 0&&(n._socket.removeListener("data",xr),process.nextTick(Ac,n._socket),e===1005?n.close():n.close(e,t))}function gd(){this[xe]._socket.resume()}function bd(e){const t=this[xe];t._socket[xe]!==void 0&&(t._socket.removeListener("data",xr),process.nextTick(Ac,t._socket),t.close(e[ad])),t.emit("error",e)}function Ro(){this[xe].emitClose()}function _d(e,t){this[xe].emit("message",e,t)}function wd(e){const t=this[xe];t.pong(e,!t._isServer,Tc),t.emit("ping",e)}function Ed(e){this[xe].emit("pong",e)}function Ac(e){e.resume()}function Nc(){const e=this[xe];this.removeListener("close",Nc),this.removeListener("data",xr),this.removeListener("end",Lc),e._readyState=G.CLOSING;let t;!this._readableState.endEmitted&&!e._closeFrameReceived&&!e._receiver._writableState.errorEmitted&&(t=e._socket.read())!==null&&e._receiver.write(t),e._receiver.end(),this[xe]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",Ro),e._receiver.on("finish",Ro))}function xr(e){this[xe]._receiver.write(e)||this.pause()}function Lc(){const e=this[xe];e._readyState=G.CLOSING,e._receiver.end(),this.end()}function Pc(){const e=this[xe];this.removeListener("error",Pc),this.on("error",Tc),e&&(e._readyState=G.CLOSING,this.destroy())}const{Duplex:Sd}=se;function Ao(e){e.emit("close")}function xd(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Bc(e){this.removeListener("error",Bc),this.destroy(),this.listenerCount("error")===0&&this.emit("error",e)}function kd(e,t){let n=!0,r=!0;function s(){n&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",s)}):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",s));const i=new Sd({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(c,h){const d=!h&&i._readableState.objectMode?c.toString():c;i.push(d)||(n=!1,e._socket.pause())}),e.once("error",function(c){i.destroyed||(r=!1,i.destroy(c))}),e.once("close",function(){i.destroyed||i.push(null)}),i._destroy=function(o,c){if(e.readyState===e.CLOSED){c(o),process.nextTick(Ao,i);return}let h=!1;e.once("error",function(p){h=!0,c(p)}),e.once("close",function(){h||c(o),process.nextTick(Ao,i)}),r&&e.terminate()},i._final=function(o){if(e.readyState===e.CONNECTING){e.once("open",function(){i._final(o)});return}e._socket!==null&&(e._socket._writableState.finished?(o(),i._readableState.endEmitted&&i.destroy()):(e._socket.once("finish",function(){o()}),e.close()))},i._read=function(){e.readyState===e.OPEN&&!n&&(n=!0,e._receiver._writableState.needDrain||e._socket.resume())},i._write=function(o,c,h){if(e.readyState===e.CONNECTING){e.once("open",function(){i._write(o,c,h)});return}e.send(o,h)},i.on("end",xd),i.on("error",Bc),i}var Cd=kd;const{tokenChars:Od}=Er;function Td(e){const t=new Set;let n=-1,r=-1,s=0;for(s;s<e.length;s++){const o=e.charCodeAt(s);if(r===-1&&Od[o]===1)n===-1&&(n=s);else if(s!==0&&(o===32||o===9))r===-1&&n!==-1&&(r=s);else if(o===44){if(n===-1)throw new SyntaxError(`Unexpected character at index ${s}`);r===-1&&(r=s);const c=e.slice(n,r);if(t.has(c))throw new SyntaxError(`The "${c}" subprotocol is duplicated`);t.add(c),n=r=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(n===-1||r!==-1)throw new SyntaxError("Unexpected end of input");const i=e.slice(n,s);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return t.add(i),t}var Rd={parse:Td};const{createHash:Ad}=se,{GUID:Nd,kWebSocket:Ld}=kt,Pd=/^[+/0-9A-Za-z]{22}==$/,No=0,Lo=1,$c=2;class Bd extends uc{constructor(t,n){if(super(),t={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...t},t.port==null&&!t.server&&!t.noServer||t.port!=null&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(t.port!=null?(this._server=se.createServer((r,s)=>{const i=se.STATUS_CODES[426];s.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),s.end(i)}),this._server.listen(t.port,t.host,t.backlog,n)):t.server&&(this._server=t.server),this._server){const r=this.emit.bind(this,"connection");this._removeListeners=Id(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,i,o)=>{this.handleUpgrade(s,i,o,r)}})}t.perMessageDeflate===!0&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=No}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(this._state===$c){t&&this.once("close",()=>{t(new Error("The server is not running"))}),process.nextTick(en,this);return}if(t&&this.once("close",t),this._state!==Lo)if(this._state=Lo,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(en,this):process.nextTick(en,this);else{const n=this._server;this._removeListeners(),this._removeListeners=this._server=null,n.close(()=>{en(this)})}}shouldHandle(t){if(this.options.path){const n=t.url.indexOf("?");if((n!==-1?t.url.slice(0,n):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,n,r,s){n.on("error",Us);const i=t.headers["sec-websocket-key"]!==void 0?t.headers["sec-websocket-key"]:!1,o=+t.headers["sec-websocket-version"];if(t.method!=="GET"||t.headers.upgrade.toLowerCase()!=="websocket"||!i||!Pd.test(i)||o!==8&&o!==13||!this.shouldHandle(t))return Lt(n,400);const c=t.headers["sec-websocket-protocol"];let h=new Set;if(c!==void 0)try{h=Rd.parse(c)}catch{return Lt(n,400)}const d=t.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&d!==void 0){const g=new me(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const b=Fs.parse(d);b[me.extensionName]&&(g.accept(b[me.extensionName]),p[me.extensionName]=g)}catch{return Lt(n,400)}}if(this.options.verifyClient){const g={origin:t.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(t.socket.authorized||t.socket.encrypted),req:t};if(this.options.verifyClient.length===2){this.options.verifyClient(g,(b,S,w,E)=>{if(!b)return Lt(n,S||401,w,E);this.completeUpgrade(p,i,h,t,n,r,s)});return}if(!this.options.verifyClient(g))return Lt(n,401)}this.completeUpgrade(p,i,h,t,n,r,s)}completeUpgrade(t,n,r,s,i,o,c){if(!i.readable||!i.writable)return i.destroy();if(i[Ld])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>No)return Lt(i,503);const d=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Ad("sha1").update(n+Nd).digest("base64")}`],p=new Qe(null);if(r.size){const g=this.options.handleProtocols?this.options.handleProtocols(r,s):r.values().next().value;g&&(d.push(`Sec-WebSocket-Protocol: ${g}`),p._protocol=g)}if(t[me.extensionName]){const g=t[me.extensionName].params,b=Fs.format({[me.extensionName]:[g]});d.push(`Sec-WebSocket-Extensions: ${b}`),p._extensions=t}this.emit("headers",d,s),i.write(d.concat(`\r
`).join(`\r
`)),i.removeListener("error",Us),p.setSocket(i,o,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(p),p.on("close",()=>{this.clients.delete(p),this._shouldEmitClose&&!this.clients.size&&process.nextTick(en,this)})),c(p,s)}}var $d=Bd;function Id(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}function en(e){e._state=$c,e.emit("close")}function Us(){this.destroy()}function Lt(e,t,n,r){e.writable&&(n=n||se.STATUS_CODES[t],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},e.write(`HTTP/1.1 ${t} ${se.STATUS_CODES[t]}\r
`+Object.keys(r).map(s=>`${s}: ${r[s]}`).join(`\r
`)+`\r
\r
`+n)),e.removeListener("error",Us),e.destroy()}Qe.createWebSocketStream=Cd;Qe.Server=$d;Qe.Receiver=Cc;Qe.Sender=Oc;Qe.WebSocket=Qe;Qe.WebSocketServer=Qe.Server;var Dd=Qe;const tn=Dd,Po=!1,Vd="nodebuffer",Fd=process.nextTick,Bo=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class fi extends bc{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=Bo?{}:pc(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Po&&!Bo?n?new tn(t,n):new tn(t):new tn(t,n,r)}catch(s){return this.emit("error",s)}this.ws.binaryType=this.socket.binaryType||Vd,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;mc(r,this.supportsBinary,i=>{const o={};r.options&&(o.compress=r.options.compress),this.opts.perMessageDeflate&&(typeof i=="string"?Buffer.byteLength(i):i.length)<this.opts.perMessageDeflate.threshold&&(o.compress=!1);try{Po||this.ws.send(i,o)}catch{}s&&Fd(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ec()),this.supportsBinary||(t.b64=1);const s=li.encode(t),i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(s.length?"?"+s:"")}check(){return!!tn&&!("__initialize"in tn&&this.name===fi.prototype.name)}}const Ud={websocket:fi,polling:Ph};class yt extends Ht{constructor(t,n={}){super(),t&&typeof t=="object"&&(n=t,t=null),t?(t=Is(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Is(n.host).host),wr(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=li.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Md(this.opts.query);n.EIO=gc,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ud[t](r)}open(){let t;if(this.opts.rememberUpgrade&&yt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(t){let n=this.createTransport(t),r=!1;yt.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;yt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function i(){r||(r=!0,p(),n.close(),n=null)}const o=g=>{const b=new Error("probe error: "+g);b.transport=n.name,i(),this.emitReserved("upgradeError",b)};function c(){o("transport closed")}function h(){o("socket closed")}function d(g){n&&g.name!==n.name&&i()}const p=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",c),this.off("close",h),this.off("upgrading",d)};n.once("open",s),n.once("error",o),n.once("close",c),this.once("close",h),this.once("upgrading",d),n.open()}onOpen(){if(this.readyState="open",yt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){yt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const s=t.length;for(;r<s;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}yt.protocol=gc;function Md(e){const t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}const qd=typeof ArrayBuffer=="function",jd=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Ic=Object.prototype.toString,Hd=typeof Blob=="function"||typeof Blob<"u"&&Ic.call(Blob)==="[object BlobConstructor]",Wd=typeof File=="function"||typeof File<"u"&&Ic.call(File)==="[object FileConstructor]";function hi(e){return qd&&(e instanceof ArrayBuffer||jd(e))||Hd&&e instanceof Blob||Wd&&e instanceof File}function Xn(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Xn(e[n]))return!0;return!1}if(hi(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Xn(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Xn(e[n]))return!0;return!1}function zd(e){const t=[],n=e.data,r=e;return r.data=Ms(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ms(e,t){if(!e)return e;if(hi(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Ms(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=Ms(e[r],t));return n}return e}function Gd(e,t){return e.data=qs(e.data,t),e.attachments=void 0,e}function qs(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=qs(e[n],t);else if(typeof e=="object")for(const n in e)e.hasOwnProperty(n)&&(e[n]=qs(e[n],t));return e}const Dc=5;var X;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(X||(X={}));class Kd{encode(t){return(t.type===X.EVENT||t.type===X.ACK)&&Xn(t)?(t.type=t.type===X.EVENT?X.BINARY_EVENT:X.BINARY_ACK,this.encodeAsBinary(t)):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===X.BINARY_EVENT||t.type===X.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data)),n}encodeAsBinary(t){const n=zd(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}class di extends Ht{constructor(){super()}add(t){let n;if(typeof t=="string")n=this.decodeString(t),n.type===X.BINARY_EVENT||n.type===X.BINARY_ACK?(this.reconstructor=new Jd(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n);else if(hi(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(X[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===X.BINARY_EVENT||r.type===X.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=Yd(t.substr(n));if(di.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}static isPayloadValid(t,n){switch(t){case X.CONNECT:return typeof n=="object";case X.DISCONNECT:return n===void 0;case X.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case X.EVENT:case X.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case X.ACK:case X.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}function Yd(e){try{return JSON.parse(e)}catch{return!1}}class Jd{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Gd(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Xd=Object.freeze({__proto__:null,protocol:Dc,get PacketType(){return X},Encoder:Kd,Decoder:di});function je(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Qd=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class pi extends Ht{constructor(t,n,r){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const t=this.io;this.subs=[je(t,"open",this.onopen.bind(this)),je(t,"packet",this.onpacket.bind(this)),je(t,"error",this.onerror.bind(this)),je(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Qd.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');n.unshift(t);const r={type:X.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,c=n.pop();this._registerAckCallback(o,c),r.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?this.packet(r):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){const r=this.flags.timeout;if(r===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===t&&this.sendBuffer.splice(i,1);n.call(this,new Error("operation has timed out"))},r);this.acks[t]=(...i)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...i])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:X.CONNECT,data:t})}):this.packet({type:X.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case X.CONNECT:if(t.data&&t.data.sid){const s=t.data.sid;this.onconnect(s)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case X.EVENT:this.onevent(t);break;case X.BINARY_EVENT:this.onevent(t);break;case X.ACK:this.onack(t);break;case X.BINARY_ACK:this.onack(t);break;case X.DISCONNECT:this.ondisconnect();break;case X.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t)}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:X.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>this.packet(t)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:X.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var Zd=Wt;function Wt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Wt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Wt.prototype.reset=function(){this.attempts=0};Wt.prototype.setMin=function(e){this.ms=e};Wt.prototype.setMax=function(e){this.max=e};Wt.prototype.setJitter=function(e){this.jitter=e};class or extends Ht{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,wr(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Zd({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||Xd;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new yt(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=je(n,"open",function(){r.onopen(),t&&t()}),i=je(n,"error",o=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",o),t?t(o):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&s();const c=this.setTimeoutFn(()=>{s(),n.close(),n.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&c.unref(),this.subs.push(function(){clearTimeout(c)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(je(t,"ping",this.onping.bind(this)),je(t,"data",this.ondata.bind(this)),je(t,"error",this.onerror.bind(this)),je(t,"close",this.onclose.bind(this)),je(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r||(r=new pi(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const nn={};function Et(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=mh(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=nn[s]&&i in nn[s].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let h;return c?h=new or(r,t):(nn[s]||(nn[s]=new or(r,t)),h=nn[s]),n.query&&!t.query&&(t.query=n.queryKey),h.socket(n.path,t)}Object.assign(Et,{Manager:or,Socket:pi,io:Et,connect:Et});var ep=Object.freeze({__proto__:null,Manager:or,Socket:pi,io:Et,connect:Et,default:Et,protocol:Dc});const tp=require("simple-signal-client");var mi=fc({name:"vue-webrtc",components:{},data(){return{signalClient:null,videoList:[],canvas:null,socket:null}},props:{roomId:{type:String,default:"public-room-v2"},socketURL:{type:String,default:"https://weston-vue-webrtc-lobby.azurewebsites.net"},cameraHeight:{type:[Number,String],default:160},autoplay:{type:Boolean,default:!0},screenshotFormat:{type:String,default:"image/jpeg"},enableAudio:{type:Boolean,default:!0},enableVideo:{type:Boolean,default:!0},enableLogs:{type:Boolean,default:!1},peerOptions:{type:Object,default(){return{}}},ioOptions:{type:Object,default(){return{rejectUnauthorized:!1,transports:["polling","websocket"]}}},deviceId:{type:String,default:null}},watch:{},mounted(){},methods:{async join(){var e=this;this.log("join"),this.socket=Et(this.socketURL,this.ioOptions),this.signalClient=new tp(this.socket);let t={video:e.enableVideo,audio:e.enableAudio};e.deviceId&&e.enableVideo&&(t.video={deviceId:{exact:e.deviceId}});const n=await navigator.mediaDevices.getUserMedia(t);this.log("opened",n),this.joinedRoom(n,!0),this.signalClient.once("discover",r=>{e.log("discovered",r);async function s(i){if(i!=e.socket.id)try{e.log("Connecting to peer");const{peer:o}=await e.signalClient.connect(i,e.roomId,e.peerOptions);e.videoList.forEach(c=>{c.isLocal&&e.onPeer(o,c.stream)})}catch{e.log("Error connecting to peer")}}r.peers.forEach(i=>s(i)),e.$emit("opened-room",e.roomId)}),this.signalClient.on("request",async r=>{e.log("requested",r);const{peer:s}=await r.accept({},e.peerOptions);e.log("accepted",s),e.videoList.forEach(i=>{i.isLocal&&e.onPeer(s,i.stream)})}),this.signalClient.discover(e.roomId)},onPeer(e,t){var n=this;n.log("onPeer"),e.addStream(t),e.on("stream",r=>{n.joinedRoom(r,!1),e.on("close",()=>{var s=[];n.videoList.forEach(function(i){i.id!==r.id&&s.push(i)}),n.videoList=s,n.$emit("left-room",r.id)}),e.on("error",s=>{n.log("peer error ",s)})})},joinedRoom(e,t){var n=this;if(n.videoList.find(s=>s.id===e.id)===void 0){let s={id:e.id,muted:t,stream:e,isLocal:t};n.videoList.push(s)}setTimeout(function(){for(var s=0,i=n.$refs.videos.length;s<i;s++)if(n.$refs.videos[s].id===e.id){n.$refs.videos[s].srcObject=e;break}},500),n.$emit("joined-room",e.id)},leave(){this.videoList.forEach(e=>e.stream.getTracks().forEach(t=>t.stop())),this.videoList=[],this.signalClient.peers().forEach(e=>e.removeAllListeners()),this.signalClient.destroy(),this.signalClient=null,this.socket.destroy(),this.socket=null},capture(){return this.getCanvas().toDataURL(this.screenshotFormat)},getCanvas(){let e=this.$refs.videos[0];if(e!==null&&!this.ctx){let r=document.createElement("canvas");r.height=e.clientHeight,r.width=e.clientWidth,this.canvas=r,this.ctx=r.getContext("2d")}const{ctx:t,canvas:n}=this;return t.drawImage(e,0,0,n.width,n.height),n},async shareScreen(){var e=this;if(navigator.mediaDevices==null){e.log("Error: https is required to load cameras");return}try{var t=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1});this.joinedRoom(t,!0),e.$emit("share-started",t.id),e.signalClient.peers().forEach(n=>e.onPeer(n,t))}catch(n){e.log("Media error: "+JSON.stringify(n))}},log(e,t){this.enableLogs&&(console.log(e),t!=null&&console.log(t))}}});const np={class:"video-list"},rp=["video"],sp=["height","muted","id"];function ip(e,t,n,r,s,i){return zn(),Gn("div",np,[(zn(!0),Gn(ch,null,lh(e.videoList,o=>(zn(),Gn("div",{video:o,key:o.id,class:"video-item"},[dt("video",{controls:"",autoplay:"",playsinline:"",ref_for:!0,ref:"videos",height:e.cameraHeight,muted:o.muted,id:o.id},null,8,sp)],8,rp))),128))])}function Vc(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var op=`
.video-list[data-v-41044b41] {\r
        background: whitesmoke;\r
        height: auto;\r
        display: flex;\r
        flex-direction: row;\r
        justify-content: center;\r
        flex-wrap: wrap;
}
.video-list div[data-v-41044b41] {\r
            padding: 0px;
}
.video-item[data-v-41044b41] {\r
        background: #c5c4c4;\r
        display: inline-block;
}\r
`;Vc(op);mi.render=ip;mi.__scopeId="data-v-41044b41";var Fc=fc({name:"VueWebrtcSample",data(){return{counter:5,initCounter:5,message:{action:null,amount:null}}},computed:{changedBy(){const{message:e}=this;return e.action?`${e.action} ${e.amount||""}`.trim():"initialized"}},methods:{increment(e){const t=typeof e!="number"?1:e;this.counter+=t,this.message.action="incremented by",this.message.amount=t},decrement(e){const t=typeof e!="number"?1:e;this.counter-=t,this.message.action="decremented by",this.message.amount=t},reset(){this.counter=this.initCounter,this.message.action="reset",this.message.amount=null}}});const ap={class:"vue-webrtc-sample"},cp=hc(".");function lp(e,t,n,r,s,i){return zn(),Gn("div",ap,[dt("p",null,[hc("The counter was "+ao(e.changedBy)+" to ",1),dt("b",null,ao(e.counter),1),cp]),dt("button",{onClick:t[0]||(t[0]=function(){return e.increment&&e.increment(...arguments)})}," Click +1 "),dt("button",{onClick:t[1]||(t[1]=function(){return e.decrement&&e.decrement(...arguments)})}," Click -1 "),dt("button",{onClick:t[2]||(t[2]=o=>e.increment(5))}," Click +5 "),dt("button",{onClick:t[3]||(t[3]=o=>e.decrement(5))}," Click -5 "),dt("button",{onClick:t[4]||(t[4]=function(){return e.reset&&e.reset(...arguments)})}," Reset ")])}var up=`
.vue-webrtc-sample[data-v-3020e3b4] {\r
    display: block;\r
    width: 400px;\r
    margin: 25px auto;\r
    border: 1px solid #ccc;\r
    background: #eaeaea;\r
    text-align: center;\r
    padding: 25px;
}
.vue-webrtc-sample p[data-v-3020e3b4] {\r
    margin: 0 0 1em;
}\r
`;Vc(up);Fc.render=lp;Fc.__scopeId="data-v-3020e3b4";window.io=ep;const Uc=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const Ue=typeof window<"u",vi=Ue&&"IntersectionObserver"in window,{camelize:Hg,capitalize:fp,computed:hp,Fragment:dp,reactive:pp,toRefs:mp,watchEffect:vp}=await A("vue");function Mc(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>Mc(e[r],t[r]))}function Z(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function js(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Hs(e){return e&&"$el"in e?e.$el:e}const $o=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function os(e,t){return t.every(n=>e.hasOwnProperty(n))}function yp(e,t,n){const r=Object.create(null),s=Object.create(null);for(const i in e)t.some(o=>o instanceof RegExp?o.test(i):o===i)&&!n?.some(o=>o===i)?r[i]=e[i]:s[i]=e[i];return[r,s]}function gp(e,t){const n={...e};return t.forEach(r=>delete n[r]),n}const bp=/^on[^a-z]/,qc=e=>bp.test(e);function _p(e){return e==null?[]:Array.isArray(e)?e:[e]}function Io(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function Do(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function wp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function Vt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const s in e)r[s]=e[s];for(const s in t){const i=e[s],o=t[s];if(js(i)&&js(o)){r[s]=Vt(i,o,n);continue}if(Array.isArray(i)&&Array.isArray(o)&&n){r[s]=n(i,o);continue}r[s]=o}return r}function jc(e){return e.map(t=>t.type===dp?jc(t.children):t).flat()}function St(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(St.cache.has(e))return St.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return St.cache.set(e,t),t}St.cache=new Map;function Qn(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Qn(e,n)).flat(1);if(Array.isArray(t.children))return t.children.map(n=>Qn(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Qn(e,t.component.subTree).flat(1)}return[]}function yi(e){const t=pp({}),n=hp(e);return vp(()=>{for(const r in n.value)t[r]=n.value[r]},{flush:"sync"}),mp(t)}function ar(e,t){return e.includes(t)}function Hc(e){return e[2].toLowerCase()+e.slice(3)}function Vo(e,t){return t="on"+fp(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function Ep(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function Sp(e,t){if(!(Ue&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}const Wc=["top","bottom"],xp=["start","end","left","right"];function Ws(e,t){let[n,r]=e.split(" ");return r||(r=ar(Wc,n)?"start":ar(xp,n)?"top":"center"),{side:Fo(n,t),align:Fo(r,t)}}function Fo(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function as(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function cs(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function Uo(e){return{side:e.align,align:e.side}}function Mo(e){return ar(Wc,e.side)?"y":"x"}class Mt{constructor(t){let{x:n,y:r,width:s,height:i}=t;this.x=n,this.y=r,this.width=s,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function qo(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function zc(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let s,i,o,c,h;if(r.startsWith("matrix3d("))s=r.slice(9,-1).split(/, /),i=+s[0],o=+s[5],c=+s[12],h=+s[13];else if(r.startsWith("matrix("))s=r.slice(7,-1).split(/, /),i=+s[0],o=+s[3],c=+s[4],h=+s[5];else return new Mt(t);const d=n.transformOrigin,p=t.x-c-(1-i)*parseFloat(d),g=t.y-h-(1-o)*parseFloat(d.slice(d.indexOf(" ")+1)),b=i?t.width/i:e.offsetWidth+1,S=o?t.height/o:e.offsetHeight+1;return new Mt({x:p,y:g,width:b,height:S})}else return new Mt(t)}function ln(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(s=>{r.onfinish=()=>{s(r)}})),r}const Zn=new WeakMap;function kp(e,t){Object.keys(t).forEach(n=>{if(qc(n)){const r=Hc(n),s=Zn.get(e);if(t[n]==null)s?.forEach(i=>{const[o,c]=i;o===r&&(e.removeEventListener(r,c),s.delete(i))});else if(!s||![...s].some(i=>i[0]===r&&i[1]===t[n])){e.addEventListener(r,t[n]);const i=s||new Set;i.add([r,t[n]]),Zn.has(e)||Zn.set(e,i)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function Cp(e,t){Object.keys(t).forEach(n=>{if(qc(n)){const r=Hc(n),s=Zn.get(e);s?.forEach(i=>{const[o,c]=i;o===r&&(e.removeEventListener(r,c),s.delete(i))})}else e.removeAttribute(n)})}const Pt=2.4,jo=.2126729,Ho=.7151522,Wo=.072175,Op=.55,Tp=.58,Rp=.57,Ap=.62,In=.03,zo=1.45,Np=5e-4,Lp=1.25,Pp=1.25,Go=.078,Ko=12.82051282051282,Dn=.06,Yo=.001;function Jo(e,t){const n=(e.r/255)**Pt,r=(e.g/255)**Pt,s=(e.b/255)**Pt,i=(t.r/255)**Pt,o=(t.g/255)**Pt,c=(t.b/255)**Pt;let h=n*jo+r*Ho+s*Wo,d=i*jo+o*Ho+c*Wo;if(h<=In&&(h+=(In-h)**zo),d<=In&&(d+=(In-d)**zo),Math.abs(d-h)<Np)return 0;let p;if(d>h){const g=(d**Op-h**Tp)*Lp;p=g<Yo?0:g<Go?g-g*Ko*Dn:g-Dn}else{const g=(d**Ap-h**Rp)*Pp;p=g>-Yo?0:g>-Go?g-g*Ko*Dn:g+Dn}return p*100}const{warn:Gc}=await A("vue");function hn(e){Gc(`Vuetify: ${e}`)}function Bp(e){Gc(`Vuetify error: ${e}`)}function Xo(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}const Qo=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,$p={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>Zo({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>Zo({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>yn({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>yn({h:e,s:t,v:n,a:r})};function un(e){if(typeof e=="number")return(isNaN(e)||e<0||e>16777215)&&hn(`'${e}' is not a valid hex color`),{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&Qo.test(e)){const{groups:t}=e.match(Qo),{fn:n,values:r}=t,s=r.split(/,\s*/).map(i=>i.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return $p[n](...s)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;[3,4].includes(t.length)?t=t.split("").map(r=>r+r).join(""):[6,8].includes(t.length)||hn(`'${e}' is not a valid hex(a) color`);const n=parseInt(t,16);return(isNaN(n)||n<0||n>4294967295)&&hn(`'${e}' is not a valid hex(a) color`),Ip(t)}else if(typeof e=="object"){if(os(e,["r","g","b"]))return e;if(os(e,["h","s","l"]))return yn(Kc(e));if(os(e,["h","s","v"]))return yn(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function yn(e){const{h:t,s:n,v:r,a:s}=e,i=c=>{const h=(c+t/60)%6;return r-r*n*Math.max(Math.min(h,4-h,1),0)},o=[i(5),i(3),i(1)].map(c=>Math.round(c*255));return{r:o[0],g:o[1],b:o[2],a:s}}function Zo(e){return yn(Kc(e))}function Kc(e){const{h:t,s:n,l:r,a:s}=e,i=r+n*Math.min(r,1-r),o=i===0?0:2-2*r/i;return{h:t,s:o,v:i,a:s}}function Ip(e){e=Dp(e);let[t,n,r,s]=wp(e,2).map(i=>parseInt(i,16));return s=s===void 0?s:s/255,{r:t,g:n,b:r,a:s}}function Dp(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=Do(Do(e,6),8,"F")),e}function Vp(e){const t=Math.abs(Jo(un(0),un(e)));return Math.abs(Jo(un(16777215),un(e)))>Math.min(t,50)?"#fff":"#000"}function j(e,t){return n=>Object.keys(e).reduce((r,s)=>{const o=typeof e[s]=="object"&&e[s]!=null&&!Array.isArray(e[s])?e[s]:{type:e[s]};return n&&s in n?r[s]={...o,default:n[s]}:r[s]=o,t&&!r[s].source&&(r[s].source=t),r},{})}const Ne=j({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component"),{computed:zs,inject:Fp,provide:Yc,ref:Up,shallowRef:Mp,unref:Vn,watchEffect:qp}=await A("vue"),cr=Symbol.for("vuetify:defaults");function gi(){const e=Fp(cr);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function bi(e,t){const n=gi(),r=Up(e),s=zs(()=>{if(Vn(t?.disabled))return n.value;const o=Vn(t?.scoped),c=Vn(t?.reset),h=Vn(t?.root);if(r.value==null&&!(o||c||h))return n.value;let d=Vt(r.value,{prev:n.value});if(o)return d;if(c||h){const p=Number(c||1/0);for(let g=0;g<=p&&!(!d||!("prev"in d));g++)d=d.prev;return d&&typeof h=="string"&&h in d&&(d=Vt(Vt(d,{prev:d}),d[h])),d}return d.prev?Vt(d.prev,d):d});return Yc(cr,s),s}function jp(e,t){return typeof e.props?.[t]<"u"||typeof e.props?.[St(t)]<"u"}function Hp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gi();const r=Le("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const s=zs(()=>n.value?.[e._as??t]),i=new Proxy(e,{get(h,d){const p=Reflect.get(h,d);return d==="class"||d==="style"?[s.value?.[d],p].filter(g=>g!=null):typeof d=="string"&&!jp(r.vnode,d)?s.value?.[d]??n.value?.global?.[d]??p:p}}),o=Mp();qp(()=>{if(s.value){const h=Object.entries(s.value).filter(d=>{let[p]=d;return p.startsWith(p[0].toUpperCase())});o.value=h.length?Object.fromEntries(h):void 0}else o.value=void 0});function c(){const h=em(cr,r);Yc(cr,zs(()=>o.value?Vt(h?.value??{},o.value):h?.value))}return{props:i,provideSubDefaults:c}}const{defineComponent:Wp}=await A("vue");function kr(e){if(e._setup=e._setup??e.setup,!e.name)return hn("The component is missing an explicit name, unable to generate default prop value"),e;if(e._setup){e.props=j(e.props??{},e.name)();const t=Object.keys(e.props);e.filterProps=function(r){return yp(r,t,["class","style"])},e.props._as=String,e.setup=function(r,s){const i=gi();if(!i.value)return e._setup(r,s);const{props:o,provideSubDefaults:c}=Hp(r,r._as??e.name,i),h=e._setup(o,s);return c(),h}}return e}function ve(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?kr:Wp)(t)}const{camelize:zp,capitalize:Gp,h:Kp}=await A("vue");function Cr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ve()({name:n??Gp(zp(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Ne()},setup(r,s){let{slots:i}=s;return()=>Kp(r.tag,{class:[e,r.class],style:r.style},i.default?.())}})}function Jc(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Gs="cubic-bezier(0.4, 0, 0.2, 1)",Yp="cubic-bezier(0.0, 0, 0.2, 1)",Jp="cubic-bezier(0.4, 0, 1, 1)",{getCurrentInstance:Xp}=await A("vue");function Le(e,t){const n=Xp();if(!n)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return n}function Ot(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Le(e).type;return St(t?.aliasName||t?.name)}let Xc=0,er=new WeakMap;function Qc(){const e=Le("getUid");if(er.has(e))return er.get(e);{const t=Xc++;return er.set(e,t),t}}Qc.reset=()=>{Xc=0,er=new WeakMap};function Qp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?Zp(e):_i(e))return e;e=e.parentElement}return document.scrollingElement}function lr(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(_i(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function _i(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function Zp(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function em(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Le("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}function tm(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Ce(e){const t=Le("useRender");t.render=e}const{computed:nm,isRef:rm}=await A("vue"),wi=j({border:[Boolean,Number,String]},"border");function Ei(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot();return{borderClasses:nm(()=>{const r=rm(e)?e.value:e.border,s=[];if(r===!0||r==="")s.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const i of String(r).split(" "))s.push(`border-${i}`);return s})}}const{computed:sm}=await A("vue"),im=[null,"default","comfortable","compact"],xn=j({density:{type:String,default:"default",validator:e=>im.includes(e)}},"density");function Or(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot();return{densityClasses:sm(()=>`${t}--density-${e.density}`)}}const{computed:om,isRef:am}=await A("vue"),Si=j({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function xi(e){return{elevationClasses:om(()=>{const n=am(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const{computed:cm,isRef:lm}=await A("vue"),zt=j({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function Gt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot();return{roundedClasses:cm(()=>{const r=lm(e)?e.value:e.rounded,s=[];if(r===!0||r==="")s.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const i of String(r).split(" "))s.push(`rounded-${i}`);return s})}}const Tt=j({tag:{type:String,default:"div"}},"tag"),{computed:ls,inject:um,provide:fm,ref:Wg,watch:zg,watchEffect:Gg}=await A("vue"),ea=Symbol.for("vuetify:theme"),at=j({theme:String},"theme");function ct(e){Le("provideTheme");const t=um(ea,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=ls(()=>e.theme??t.name.value),r=ls(()=>t.themes.value[n.value]),s=ls(()=>t.isDisabled?void 0:`v-theme--${n.value}`),i={...t,name:n,current:r,themeClasses:s};return fm(ea,i),i}const{computed:Zc,isRef:el}=await A("vue");function ki(e){return yi(()=>{const t=[],n={};if(e.value.background)if(Xo(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text){const r=un(e.value.background);if(r.a==null||r.a===1){const s=Vp(r);n.color=s,n.caretColor=s}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(Xo(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function ur(e,t){const n=Zc(()=>({text:el(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=ki(n);return{textColorClasses:r,textColorStyles:s}}function Ks(e,t){const n=Zc(()=>({background:el(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=ki(n);return{backgroundColorClasses:r,backgroundColorStyles:s}}const{createVNode:us,Fragment:hm}=await A("vue"),{computed:ta,unref:na}=await A("vue"),dm=["elevated","flat","tonal","outlined","text","plain"];function Tr(e,t){return us(hm,null,[e&&us("span",{key:"overlay",class:`${t}__overlay`},null),us("span",{key:"underlay",class:`${t}__underlay`},null)])}const kn=j({color:String,variant:{type:String,default:"elevated",validator:e=>dm.includes(e)}},"variant");function Rr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot();const n=ta(()=>{const{variant:i}=na(e);return`${t}--variant-${i}`}),{colorClasses:r,colorStyles:s}=ki(ta(()=>{const{variant:i,color:o}=na(e);return{[["elevated","flat"].includes(i)?"background":"text"]:o}}));return{colorClasses:r,colorStyles:s,variantClasses:n}}const{createVNode:pm,resolveDirective:Kg}=await A("vue"),{toRef:fs}=await A("vue"),tl=j({divided:Boolean,...wi(),...Ne(),...xn(),...Si(),...zt(),...Tt(),...at(),...kn()},"VBtnGroup"),ra=ve()({name:"VBtnGroup",props:tl(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=ct(e),{densityClasses:s}=Or(e),{borderClasses:i}=Ei(e),{elevationClasses:o}=xi(e),{roundedClasses:c}=Gt(e);bi({VBtn:{height:"auto",color:fs(e,"color"),density:fs(e,"density"),flat:!0,variant:fs(e,"variant")}}),Ce(()=>pm(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,i.value,s.value,o.value,c.value,e.class],style:e.style},n))}}),{effectScope:mm,onScopeDispose:vm,watch:ym}=await A("vue");function Ar(e,t){let n;function r(){n=mm(),n.run(()=>t.length?t(()=>{n?.stop(),r()}):t())}ym(e,s=>{s&&!n?r():s||(n?.stop(),n=void 0)},{immediate:!0}),vm(()=>{n?.stop()})}const{computed:hs,ref:gm,toRaw:bm,watch:_m}=await A("vue");function Cn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:g=>g,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:g=>g;const i=Le("useProxiedModel"),o=gm(e[t]!==void 0?e[t]:n),c=St(t),d=hs(c!==t?()=>(e[t],!!((i.vnode.props?.hasOwnProperty(t)||i.vnode.props?.hasOwnProperty(c))&&(i.vnode.props?.hasOwnProperty(`onUpdate:${t}`)||i.vnode.props?.hasOwnProperty(`onUpdate:${c}`)))):()=>(e[t],!!(i.vnode.props?.hasOwnProperty(t)&&i.vnode.props?.hasOwnProperty(`onUpdate:${t}`))));Ar(()=>!d.value,()=>{_m(()=>e[t],g=>{o.value=g})});const p=hs({get(){const g=e[t];return r(d.value?g:o.value)},set(g){const b=s(g),S=bm(d.value?e[t]:o.value);S===b||r(S)===g||(o.value=b,i?.emit(`update:${t}`,b))}});return Object.defineProperty(p,"externalValue",{get:()=>d.value?e[t]:o.value}),p}const{computed:dn,inject:wm,onBeforeUnmount:nl,onMounted:Em,provide:rl,reactive:Sm,toRef:sl,watch:xm}=await A("vue"),km=j({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Cm=j({value:null,disabled:Boolean,selectedClass:String},"group-item");function Om(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Le("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=Qc();rl(Symbol.for(`${t.description}:id`),s);const i=wm(t,null);if(!i){if(!n)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=sl(e,"value"),c=dn(()=>!!(i.disabled.value||e.disabled));i.register({id:s,value:o,disabled:c},r),nl(()=>{i.unregister(s)});const h=dn(()=>i.isSelected(s)),d=dn(()=>h.value&&[i.selectedClass.value,e.selectedClass]);return xm(h,p=>{r.emit("group:selected",{value:p})}),{id:s,isSelected:h,toggle:()=>i.select(s,!h.value),select:p=>i.select(s,p),selectedClass:d,value:o,disabled:c,group:i}}function Tm(e,t){let n=!1;const r=Sm([]),s=Cn(e,"modelValue",[],b=>b==null?[]:il(r,_p(b)),b=>{const S=Am(r,b);return e.multiple?S:S[0]}),i=Le("useGroup");function o(b,S){const w=b,E=Symbol.for(`${t.description}:id`),N=Qn(E,i?.vnode).indexOf(S);N>-1?r.splice(N,0,w):r.push(w)}function c(b){if(n)return;h();const S=r.findIndex(w=>w.id===b);r.splice(S,1)}function h(){const b=r.find(S=>!S.disabled);b&&e.mandatory==="force"&&!s.value.length&&(s.value=[b.id])}Em(()=>{h()}),nl(()=>{n=!0});function d(b,S){const w=r.find(E=>E.id===b);if(!(S&&w?.disabled))if(e.multiple){const E=s.value.slice(),O=E.findIndex(x=>x===b),N=~O;if(S=S??!N,N&&e.mandatory&&E.length<=1||!N&&e.max!=null&&E.length+1>e.max)return;O<0&&S?E.push(b):O>=0&&!S&&E.splice(O,1),s.value=E}else{const E=s.value.includes(b);if(e.mandatory&&E)return;s.value=S??!E?[b]:[]}}function p(b){if(e.multiple&&hn('This method is not supported when using "multiple" prop'),s.value.length){const S=s.value[0],w=r.findIndex(N=>N.id===S);let E=(w+b)%r.length,O=r[E];for(;O.disabled&&E!==w;)E=(E+b)%r.length,O=r[E];if(O.disabled)return;s.value=[r[E].id]}else{const S=r.find(w=>!w.disabled);S&&(s.value=[S.id])}}const g={register:o,unregister:c,selected:s,select:d,disabled:sl(e,"disabled"),prev:()=>p(r.length-1),next:()=>p(1),isSelected:b=>s.value.includes(b),selectedClass:dn(()=>e.selectedClass),items:dn(()=>r),getItemIndex:b=>Rm(r,b)};return rl(t,g),g}function Rm(e,t){const n=il(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function il(e,t){const n=[];return t.forEach(r=>{const s=e.find(o=>Mc(r,o.value)),i=e[r];s?.value!=null?n.push(s.id):i!=null&&n.push(i.id)}),n}function Am(e,t){const n=[];return t.forEach(r=>{const s=e.findIndex(i=>i.id===r);if(~s){const i=e[s];n.push(i.value!=null?i.value:s)}}),n}const{createVNode:Nm,mergeProps:Lm}=await A("vue"),ol=Symbol.for("vuetify:v-btn-toggle"),Pm=j({...tl(),...km()},"VBtnToggle");ve()({name:"VBtnToggle",props:Pm(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:s,prev:i,select:o,selected:c}=Tm(e,ol);return Ce(()=>{const[h]=ra.filterProps(e);return Nm(ra,Lm({class:["v-btn-toggle",e.class]},h,{style:e.style}),{default:()=>[n.default?.({isSelected:r,next:s,prev:i,select:o,selected:c})]})}),{next:s,prev:i,select:o}}});const{toRefs:Bm}=await A("vue"),$m=j({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),bt=ve(!1)({name:"VDefaultsProvider",props:$m(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:s,reset:i,root:o,scoped:c}=Bm(e);return bi(r,{reset:i,root:o,scoped:c,disabled:s}),()=>n.default?.()}});const{mergeProps:Im,createVNode:rt}=await A("vue"),{computed:Dm,inject:Vm,unref:Fm}=await A("vue"),it=[String,Function,Object,Array],Um=Symbol.for("vuetify:icons"),Nr=j({icon:{type:it},tag:{type:String,required:!0}},"icon"),sa=ve()({name:"VComponentIcon",props:Nr(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return rt(e.tag,null,{default:()=>[e.icon?rt(r,null,null):n.default?.()]})}}}),Mm=kr({name:"VSvgIcon",inheritAttrs:!1,props:Nr(),setup(e,t){let{attrs:n}=t;return()=>rt(e.tag,Im(n,{style:null}),{default:()=>[rt("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?rt("path",{d:r[0],"fill-opacity":r[1]},null):rt("path",{d:r},null)):rt("path",{d:e.icon},null)])]})}});kr({name:"VLigatureIcon",props:Nr(),setup(e){return()=>rt(e.tag,null,{default:()=>[e.icon]})}});kr({name:"VClassIcon",props:Nr(),setup(e){return()=>rt(e.tag,{class:e.icon},null)}});const qm=e=>{const t=Vm(Um);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:Dm(()=>{const r=Fm(e);if(!r)return{component:sa};let s=r;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=t.aliases?.[s.slice(1)])),!s)throw new Error(`Could not find aliased icon "${r}"`);if(Array.isArray(s))return{component:Mm,icon:s};if(typeof s!="string")return{component:sa,icon:s};const i=Object.keys(t.sets).find(h=>typeof s=="string"&&s.startsWith(`${h}:`)),o=i?s.slice(i.length+1):s;return{component:t.sets[i??t.defaultSet].component,icon:o}})}},jm=["x-small","small","default","large","x-large"],Lr=j({size:{type:[String,Number],default:"default"}},"size");function Pr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot();return yi(()=>{let n,r;return ar(jm,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:Z(e.size),height:Z(e.size)}),{sizeClasses:n,sizeStyles:r}})}const{createVNode:Hm}=await A("vue"),{computed:Wm,ref:zm,Text:Gm,toRef:Km}=await A("vue"),Ym=j({color:String,start:Boolean,end:Boolean,icon:it,...Ne(),...Lr(),...Tt({tag:"i"}),...at()},"VIcon"),xt=ve()({name:"VIcon",props:Ym(),setup(e,t){let{attrs:n,slots:r}=t;const s=zm(),{themeClasses:i}=ct(e),{iconData:o}=qm(Wm(()=>s.value||e.icon)),{sizeClasses:c}=Pr(e),{textColorClasses:h,textColorStyles:d}=ur(Km(e,"color"));return Ce(()=>{const p=r.default?.();return p&&(s.value=jc(p).filter(g=>g.type===Gm&&g.children&&typeof g.children=="string")[0]?.children),Hm(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",i.value,c.value,h.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[c.value?void 0:{fontSize:Z(e.size),height:Z(e.size),width:Z(e.size)},d.value,e.style],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},{default:()=>[p]})}),{}}});const{onBeforeUnmount:Jm,ref:Xm,shallowRef:Qm,watch:Zm}=await A("vue");function al(e,t){const n=Xm(),r=Qm(!1);if(vi){const s=new IntersectionObserver(i=>{e?.(i,s),r.value=!!i.find(o=>o.isIntersecting)},t);Jm(()=>{s.disconnect()}),Zm(n,(i,o)=>{o&&(s.unobserve(o),r.value=!1),i&&s.observe(i)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const{onBeforeUnmount:ev,readonly:tv,ref:ia,watch:nv}=await A("vue");function rv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=ia(),r=ia();if(Ue){const s=new ResizeObserver(i=>{e?.(i,s),i.length&&(t==="content"?r.value=i[0].contentRect:r.value=i[0].target.getBoundingClientRect())});ev(()=>{s.disconnect()}),nv(n,(i,o)=>{o&&(s.unobserve(Hs(o)),r.value=void 0),i&&s.observe(Hs(i))},{flush:"post"})}return{resizeRef:n,contentRect:tv(r)}}const{createVNode:rn}=await A("vue"),{computed:Bt,ref:sv,toRef:oa,watchEffect:iv}=await A("vue"),ov=j({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ne(),...Lr(),...Tt({tag:"div"}),...at()},"VProgressCircular"),av=ve()({name:"VProgressCircular",props:ov(),setup(e,t){let{slots:n}=t;const r=20,s=2*Math.PI*r,i=sv(),{themeClasses:o}=ct(e),{sizeClasses:c,sizeStyles:h}=Pr(e),{textColorClasses:d,textColorStyles:p}=ur(oa(e,"color")),{textColorClasses:g,textColorStyles:b}=ur(oa(e,"bgColor")),{intersectionRef:S,isIntersecting:w}=al(),{resizeRef:E,contentRect:O}=rv(),N=Bt(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),x=Bt(()=>Number(e.width)),_=Bt(()=>h.value?Number(e.size):O.value?O.value.width:Math.max(x.value,32)),R=Bt(()=>r/(1-x.value/_.value)*2),B=Bt(()=>x.value/_.value*R.value),V=Bt(()=>Z((100-N.value)/100*s));return iv(()=>{S.value=i.value,E.value=i.value}),Ce(()=>rn(e.tag,{ref:i,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":w.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,c.value,d.value,e.class],style:[h.value,p.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:N.value},{default:()=>[rn("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${R.value} ${R.value}`},[rn("circle",{class:["v-progress-circular__underlay",g.value],style:b.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":B.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),rn("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":B.value,"stroke-dasharray":s,"stroke-dashoffset":V.value},null)]),n.default&&rn("div",{class:"v-progress-circular__content"},[n.default({value:N.value})])]})),{}}}),{computed:cv}=await A("vue"),Br=j({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function $r(e){return{dimensionStyles:cv(()=>({height:Z(e.height),maxHeight:Z(e.maxHeight),maxWidth:Z(e.maxWidth),minHeight:Z(e.minHeight),minWidth:Z(e.minWidth),width:Z(e.width)}))}}const{computed:Yg,inject:lv,provide:Jg,ref:Xg}=await A("vue"),uv=Symbol.for("vuetify:locale");function Ci(){const e=lv(uv);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const{computed:fv}=await A("vue"),aa={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Ir=j({location:String},"location");function Dr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Ci();return{locationStyles:fv(()=>{if(!e.location)return{};const{side:i,align:o}=Ws(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function c(d){return n?n(d):0}const h={};return i!=="center"&&(t?h[aa[i]]=`calc(100% - ${c(i)}px)`:h[i]=0),o!=="center"?t?h[aa[o]]=`calc(100% - ${c(o)}px)`:h[o]=0:(i==="center"?h.top=h.left="50%":h[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",h.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),h})}}const{createVNode:ut}=await A("vue"),{computed:ft,Transition:hv}=await A("vue"),dv=j({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ne(),...Ir({location:"top"}),...zt(),...Tt(),...at()},"VProgressLinear"),pv=ve()({name:"VProgressLinear",props:dv(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Cn(e,"modelValue"),{isRtl:s,rtlClasses:i}=Ci(),{themeClasses:o}=ct(e),{locationStyles:c}=Dr(e),{textColorClasses:h,textColorStyles:d}=ur(e,"color"),{backgroundColorClasses:p,backgroundColorStyles:g}=Ks(ft(()=>e.bgColor||e.color)),{backgroundColorClasses:b,backgroundColorStyles:S}=Ks(e,"color"),{roundedClasses:w}=Gt(e),{intersectionRef:E,isIntersecting:O}=al(),N=ft(()=>parseInt(e.max,10)),x=ft(()=>parseInt(e.height,10)),_=ft(()=>parseFloat(e.bufferValue)/N.value*100),R=ft(()=>parseFloat(r.value)/N.value*100),B=ft(()=>s.value!==e.reverse),V=ft(()=>e.indeterminate?"fade-transition":"slide-x-transition"),M=ft(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function P(I){if(!E.value)return;const{left:Y,right:W,width:F}=E.value.getBoundingClientRect(),U=B.value?F-I.clientX+(W-F):I.clientX-Y;r.value=Math.round(U/F*N.value)}return Ce(()=>ut(e.tag,{ref:E,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&O.value,"v-progress-linear--reverse":B.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},w.value,o.value,i.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Z(x.value):0,"--v-progress-linear-height":Z(x.value),...c.value},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:R.value,onClick:e.clickable&&P},{default:()=>[e.stream&&ut("div",{key:"stream",class:["v-progress-linear__stream",h.value],style:{...d.value,[B.value?"left":"right"]:Z(-x.value),borderTop:`${Z(x.value/2)} dotted`,opacity:M.value,top:`calc(50% - ${Z(x.value/4)})`,width:Z(100-_.value,"%"),"--v-progress-linear-stream-to":Z(x.value*(B.value?1:-1))}},null),ut("div",{class:["v-progress-linear__background",p.value],style:[g.value,{opacity:M.value,width:Z(e.stream?_.value:100,"%")}]},null),ut(hv,{name:V.value},{default:()=>[e.indeterminate?ut("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(I=>ut("div",{key:I,class:["v-progress-linear__indeterminate",I,b.value],style:S.value},null))]):ut("div",{class:["v-progress-linear__determinate",b.value],style:[S.value,{width:Z(R.value,"%")}]},null)]}),n.default&&ut("div",{class:"v-progress-linear__content"},[n.default({value:R.value,buffer:_.value})])]})),{}}}),{createVNode:ca}=await A("vue"),{computed:mv}=await A("vue"),cl=j({loading:[Boolean,String]},"loader");function ll(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot();return{loaderClasses:mv(()=>({[`${t}--loading`]:e.loading}))}}function vv(e,t){let{slots:n}=t;return ca("div",{class:`${e.name}__loader`},[n.default?.({color:e.color,isActive:e.active})||ca(pv,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const{computed:yv}=await A("vue"),gv=["static","relative","fixed","absolute","sticky"],Oi=j({position:{type:String,validator:e=>gv.includes(e)}},"position");function Ti(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot();return{positionClasses:yv(()=>e.position?`${t}--${e.position}`:void 0)}}const{computed:Fn,nextTick:bv,onScopeDispose:_v,resolveDynamicComponent:wv,toRef:Ev}=await A("vue");function Sv(){return Le("useRouter")?.proxy?.$router}function ul(e,t){const n=wv("RouterLink"),r=Fn(()=>!!(e.href||e.to)),s=Fn(()=>r?.value||Vo(t,"click")||Vo(e,"click"));if(typeof n=="string")return{isLink:r,isClickable:s,href:Ev(e,"href")};const i=e.to?n.useLink(e):void 0;return{isLink:r,isClickable:s,route:i?.route,navigate:i?.navigate,isActive:i&&Fn(()=>e.exact?i.isExactActive?.value:i.isActive?.value),href:Fn(()=>e.to?i?.route.value.href:e.href)}}const fl=j({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let ds=!1;function xv(e,t){let n=!1,r,s;Ue&&(bv(()=>{window.addEventListener("popstate",i),r=e?.beforeEach((o,c,h)=>{ds?n?t(h):h():setTimeout(()=>n?t(h):h()),ds=!0}),s=e?.afterEach(()=>{ds=!1})}),_v(()=>{window.removeEventListener("popstate",i),r?.(),s?.()}));function i(o){o.state?.replaced||(n=!0,setTimeout(()=>n=!1))}}const{nextTick:kv,watch:Cv}=await A("vue");function Ov(e,t){Cv(()=>e.isActive?.value,n=>{e.isLink.value&&n&&t&&kv(()=>{t(!0)})},{immediate:!0})}const Ys=Symbol("rippleStop"),Tv=80;function la(e,t){e.style.transform=t,e.style.webkitTransform=t}function Js(e){return e.constructor.name==="TouchEvent"}function hl(e){return e.constructor.name==="KeyboardEvent"}const Rv=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,s=0;if(!hl(e)){const g=t.getBoundingClientRect(),b=Js(e)?e.touches[e.touches.length-1]:e;r=b.clientX-g.left,s=b.clientY-g.top}let i=0,o=.3;t._ripple?.circle?(o=.15,i=t.clientWidth/2,i=n.center?i:i+Math.sqrt((r-i)**2+(s-i)**2)/4):i=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const c=`${(t.clientWidth-i*2)/2}px`,h=`${(t.clientHeight-i*2)/2}px`,d=n.center?c:`${r-i}px`,p=n.center?h:`${s-i}px`;return{radius:i,scale:o,x:d,y:p,centerX:c,centerY:h}},fr={show(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t?._ripple?.enabled)return;const r=document.createElement("span"),s=document.createElement("span");r.appendChild(s),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:i,scale:o,x:c,y:h,centerX:d,centerY:p}=Rv(e,t,n),g=`${i*2}px`;s.className="v-ripple__animation",s.style.width=g,s.style.height=g,t.appendChild(r);const b=window.getComputedStyle(t);b&&b.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),la(s,`translate(${c}, ${h}) scale3d(${o},${o},${o})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),la(s,`translate(${d}, ${p}) scale3d(1,1,1)`)},0)},hide(e){if(!e?._ripple?.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),s=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),n.parentNode?.parentNode===e&&e.removeChild(n.parentNode)},300)},s)}};function dl(e){return typeof e>"u"||!!e}function gn(e){const t={},n=e.currentTarget;if(!(!n?._ripple||n._ripple.touched||e[Ys])){if(e[Ys]=!0,Js(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||hl(e),n._ripple.class&&(t.class=n._ripple.class),Js(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{fr.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{n?._ripple?.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},Tv)}else fr.show(e,n,t)}}function ua(e){e[Ys]=!0}function Ae(e){const t=e.currentTarget;if(t?._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Ae(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),fr.hide(t)}}function pl(e){const t=e.currentTarget;t?._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let bn=!1;function ml(e){!bn&&(e.keyCode===$o.enter||e.keyCode===$o.space)&&(bn=!0,gn(e))}function vl(e){bn=!1,Ae(e)}function yl(e){bn&&(bn=!1,Ae(e))}function gl(e,t,n){const{value:r,modifiers:s}=t,i=dl(r);if(i||fr.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=i,e._ripple.centered=s.center,e._ripple.circle=s.circle,js(r)&&r.class&&(e._ripple.class=r.class),i&&!n){if(s.stop){e.addEventListener("touchstart",ua,{passive:!0}),e.addEventListener("mousedown",ua);return}e.addEventListener("touchstart",gn,{passive:!0}),e.addEventListener("touchend",Ae,{passive:!0}),e.addEventListener("touchmove",pl,{passive:!0}),e.addEventListener("touchcancel",Ae),e.addEventListener("mousedown",gn),e.addEventListener("mouseup",Ae),e.addEventListener("mouseleave",Ae),e.addEventListener("keydown",ml),e.addEventListener("keyup",vl),e.addEventListener("blur",yl),e.addEventListener("dragstart",Ae,{passive:!0})}else!i&&n&&bl(e)}function bl(e){e.removeEventListener("mousedown",gn),e.removeEventListener("touchstart",gn),e.removeEventListener("touchend",Ae),e.removeEventListener("touchmove",pl),e.removeEventListener("touchcancel",Ae),e.removeEventListener("mouseup",Ae),e.removeEventListener("mouseleave",Ae),e.removeEventListener("keydown",ml),e.removeEventListener("keyup",vl),e.removeEventListener("dragstart",Ae),e.removeEventListener("blur",yl)}function Av(e,t){gl(e,t,!1)}function Nv(e){delete e._ripple,bl(e)}function Lv(e,t){if(t.value===t.oldValue)return;const n=dl(t.oldValue);gl(e,t,n)}const _l={mounted:Av,unmounted:Nv,updated:Lv},{withDirectives:Pv,resolveDirective:Bv,createVNode:$e}=await A("vue"),{computed:Un}=await A("vue"),$v=j({active:{type:Boolean,default:void 0},symbol:{type:null,default:ol},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:it,appendIcon:it,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...wi(),...Ne(),...xn(),...Br(),...Si(),...Cm(),...cl(),...Ir(),...Oi(),...zt(),...fl(),...Lr(),...Tt({tag:"button"}),...at(),...kn({variant:"elevated"})},"VBtn"),$t=ve()({name:"VBtn",directives:{Ripple:_l},props:$v(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=ct(e),{borderClasses:i}=Ei(e),{colorClasses:o,colorStyles:c,variantClasses:h}=Rr(e),{densityClasses:d}=Or(e),{dimensionStyles:p}=$r(e),{elevationClasses:g}=xi(e),{loaderClasses:b}=ll(e),{locationStyles:S}=Dr(e),{positionClasses:w}=Ti(e),{roundedClasses:E}=Gt(e),{sizeClasses:O,sizeStyles:N}=Pr(e),x=Om(e,e.symbol,!1),_=ul(e,n),R=Un(()=>e.active!==void 0?e.active:_.isLink.value?_.isActive?.value:x?.isSelected.value),B=Un(()=>x?.disabled.value||e.disabled),V=Un(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),M=Un(()=>{if(e.value!==void 0)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function P(I){B.value||_.isLink.value&&(I.metaKey||I.ctrlKey||I.shiftKey||I.button!==0||n.target==="_blank")||(_.navigate?.(I),x?.toggle())}return Ov(_,x?.select),Ce(()=>{const I=_.isLink.value?"a":e.tag,Y=!!(e.prependIcon||r.prepend),W=!!(e.appendIcon||r.append),F=!!(e.icon&&e.icon!==!0),U=x?.isSelected.value&&(!_.isLink.value||_.isActive?.value)||!x||_.isActive?.value;return Pv($e(I,{type:I==="a"?void 0:"button",class:["v-btn",x?.selectedClass.value,{"v-btn--active":R.value,"v-btn--block":e.block,"v-btn--disabled":B.value,"v-btn--elevated":V.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--stacked":e.stacked},s.value,i.value,U?o.value:void 0,d.value,g.value,b.value,w.value,E.value,O.value,h.value,e.class],style:[U?c.value:void 0,p.value,S.value,N.value,e.style],disabled:B.value||void 0,href:_.href.value,onClick:P,value:M.value},{default:()=>[Tr(!0,"v-btn"),!e.icon&&Y&&$e("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?$e(bt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):$e(xt,{key:"prepend-icon",icon:e.prependIcon},null)]),$e("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&F?$e(xt,{key:"content-icon",icon:e.icon},null):$e(bt,{key:"content-defaults",disabled:!F,defaults:{VIcon:{icon:e.icon}}},{default:()=>[r.default?.()??e.text]})]),!e.icon&&W&&$e("span",{key:"append",class:"v-btn__append"},[r.append?$e(bt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):$e(xt,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&$e("span",{key:"loader",class:"v-btn__loader"},[r.loader?.()??$e(av,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}),[[Bv("ripple"),!B.value&&e.ripple,null]])}),{}}});const{createVNode:Iv}=await A("vue"),wl=ve()({name:"VCardActions",props:Ne(),setup(e,t){let{slots:n}=t;return bi({VBtn:{variant:"text"}}),Ce(()=>Iv("div",{class:["v-card-actions",e.class],style:e.style},[n.default?.()])),{}}}),Dv=Cr("v-card-subtitle"),El=Cr("v-card-title");const{createVNode:ps}=await A("vue"),{computed:Vv}=await A("vue");function Fv(e){return{aspectStyles:Vv(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const Sl=j({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...Ne(),...Br()},"VResponsive"),fa=ve()({name:"VResponsive",props:Sl(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=Fv(e),{dimensionStyles:s}=$r(e);return Ce(()=>ps("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[s.value,e.style]},[ps("div",{class:"v-responsive__sizer",style:r.value},null),n.additional?.(),n.default&&ps("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])),{}}}),{h:Uv,mergeProps:Mv,Transition:qv}=await A("vue"),xl=j({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),fn=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:s,...i}=e,{component:o=qv,...c}=typeof r=="object"?r:{};return Uv(o,Mv(typeof r=="string"?{name:s?"":r}:c,i,{disabled:s}),n)};function jv(e,t){if(!vi)return;const n=t.modifiers||{},r=t.value,{handler:s,options:i}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0;const d=e._observe?.[t.instance.$.uid];if(!d)return;const p=c.some(g=>g.isIntersecting);s&&(!n.quiet||d.init)&&(!n.once||p||d.init)&&s(p,c,h),p&&n.once?kl(e,t):d.init=!0},i);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function kl(e,t){const n=e._observe?.[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Hv={mounted:jv,unmounted:kl},Wv=Hv,{withDirectives:zv,mergeProps:Gv,resolveDirective:Kv,Fragment:Yv,createVNode:be}=await A("vue"),{computed:ms,nextTick:Jv,onBeforeMount:Xv,ref:Qv,shallowRef:sn,vShow:Zv,watch:vs,withDirectives:ey}=await A("vue"),ty=j({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...Sl(),...Ne(),...xl()},"VImg"),Cl=ve()({name:"VImg",directives:{intersect:Wv},props:ty(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=sn(""),i=Qv(),o=sn(e.eager?"loading":"idle"),c=sn(),h=sn(),d=ms(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),p=ms(()=>d.value.aspect||c.value/h.value||0);vs(()=>e.src,()=>{g(o.value!=="idle")}),vs(p,(P,I)=>{!P&&I&&i.value&&O(i.value)}),Xv(()=>g());function g(P){if(!(e.eager&&P)&&!(vi&&!P&&!e.eager)){if(o.value="loading",d.value.lazySrc){const I=new Image;I.src=d.value.lazySrc,O(I,null)}d.value.src&&Jv(()=>{if(n("loadstart",i.value?.currentSrc||d.value.src),i.value?.complete){if(i.value.naturalWidth||S(),o.value==="error")return;p.value||O(i.value,null),b()}else p.value||O(i.value),w()})}}function b(){w(),o.value="loaded",n("load",i.value?.currentSrc||d.value.src)}function S(){o.value="error",n("error",i.value?.currentSrc||d.value.src)}function w(){const P=i.value;P&&(s.value=P.currentSrc||P.src)}let E=-1;function O(P){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const Y=()=>{clearTimeout(E);const{naturalHeight:W,naturalWidth:F}=P;W||F?(c.value=F,h.value=W):!P.complete&&o.value==="loading"&&I!=null?E=window.setTimeout(Y,I):(P.currentSrc.endsWith(".svg")||P.currentSrc.startsWith("data:image/svg+xml"))&&(c.value=1,h.value=1)};Y()}const N=ms(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),x=()=>{if(!d.value.src||o.value==="idle")return null;const P=be("img",{class:["v-img__img",N.value],src:d.value.src,srcset:d.value.srcset,alt:e.alt,sizes:e.sizes,ref:i,onLoad:b,onError:S},null),I=r.sources?.();return be(fn,{transition:e.transition,appear:!0},{default:()=>[ey(I?be("picture",{class:"v-img__picture"},[I,P]):P,[[Zv,o.value==="loaded"]])]})},_=()=>be(fn,{transition:e.transition},{default:()=>[d.value.lazySrc&&o.value!=="loaded"&&be("img",{class:["v-img__img","v-img__img--preload",N.value],src:d.value.lazySrc,alt:e.alt},null)]}),R=()=>r.placeholder?be(fn,{transition:e.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!r.error)&&be("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,B=()=>r.error?be(fn,{transition:e.transition,appear:!0},{default:()=>[o.value==="error"&&be("div",{class:"v-img__error"},[r.error()])]}):null,V=()=>e.gradient?be("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,M=sn(!1);{const P=vs(p,I=>{I&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{M.value=!0})}),P())})}return Ce(()=>{const[P]=fa.filterProps(e);return zv(be(fa,Gv({class:["v-img",{"v-img--booting":!M.value},e.class],style:[{width:Z(e.width==="auto"?c.value:e.width)},e.style]},P,{aspectRatio:p.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>be(Yv,null,[be(x,null,null),be(_,null,null),be(V,null,null),be(R,null,null),be(B,null,null)]),default:r.default}),[[Kv("intersect"),{handler:g,options:e.options},null,{once:!0}]])}),{currentSrc:s,image:i,state:o,naturalWidth:c,naturalHeight:h}}}),{createVNode:ys}=await A("vue"),ny=j({start:Boolean,end:Boolean,icon:it,image:String,...Ne(),...xn(),...zt(),...Lr(),...Tt(),...at(),...kn({variant:"flat"})},"VAvatar"),ha=ve()({name:"VAvatar",props:ny(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=ct(e),{colorClasses:s,colorStyles:i,variantClasses:o}=Rr(e),{densityClasses:c}=Or(e),{roundedClasses:h}=Gt(e),{sizeClasses:d,sizeStyles:p}=Pr(e);return Ce(()=>ys(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,s.value,c.value,h.value,d.value,o.value,e.class],style:[i.value,p.value,e.style]},{default:()=>[e.image?ys(Cl,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?ys(xt,{key:"icon",icon:e.icon},null):n.default?.(),Tr(!1,"v-avatar")]})),{}}}),{resolveDirective:Qg,createVNode:Ge}=await A("vue"),ry=j({appendAvatar:String,appendIcon:it,prependAvatar:String,prependIcon:it,subtitle:String,title:String,...Ne(),...xn()},"VCardItem"),sy=ve()({name:"VCardItem",props:ry(),setup(e,t){let{slots:n}=t;return Ce(()=>{const r=!!(e.prependAvatar||e.prependIcon),s=!!(r||n.prepend),i=!!(e.appendAvatar||e.appendIcon),o=!!(i||n.append),c=!!(e.title||n.title),h=!!(e.subtitle||n.subtitle);return Ge("div",{class:["v-card-item",e.class],style:e.style},[s&&Ge("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?Ge(bt,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},n.prepend):r&&Ge(ha,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),Ge("div",{class:"v-card-item__content"},[c&&Ge(El,{key:"title"},{default:()=>[n.title?.()??e.title]}),h&&Ge(Dv,{key:"subtitle"},{default:()=>[n.subtitle?.()??e.subtitle]}),n.default?.()]),o&&Ge("div",{key:"append",class:"v-card-item__append"},[n.append?Ge(bt,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},n.append):i&&Ge(ha,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),Ol=Cr("v-card-text"),{withDirectives:iy,resolveDirective:oy,createVNode:ht}=await A("vue"),{computed:da}=await A("vue"),ay=j({appendAvatar:String,appendIcon:it,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:it,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...wi(),...Ne(),...xn(),...Br(),...Si(),...cl(),...Ir(),...Oi(),...zt(),...fl(),...Tt(),...at(),...kn({variant:"elevated"})},"VCard"),cy=ve()({name:"VCard",directives:{Ripple:_l},props:ay(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=ct(e),{borderClasses:i}=Ei(e),{colorClasses:o,colorStyles:c,variantClasses:h}=Rr(e),{densityClasses:d}=Or(e),{dimensionStyles:p}=$r(e),{elevationClasses:g}=xi(e),{loaderClasses:b}=ll(e),{locationStyles:S}=Dr(e),{positionClasses:w}=Ti(e),{roundedClasses:E}=Gt(e),O=ul(e,n),N=da(()=>e.link!==!1&&O.isLink.value),x=da(()=>!e.disabled&&e.link!==!1&&(e.link||O.isClickable.value));return Ce(()=>{const _=N.value?"a":e.tag,R=!!(r.title||e.title),B=!!(r.subtitle||e.subtitle),V=R||B,M=!!(r.append||e.appendAvatar||e.appendIcon),P=!!(r.prepend||e.prependAvatar||e.prependIcon),I=!!(r.image||e.image),Y=V||P||M,W=!!(r.text||e.text);return iy(ht(_,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":x.value},s.value,i.value,o.value,d.value,g.value,b.value,w.value,E.value,h.value,e.class],style:[c.value,p.value,S.value,e.style],href:O.href.value,onClick:x.value&&O.navigate,tabindex:e.disabled?-1:void 0},{default:()=>[I&&ht("div",{key:"image",class:"v-card__image"},[r.image?ht(bt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):ht(Cl,{key:"image-img",cover:!0,src:e.image},null)]),ht(vv,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),Y&&ht(sy,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),W&&ht(Ol,{key:"text"},{default:()=>[r.text?.()??e.text]}),r.default?.(),r.actions&&ht(wl,null,{default:r.actions}),Tr(x.value,"v-card")]}),[[oy("ripple"),x.value&&e.ripple]])}),{}}});const{createVNode:pa,mergeProps:ly,resolveDirective:Zg}=await A("vue"),{Transition:ma}=await A("vue"),uy=j({target:Object},"v-dialog-transition"),fy=ve()({name:"VDialogTransition",props:uy(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,i){await new Promise(b=>requestAnimationFrame(b)),await new Promise(b=>requestAnimationFrame(b)),s.style.visibility="";const{x:o,y:c,sx:h,sy:d,speed:p}=ya(e.target,s),g=ln(s,[{transform:`translate(${o}px, ${c}px) scale(${h}, ${d})`,opacity:0},{}],{duration:225*p,easing:Yp});va(s)?.forEach(b=>{ln(b,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*p,easing:Gs})}),g.finished.then(()=>i())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,i){await new Promise(b=>requestAnimationFrame(b));const{x:o,y:c,sx:h,sy:d,speed:p}=ya(e.target,s);ln(s,[{},{transform:`translate(${o}px, ${c}px) scale(${h}, ${d})`,opacity:0}],{duration:125*p,easing:Jp}).finished.then(()=>i()),va(s)?.forEach(b=>{ln(b,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*p,easing:Gs})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>e.target?pa(ma,ly({name:"dialog-transition"},r,{css:!1}),n):pa(ma,{name:"dialog-transition"},n)}});function va(e){const t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return t&&[...t]}function ya(e,t){const n=e.getBoundingClientRect(),r=zc(t),[s,i]=getComputedStyle(t).transformOrigin.split(" ").map(N=>parseFloat(N)),[o,c]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let h=n.left+n.width/2;o==="left"||c==="left"?h-=n.width/2:(o==="right"||c==="right")&&(h+=n.width/2);let d=n.top+n.height/2;o==="top"||c==="top"?d-=n.height/2:(o==="bottom"||c==="bottom")&&(d+=n.height/2);const p=n.width/r.width,g=n.height/r.height,b=Math.max(1,p,g),S=p/b||0,w=g/b||0,E=r.width*r.height/(window.innerWidth*window.innerHeight),O=E>.12?Math.min(1.5,(E-.12)*10+1):1;return{x:h-(s+r.left),y:d-(i+r.top),sx:S,sy:w,speed:O}}function gs(e,t){return{x:e.x+t.x,y:e.y+t.y}}function hy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ga(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,s=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,i=n==="top"?0:n==="bottom"?t.height:n;return gs({x:s,y:i},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,s=n==="left"?0:n==="right"?t.width:n,i=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return gs({x:s,y:i},t)}return gs({x:t.width/2,y:t.height/2},t)}const{computed:ba,nextTick:dy,onScopeDispose:Xs,ref:_a,watch:Qs}=await A("vue"),Tl={static:vy,connected:gy},py=j({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Tl},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function my(e,t){const n=_a({}),r=_a();Ue&&(Ar(()=>!!(t.isActive.value&&e.locationStrategy),i=>{Qs(()=>e.locationStrategy,i),Xs(()=>{r.value=void 0}),typeof e.locationStrategy=="function"?r.value=e.locationStrategy(t,e,n)?.updateLocation:r.value=Tl[e.locationStrategy](t,e,n)?.updateLocation}),window.addEventListener("resize",s,{passive:!0}),Xs(()=>{window.removeEventListener("resize",s),r.value=void 0}));function s(i){r.value?.(i)}return{contentStyles:n,updateLocation:r}}function vy(){}function yy(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=zc(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function gy(e,t,n){tm(e.activatorEl.value)&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:i}=yi(()=>{const w=Ws(t.location,e.isRtl.value),E=t.origin==="overlap"?w:t.origin==="auto"?as(w):Ws(t.origin,e.isRtl.value);return w.side===E.side&&w.align===cs(E).align?{preferredAnchor:Uo(w),preferredOrigin:Uo(E)}:{preferredAnchor:w,preferredOrigin:E}}),[o,c,h,d]=["minWidth","minHeight","maxWidth","maxHeight"].map(w=>ba(()=>{const E=parseFloat(t[w]);return isNaN(E)?1/0:E})),p=ba(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const w=t.offset.split(" ").map(parseFloat);return w.length<2&&w.push(0),w}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let g=!1;const b=new ResizeObserver(()=>{g&&S()});Qs([e.activatorEl,e.contentEl],(w,E)=>{let[O,N]=w,[x,_]=E;x&&b.unobserve(x),O&&b.observe(O),_&&b.unobserve(_),N&&b.observe(N)},{immediate:!0}),Xs(()=>{b.disconnect()});function S(){if(g=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>g=!0)}),!e.activatorEl.value||!e.contentEl.value)return;const w=e.activatorEl.value.getBoundingClientRect(),E=yy(e.contentEl.value,e.isRtl.value),O=lr(e.contentEl.value),N=12;O.length||(O.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(E.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),E.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const x=O.reduce((W,F)=>{const U=F.getBoundingClientRect(),z=new Mt({x:F===document.documentElement?0:U.x,y:F===document.documentElement?0:U.y,width:F.clientWidth,height:F.clientHeight});return W?new Mt({x:Math.max(W.left,z.left),y:Math.max(W.top,z.top),width:Math.min(W.right,z.right)-Math.max(W.left,z.left),height:Math.min(W.bottom,z.bottom)-Math.max(W.top,z.top)}):z},void 0);x.x+=N,x.y+=N,x.width-=N*2,x.height-=N*2;let _={anchor:s.value,origin:i.value};function R(W){const F=new Mt(E),U=ga(W.anchor,w),z=ga(W.origin,F);let{x:ae,y:oe}=hy(U,z);switch(W.anchor.side){case"top":oe-=p.value[0];break;case"bottom":oe+=p.value[0];break;case"left":ae-=p.value[0];break;case"right":ae+=p.value[0];break}switch(W.anchor.align){case"top":oe-=p.value[1];break;case"bottom":oe+=p.value[1];break;case"left":ae-=p.value[1];break;case"right":ae+=p.value[1];break}return F.x+=ae,F.y+=oe,F.width=Math.min(F.width,h.value),F.height=Math.min(F.height,d.value),{overflows:qo(F,x),x:ae,y:oe}}let B=0,V=0;const M={x:0,y:0},P={x:!1,y:!1};let I=-1;for(;;){if(I++>10){Bp("Infinite loop detected in connectedLocationStrategy");break}const{x:W,y:F,overflows:U}=R(_);B+=W,V+=F,E.x+=W,E.y+=F;{const z=Mo(_.anchor),ae=U.x.before||U.x.after,oe=U.y.before||U.y.after;let ue=!1;if(["x","y"].forEach(le=>{if(le==="x"&&ae&&!P.x||le==="y"&&oe&&!P.y){const re={anchor:{..._.anchor},origin:{..._.origin}},L=le==="x"?z==="y"?cs:as:z==="y"?as:cs;re.anchor=L(re.anchor),re.origin=L(re.origin);const{overflows:$}=R(re);($[le].before<=U[le].before&&$[le].after<=U[le].after||$[le].before+$[le].after<(U[le].before+U[le].after)/2)&&(_=re,ue=P[le]=!0)}}),ue)continue}U.x.before&&(B+=U.x.before,E.x+=U.x.before),U.x.after&&(B-=U.x.after,E.x-=U.x.after),U.y.before&&(V+=U.y.before,E.y+=U.y.before),U.y.after&&(V-=U.y.after,E.y-=U.y.after);{const z=qo(E,x);M.x=x.width-z.x.before-z.x.after,M.y=x.height-z.y.before-z.y.after,B+=z.x.before,E.x+=z.x.before,V+=z.y.before,E.y+=z.y.before}break}const Y=Mo(_.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${_.anchor.side} ${_.anchor.align}`,transformOrigin:`${_.origin.side} ${_.origin.align}`,top:Z(bs(V)),left:e.isRtl.value?void 0:Z(bs(B)),right:e.isRtl.value?Z(bs(-B)):void 0,minWidth:Z(Y==="y"?Math.min(o.value,w.width):o.value),maxWidth:Z(wa(Io(M.x,o.value===1/0?0:o.value,h.value))),maxHeight:Z(wa(Io(M.y,c.value===1/0?0:c.value,d.value)))}),{available:M,contentBox:E}}return Qs(()=>[s.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>S()),dy(()=>{const w=S();if(!w)return;const{available:E,contentBox:O}=w;O.height>E.y&&requestAnimationFrame(()=>{S(),requestAnimationFrame(()=>{S()})})}),{updateLocation:S}}function bs(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function wa(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Zs=!0;const hr=[];function by(e){!Zs||hr.length?(hr.push(e),ei()):(Zs=!1,e(),ei())}let Ea=-1;function ei(){cancelAnimationFrame(Ea),Ea=requestAnimationFrame(()=>{const e=hr.shift();e&&e(),hr.length?ei():Zs=!0})}const{effectScope:_y,nextTick:wy,onScopeDispose:Vr,watchEffect:Ey}=await A("vue"),Rl={none:null,close:ky,block:Cy,reposition:Oy},Sy=j({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Rl}},"VOverlay-scroll-strategies");function xy(e,t){if(!Ue)return;let n;Ey(async()=>{n?.stop(),t.isActive.value&&e.scrollStrategy&&(n=_y(),await wy(),n.active&&n.run(()=>{typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):Rl[e.scrollStrategy]?.(t,e,n)}))}),Vr(()=>{n?.stop()})}function ky(e){function t(n){e.isActive.value=!1}Al(e.activatorEl.value??e.contentEl.value,t)}function Cy(e,t){const n=e.root.value?.offsetParent,r=[...new Set([...lr(e.activatorEl.value,t.contained?n:void 0),...lr(e.contentEl.value,t.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,i=(o=>_i(o)&&o)(n||document.documentElement);i&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((o,c)=>{o.style.setProperty("--v-body-scroll-x",Z(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Z(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Z(s)),o.classList.add("v-overlay-scroll-blocked")}),Vr(()=>{r.forEach((o,c)=>{const h=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(o.style.getPropertyValue("--v-body-scroll-y"));o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-h,o.scrollTop=-d}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Oy(e,t,n){let r=!1,s=-1,i=-1;function o(c){by(()=>{const h=performance.now();e.updateLocation.value?.(c),r=(performance.now()-h)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?c=>c():requestIdleCallback)(()=>{n.run(()=>{Al(e.activatorEl.value??e.contentEl.value,c=>{r?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{o(c)})})):o(c)})})}),Vr(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(s)})}function Al(e,t){const n=[document,...lr(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),Vr(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const Ty=Symbol.for("vuetify:v-menu"),Ry=j({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Ay(e,t){const n={},r=s=>()=>{if(!Ue)return Promise.resolve(!0);const i=s==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(o=>{const c=parseInt(e[s]??0,10);n[s]=window.setTimeout(()=>{t?.(i),o(i)},c)})};return{runCloseDelay:r("closeDelay"),runOpenDelay:r("openDelay")}}const{computed:on,effectScope:Ny,inject:Ly,mergeProps:Sa,nextTick:Nl,onScopeDispose:Ll,ref:xa,watch:dr,watchEffect:Py}=await A("vue"),By=j({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Ry()},"VOverlay-activator");function $y(e,t){let{isActive:n,isTop:r}=t;const s=xa();let i=!1,o=!1,c=!0;const h=on(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),d=on(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!h.value),{runOpenDelay:p,runCloseDelay:g}=Ay(e,_=>{_===(e.openOnHover&&i||h.value&&o)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==_&&(c=!0),n.value=_)}),b={onClick:_=>{_.stopPropagation(),s.value=_.currentTarget||_.target,n.value=!n.value},onMouseenter:_=>{_.sourceCapabilities?.firesTouchEvents||(i=!0,s.value=_.currentTarget||_.target,p())},onMouseleave:_=>{i=!1,g()},onFocus:_=>{Sp(_.target,":focus-visible")!==!1&&(o=!0,_.stopPropagation(),s.value=_.currentTarget||_.target,p())},onBlur:_=>{o=!1,_.stopPropagation(),g()}},S=on(()=>{const _={};return d.value&&(_.onClick=b.onClick),e.openOnHover&&(_.onMouseenter=b.onMouseenter,_.onMouseleave=b.onMouseleave),h.value&&(_.onFocus=b.onFocus,_.onBlur=b.onBlur),_}),w=on(()=>{const _={};if(e.openOnHover&&(_.onMouseenter=()=>{i=!0,p()},_.onMouseleave=()=>{i=!1,g()}),h.value&&(_.onFocusin=()=>{o=!0,p()},_.onFocusout=()=>{o=!1,g()}),e.closeOnContentClick){const R=Ly(Ty,null);_.onClick=()=>{n.value=!1,R?.closeParents()}}return _}),E=on(()=>{const _={};return e.openOnHover&&(_.onMouseenter=()=>{c&&(i=!0,c=!1,p())},_.onMouseleave=()=>{i=!1,g()}),_});dr(r,_=>{_&&(e.openOnHover&&!i&&(!h.value||!o)||h.value&&!o&&(!e.openOnHover||!i))&&(n.value=!1)});const O=xa();Py(()=>{O.value&&Nl(()=>{s.value=Hs(O.value)})});const N=Le("useActivator");let x;return dr(()=>!!e.activator,_=>{_&&Ue?(x=Ny(),x.run(()=>{Iy(e,N,{activatorEl:s,activatorEvents:S})})):x&&x.stop()},{flush:"post",immediate:!0}),Ll(()=>{x?.stop()}),{activatorEl:s,activatorRef:O,activatorEvents:S,contentEvents:w,scrimEvents:E}}function Iy(e,t,n){let{activatorEl:r,activatorEvents:s}=n;dr(()=>e.activator,(h,d)=>{if(d&&h!==d){const p=c(d);p&&o(p)}h&&Nl(()=>i())},{immediate:!0}),dr(()=>e.activatorProps,()=>{i()}),Ll(()=>{o()});function i(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;h&&kp(h,Sa(s.value,d))}function o(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;h&&Cp(h,Sa(s.value,d))}function c(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,d;if(h)if(h==="parent"){let p=t?.proxy?.$el?.parentNode;for(;p?.hasAttribute("data-no-activator");)p=p.parentNode;d=p}else typeof h=="string"?d=document.querySelector(h):"$el"in h?d=h.$el:d=h;return r.value=d?.nodeType===Node.ELEMENT_NODE?d:null,r.value}}const{inject:Dy,reactive:eb,shallowRef:tb,toRefs:nb,watchEffect:rb}=await A("vue"),Vy=Symbol.for("vuetify:display");function Fy(){const e=Dy(Vy);if(!e)throw new Error("Could not find Vuetify display injection");return e}const{onMounted:Uy,shallowRef:_s}=await A("vue");function My(){if(!Ue)return _s(!1);const{ssr:e}=Fy();if(e){const t=_s(!1);return Uy(()=>{t.value=!0}),t}else return _s(!0)}const{computed:qy,shallowRef:jy,watch:Hy}=await A("vue"),Wy=j({eager:Boolean},"lazy");function zy(e,t){const n=jy(!1),r=qy(()=>n.value||e.eager||t.value);Hy(t,()=>n.value=!0);function s(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:s}}function Ri(){const t=Le("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const{computed:ka,inject:Gy,onScopeDispose:Ky,provide:Yy,reactive:Pl,readonly:Jy,shallowRef:Ca,toRaw:Xy,watchEffect:Qy}=await A("vue"),Oa=Symbol.for("vuetify:stack"),an=Pl([]);function Zy(e,t,n){const r=Le("useStack"),s=!n,i=Gy(Oa,void 0),o=Pl({activeChildren:new Set});Yy(Oa,o);const c=Ca(+t.value);Ar(e,()=>{const p=an.at(-1)?.[1];c.value=p?p+10:+t.value,s&&an.push([r.uid,c.value]),i?.activeChildren.add(r.uid),Ky(()=>{if(s){const g=Xy(an).findIndex(b=>b[0]===r.uid);an.splice(g,1)}i?.activeChildren.delete(r.uid)})});const h=Ca(!0);s&&Qy(()=>{const p=an.at(-1)?.[0]===r.uid;setTimeout(()=>h.value=p)});const d=ka(()=>!o.activeChildren.size);return{globalTop:Jy(h),localTop:d,stackStyles:ka(()=>({zIndex:c.value}))}}const{computed:eg,warn:tg}=await A("vue");function ng(e){return{teleportTarget:eg(()=>{const n=e.value;if(n===!0||!Ue)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null){tg(`Unable to locate target ${n}`);return}let s=r.querySelector(":scope > .v-overlay-container");return s||(s=document.createElement("div"),s.className="v-overlay-container",r.appendChild(s)),s})}}function rg(){return!0}function Bl(e,t,n){if(!e||$l(e,n)===!1)return!1;const r=Jc(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(t),!s.some(i=>i?.contains(e.target))}function $l(e,t){return(typeof t.value=="object"&&t.value.closeConditional||rg)(e)}function sg(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&Bl(e,t,n)&&setTimeout(()=>{$l(e,n)&&r&&r(e)},0)}function Ta(e,t){const n=Jc(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const ig={mounted(e,t){const n=s=>sg(s,e,t),r=s=>{e._clickOutside.lastMousedownWasOutside=Bl(s,e,t)};Ta(e,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(e,t){e._clickOutside&&(Ta(e,n=>{if(!n||!e._clickOutside?.[t.instance.$.uid])return;const{onClick:r,onMousedown:s}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",s,!0)}),delete e._clickOutside[t.instance.$.uid])}},{withDirectives:og,resolveDirective:ag,vShow:cg,Fragment:lg,createVNode:vt,mergeProps:tr}=await A("vue"),{computed:ws,mergeProps:ug,ref:Es,Teleport:fg,toRef:hg,Transition:dg,watch:Ss}=await A("vue");function pg(e){const{modelValue:t,color:n,...r}=e;return vt(dg,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&vt("div",tr({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const Ai=j({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...By(),...Ne(),...Br(),...Wy(),...py(),...Sy(),...at(),...xl()},"VOverlay"),pr=ve()({name:"VOverlay",directives:{ClickOutside:ig},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Ai()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:s}=t;const i=Cn(e,"modelValue"),o=ws({get:()=>i.value,set:re=>{re&&e.disabled||(i.value=re)}}),{teleportTarget:c}=ng(ws(()=>e.attach||e.contained)),{themeClasses:h}=ct(e),{rtlClasses:d,isRtl:p}=Ci(),{hasContent:g,onAfterLeave:b}=zy(e,o),S=Ks(ws(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:w,localTop:E,stackStyles:O}=Zy(o,hg(e,"zIndex"),e._disableGlobalStack),{activatorEl:N,activatorRef:x,activatorEvents:_,contentEvents:R,scrimEvents:B}=$y(e,{isActive:o,isTop:E}),{dimensionStyles:V}=$r(e),M=My(),{scopeId:P}=Ri();Ss(()=>e.disabled,re=>{re&&(o.value=!1)});const I=Es(),Y=Es(),{contentStyles:W,updateLocation:F}=my(e,{isRtl:p,contentEl:Y,activatorEl:N,isActive:o});xy(e,{root:I,contentEl:Y,activatorEl:N,isActive:o,updateLocation:F});function U(re){s("click:outside",re),e.persistent?le():o.value=!1}function z(){return o.value&&w.value}Ue&&Ss(o,re=>{re?window.addEventListener("keydown",ae):window.removeEventListener("keydown",ae)},{immediate:!0});function ae(re){re.key==="Escape"&&w.value&&(e.persistent?le():(o.value=!1,Y.value?.contains(document.activeElement)&&N.value?.focus()))}const oe=Sv();Ar(()=>e.closeOnBack,()=>{xv(oe,re=>{w.value&&o.value?(re(!1),e.persistent?le():o.value=!1):re()})});const ue=Es();Ss(()=>o.value&&(e.absolute||e.contained)&&c.value==null,re=>{if(re){const L=Qp(I.value);L&&L!==document.scrollingElement&&(ue.value=L.scrollTop)}});function le(){e.noClickAnimation||Y.value&&ln(Y.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Gs})}return Ce(()=>vt(lg,null,[n.activator?.({isActive:o.value,props:ug({ref:x},_.value,e.activatorProps)}),M.value&&g.value&&vt(fg,{disabled:!c.value,to:c.value},{default:()=>[vt("div",tr({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":o.value,"v-overlay--contained":e.contained},h.value,d.value,e.class],style:[O.value,{top:Z(ue.value)},e.style],ref:I},P,r),[vt(pg,tr({color:S,modelValue:o.value&&!!e.scrim},B.value),null),vt(fn,{appear:!0,persisted:!0,transition:e.transition,target:N.value,onAfterLeave:()=>{b(),s("afterLeave")}},{default:()=>[og(vt("div",tr({ref:Y,class:["v-overlay__content",e.contentClass],style:[V.value,W.value]},R.value,e.contentProps),[n.default?.({isActive:o})]),[[cg,o.value],[ag("click-outside"),{handler:U,closeConditional:z,include:()=>[N.value]}]])]})])]})])),{activatorEl:N,animateClick:le,contentEl:Y,globalTop:w,localTop:E,updateLocation:F}}}),xs=Symbol("Forwarded refs");function ks(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Il(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[xs]=n,new Proxy(e,{get(s,i){if(Reflect.has(s,i))return Reflect.get(s,i);if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,i)){const c=Reflect.get(o.value,i);return typeof c=="function"?c.bind(o.value):c}}},has(s,i){if(Reflect.has(s,i))return!0;if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,i))return!0;return!1},set(s,i,o){if(Reflect.has(s,i))return Reflect.set(s,i,o);if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const c of n)if(c.value&&Reflect.has(c.value,i))return Reflect.set(c.value,i,o);return!1},getOwnPropertyDescriptor(s,i){const o=Reflect.getOwnPropertyDescriptor(s,i);if(o)return o;if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const c of n){if(!c.value)continue;const h=ks(c.value,i)??("_"in c.value?ks(c.value._?.setupState,i):void 0);if(h)return h}for(const c of n){const h=c.value&&c.value[xs];if(!h)continue;const d=h.slice();for(;d.length;){const p=d.shift(),g=ks(p.value,i);if(g)return g;const b=p.value&&p.value[xs];b&&d.push(...b)}}}}})}const{mergeProps:mg,createVNode:Ra}=await A("vue"),{computed:vg,mergeProps:yg,nextTick:gg,ref:bg,watch:Aa}=await A("vue"),_g=j({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ai({origin:"center center",scrollStrategy:"block",transition:{component:fy},zIndex:2400})},"VDialog"),wg=ve()({name:"VDialog",props:_g(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Cn(e,"modelValue"),{scopeId:s}=Ri(),i=bg();function o(h){const d=h.relatedTarget,p=h.target;if(d!==p&&i.value?.contentEl&&i.value?.globalTop&&![document,i.value.contentEl].includes(p)&&!i.value.contentEl.contains(p)){const g=Ep(i.value.contentEl);if(!g.length)return;const b=g[0],S=g[g.length-1];d===b?S.focus():b.focus()}}Ue&&Aa(()=>r.value&&e.retainFocus,h=>{h?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),Aa(r,async h=>{await gg(),h?i.value.contentEl?.focus({preventScroll:!0}):i.value.activatorEl?.focus({preventScroll:!0})});const c=vg(()=>yg({"aria-haspopup":"dialog","aria-expanded":String(r.value)},e.activatorProps));return Ce(()=>{const[h]=pr.filterProps(e);return Ra(pr,mg({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},h,{modelValue:r.value,"onUpdate:modelValue":d=>r.value=d,"aria-modal":"true",activatorProps:c.value,role:"dialog"},s),{activator:n.activator,default:function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return Ra(bt,{root:"VDialog"},{default:()=>[n.default?.(...p)]})}})}),Il({},i)}}),Eg=Cr("v-spacer","div","VSpacer");const{mergeProps:Sg,resolveDirective:sb,createVNode:Mn}=await A("vue"),{mergeProps:xg,onMounted:kg,ref:Cg,watch:Na}=await A("vue"),Og=j({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Ir({location:"bottom"}),...Oi(),...zt(),...kn(),...at(),...gp(Ai({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Tg=ve()({name:"VSnackbar",props:Og(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Cn(e,"modelValue"),{locationStyles:s}=Dr(e),{positionClasses:i}=Ti(e),{scopeId:o}=Ri(),{themeClasses:c}=ct(e),{colorClasses:h,colorStyles:d,variantClasses:p}=Rr(e),{roundedClasses:g}=Gt(e),b=Cg();Na(r,w),Na(()=>e.timeout,w),kg(()=>{r.value&&w()});let S=-1;function w(){window.clearTimeout(S);const O=Number(e.timeout);!r.value||O===-1||(S=window.setTimeout(()=>{r.value=!1},O))}function E(){window.clearTimeout(S)}return Ce(()=>{const[O]=pr.filterProps(e);return Mn(pr,Sg({ref:b,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},i.value,e.class],style:e.style},O,{modelValue:r.value,"onUpdate:modelValue":N=>r.value=N,contentProps:xg({class:["v-snackbar__wrapper",c.value,h.value,g.value,p.value],style:[s.value,d.value],onPointerenter:E,onPointerleave:w},O.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},o),{default:()=>[Tr(!1,"v-snackbar"),n.default&&Mn("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.default()]),n.actions&&Mn(bt,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[Mn("div",{class:"v-snackbar__actions"},[n.actions()])]})],activator:n.activator})}),Il({},b)}}),{ref:Rg}=await A("vue"),Ie=Df.io("https://livestream-backend-ng53ixt7xq-as.a.run.app"),Ag={name:"demo-component",components:{"vue-webrtc":mi},data(){return{el:Rg(null),roomId:"roomId",hasJoined:!1,videoOn:!0,micOn:!0,mediaRecorder:{},chunks:[],userStream:{},audioContext:null,videoContainer:null,stream:null,dialog:!1,snackbar:!1,isHost:"",streamId:"",textUserStatus:"User Join",isRecording:!1,mediaStream:null}},mounted(){Ie.on("deleteUser",({roomId:t,sessionId:n})=>{this.roomId===t&&(this.snackbar=!0,this.textUserStatus=`User ( ${n} ) has left the meeting room.`)}),Ie.on("join",({roomId:t,sessionId:n})=>{this.roomId===t&&(this.snackbar=!0,this.textUserStatus=`User ( ${n} ) has join the meeting room.`)}),Ie.on("talking",({sessionId:t,isTalking:n})=>{this.videoContainer=document.querySelector(`.video-item video[id='${t}']`),n&&this.videoContainer?this.videoContainer.style.border="thick solid #FF6B35":this.videoContainer&&(this.videoContainer.style.border="none")});const e=window.location.hash;e!=""&&(this.roomId=e.substring(1),this.toggleRoom())},created(){this.audioContext=new window.AudioContext,window.addEventListener("beforeunload",function(e){console.log("event onload create: ",e),e.returnValue="Write something"})},methods:{async onStop(e){console.log("streamId: ",e)},async onDownloadLocal(){this.$refs.webrtc.leave(),this.hasJoined=!1,this.stopListening(),this.mediaRecorder&&this.isRecording&&(this.mediaRecorder.stop(),this.mediaStream&&this.mediaStream.getTracks().forEach(e=>e.stop()),this.isRecording=!1),await Nt.delete(`https://livestream-backend-ng53ixt7xq-as.a.run.app/users/list/${this.roomId}/${this.userStream.id}`),await Nt.post("https://livestream-backend-ng53ixt7xq-as.a.run.app/files",{fileName:this.roomId}),Ie.emit("usersList",{roomId:this.roomId}),Ie.emit("deleteUser",{roomId:this.roomId,sessionId:this.userStream.id})},pushData(e){this.chunks.push(e.data)},record(){this.mediaRecorder.start()},onHandleVideoOn(){this.videoOn=!this.videoOn,this.userStream.video=this.videoOn,this.userStream.getVideoTracks()[0].enabled=this.videoOn},onHandleMicOn(){this.micOn=!this.micOn,this.userStream.audio=this.micOn,this.userStream.getAudioTracks()[0].enabled=this.micOn,this.micOn?this.startListening(this.userStream.id):this.stopListening(this.userStream.id)},stopListening(e){this.mediaStreamSource&&(this.mediaStreamSource.disconnect(),this.mediaStreamSource=null,this.analyser=null,this.isListening=!1),setTimeout(function(){this.videoContainer=document.querySelector(`.video-item video[id='${e}']`),this.videoContainer&&(this.videoContainer.style.border="none")},1e3)},startListening(e){navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{this.mediaStreamSource=this.audioContext.createMediaStreamSource(t),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=32,this.mediaStreamSource.connect(this.analyser),this.isListening=!0,this.checkTalking(e)}).catch(t=>{console.error("Error accessing microphone:",t)})},checkTalking(e){const t=this.analyser.frequencyBinCount,n=new Uint8Array(t),r=()=>{if(!this.isListening)return;this.analyser.getByteFrequencyData(n);const s=n.reduce((o,c)=>o+c,0)/t,i=100;setTimeout(function(){this.videoContainer=document.querySelector(`.video-item video[id='${e}']`),s>i&&this.videoContainer?(this.videoContainer.style.border="thick solid #FF6B35",Ie.emit("talking",{isTalking:!0,sessionId:e})):(this.videoContainer&&(this.videoContainer.style.border="none"),Ie.emit("talking",{isTalking:!1,sessionId:e}))},1e3),requestAnimationFrame(r)};r()},async toggleRoom(){try{if(this.hasJoined){const{data:e}=await Nt.get(`https://livestream-backend-ng53ixt7xq-as.a.run.app/users/${this.userStream.id}`);console.log("data: ",e),e.data.isHost?this.dialog=!0:this.onDownloadLocal()}else{await this.$refs.webrtc.join(),this.userStream=this.$refs.webrtc.videoList[0].stream,Ie.emit("usersList",{roomId:this.roomId}),Ie.emit("join",{roomId:this.roomId,sessionId:this.userStream.id}),this.startListening(this.userStream.id),this.getUserList();const{data:e}=await Nt.get(`https://livestream-backend-ng53ixt7xq-as.a.run.app/users/${this.userStream.id}`);console.log("data isHost: ",e,this.userStream.id),this.mediaStream=await navigator.mediaDevices.getDisplayMedia({video:{mediaSource:"screen"},audio:!0,preferCurrentTab:!0}),this.mediaRecorder=new MediaRecorder(this.mediaStream);const t=[];this.mediaRecorder.ondataavailable=n=>{n.data.size>0&&(Ie.emit("record",{roomId:this.roomId,data:n.data}),t.push(n.data),this.pushData(n))},this.mediaRecorder.start(5e3),this.isRecording=!0,this.hasJoined=!0}}catch(e){alert(e)}},async getUserList(){},screenShare(){try{this.$refs.webrtc.shareScreen()}catch{alert("Screen share not available")}},async addTrack(){try{this.$refs.webrtc.videoList.forEach(t=>{this.userStream.addTrack(t)})}catch(e){alert(e)}},joinedRoom(e){const t=document.createElement("p");t.setAttribute("class","user-video");const n=document.createTextNode(e);t.appendChild(n),setTimeout(function(){const r=document.getElementById(e);r.after(t,r.children[0])},1e3)},shareStarted(e){console.log(e)},leftRoom(e){console.log(e)},async copyClipboard(){const e=window.location.origin;await navigator.clipboard.writeText(`${e}/#${this.roomId}`),alert("Link copied to clipboard!")},async share(){const t={title:"Vere-ai",text:"Join my meeting!",url:`${window.location.origin}/#${this.roomId}`};try{await navigator.share(t)}catch{this.copyClipboard()}},async meetingRoomEndForEveryone(){const{data:e}=await Nt.delete(`https://livestream-backend-ng53ixt7xq-as.a.run.app/users/list/${this.roomId}/${this.streamId}`);Ie.emit("deleteUser",{roomId:this.roomId,sessionId:this.userStream.id}),console.log("this.streamId}: ",this.streamId),console.log("meetingRoomEndForEveryone: ",e),this.onDownloadLocal()},async meetingRoomEnd(){const{data:e}=await Nt.delete(`https://livestream-backend-ng53ixt7xq-as.a.run.app/users/list/${this.roomId}`);Ie.emit("deleteUser",{roomId:this.roomId,sessionId:this.userStream.id}),console.log("meetingRoomEnd: ",e),this.onDownloadLocal()}}},{resolveComponent:Ng,createVNode:_e,createElementVNode:Cs,toDisplayString:Os,createTextVNode:tt,withCtx:Se,openBlock:La,createElementBlock:Pa,createCommentVNode:Lg}=await A("vue"),Pg={class:"video-container"},Bg={key:0,class:"video-webrtc-controls"};function $g(e,t,n,r,s,i){const o=Ng("vue-webrtc");return La(),Pa("div",null,[Cs("div",null,[Cs("form",null,[Cs("div",Pg,[_e(o,{id:"call-canvas",roomId:s.roomId,ref:"webrtc",onShareStarted:i.shareStarted,class:"w-full video-webrtc",onShareStopped:i.leftRoom,onLeftRoom:i.leftRoom,onJoinedRoom:i.joinedRoom,width:"100%"},null,8,["roomId","onShareStarted","onShareStopped","onLeftRoom","onJoinedRoom"])]),s.hasJoined?(La(),Pa("div",Bg,[_e($t,{onClick:i.onHandleVideoOn,class:"mx-2 bg-primary",size:"x-large"},{default:Se(()=>[_e(xt,null,{default:Se(()=>[tt(Os(s.videoOn?"mdi-video-outline":"mdi-video-off-outline"),1)]),_:1})]),_:1},8,["onClick"]),_e($t,{onClick:i.onHandleMicOn,class:"mx-2 bg-primary",size:"x-large"},{default:Se(()=>[_e(xt,null,{default:Se(()=>[tt(Os(s.micOn?"mdi-microphone":"mdi-microphone-off"),1)]),_:1})]),_:1},8,["onClick"]),_e($t,{onClick:i.toggleRoom,class:"mx-2 bg-red",size:"x-large"},{default:Se(()=>[_e(xt,null,{default:Se(()=>[tt("mdi-phone-hangup")]),_:1})]),_:1},8,["onClick"]),_e(wg,{modelValue:s.dialog,"onUpdate:modelValue":t[2]||(t[2]=c=>s.dialog=c),width:"auto"},{default:Se(()=>[_e(cy,null,{default:Se(()=>[_e(El,{class:"text-h5"},{default:Se(()=>[tt(" End the call or just leave? ")]),_:1}),_e(Ol,null,{default:Se(()=>[tt("You can just leave the call if you don't want to end it for everyone else")]),_:1}),_e(wl,null,{default:Se(()=>[_e(Eg),_e($t,{variant:"text",onClick:t[0]||(t[0]=c=>i.meetingRoomEnd()),style:{"margin-right":"15px"}},{default:Se(()=>[tt(" Just leave the call ")]),_:1}),_e($t,{variant:"text",onClick:t[1]||(t[1]=c=>i.meetingRoomEndForEveryone())},{default:Se(()=>[tt(" End the call for everyone ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),_e(Tg,{modelValue:s.snackbar,"onUpdate:modelValue":t[4]||(t[4]=c=>s.snackbar=c),timeout:3e3},{actions:Se(()=>[_e($t,{color:"blue",variant:"text",onClick:t[3]||(t[3]=c=>s.snackbar=!1)},{default:Se(()=>[tt(" Close ")]),_:1})]),default:Se(()=>[tt(Os(s.textUserStatus)+" ",1)]),_:1},8,["modelValue"])])):Lg("",!0)])])])}const Ig=Uc(Ag,[["render",$g]]);const Dg={name:"App",components:{"video-chat":Ig}},{resolveComponent:Vg,openBlock:Fg,createBlock:Ug}=await A("vue");function Mg(e,t,n,r,s,i){const o=Vg("video-chat");return Fg(),Ug(o)}const ib=Uc(Dg,[["render",Mg]]);export{ib as default};
