import{importShared as w}from"./__federation_fn_import.js";function Ca(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ml}=Object.prototype,{getPrototypeOf:zr}=Object,ss=(e=>t=>{const n=Ml.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ie=e=>(e=e.toLowerCase(),t=>ss(t)===e),rs=e=>t=>typeof t===e,{isArray:Tt}=Array,en=rs("undefined");function ql(e){return e!==null&&!en(e)&&e.constructor!==null&&!en(e.constructor)&&_e(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ka=Ie("ArrayBuffer");function jl(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ka(e.buffer),t}const Hl=rs("string"),_e=rs("function"),Oa=rs("number"),is=e=>e!==null&&typeof e=="object",zl=e=>e===!0||e===!1,kn=e=>{if(ss(e)!=="object")return!1;const t=zr(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wl=Ie("Date"),Gl=Ie("File"),Kl=Ie("Blob"),Yl=Ie("FileList"),Jl=e=>is(e)&&_e(e.pipe),Xl=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_e(e.append)&&((t=ss(e))==="formdata"||t==="object"&&_e(e.toString)&&e.toString()==="[object FormData]"))},Ql=Ie("URLSearchParams"),Zl=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function an(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),Tt(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(s=0;s<o;s++)a=i[s],t.call(null,e[a],a,e)}}function Ta(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Ra=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Aa=e=>!en(e)&&e!==Ra;function hr(){const{caseless:e}=Aa(this)&&this||{},t={},n=(s,r)=>{const i=e&&Ta(t,r)||r;kn(t[i])&&kn(s)?t[i]=hr(t[i],s):kn(s)?t[i]=hr({},s):Tt(s)?t[i]=s.slice():t[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&an(arguments[s],n);return t}const eu=(e,t,n,{allOwnKeys:s}={})=>(an(t,(r,i)=>{n&&_e(r)?e[i]=Ca(r,n):e[i]=r},{allOwnKeys:s}),e),tu=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nu=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},su=(e,t,n,s)=>{let r,i,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],(!s||s(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&zr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ru=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},iu=e=>{if(!e)return null;if(Tt(e))return e;let t=e.length;if(!Oa(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ou=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zr(Uint8Array)),au=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=s.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},cu=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},lu=Ie("HTMLFormElement"),uu=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),ki=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),fu=Ie("RegExp"),Na=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};an(n,(r,i)=>{let o;(o=t(r,i,e))!==!1&&(s[i]=o||r)}),Object.defineProperties(e,s)},hu=e=>{Na(e,(t,n)=>{if(_e(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(_e(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},du=(e,t)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Tt(e)?s(e):s(String(e).split(t)),n},pu=()=>{},mu=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Rs="abcdefghijklmnopqrstuvwxyz",Oi="0123456789",La={DIGIT:Oi,ALPHA:Rs,ALPHA_DIGIT:Rs+Rs.toUpperCase()+Oi},vu=(e=16,t=La.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n};function gu(e){return!!(e&&_e(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const yu=e=>{const t=new Array(10),n=(s,r)=>{if(is(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const i=Tt(s)?[]:{};return an(s,(o,a)=>{const c=n(o,r+1);!en(c)&&(i[a]=c)}),t[r]=void 0,i}}return s};return n(e,0)},bu=Ie("AsyncFunction"),_u=e=>e&&(is(e)||_e(e))&&_e(e.then)&&_e(e.catch),y={isArray:Tt,isArrayBuffer:ka,isBuffer:ql,isFormData:Xl,isArrayBufferView:jl,isString:Hl,isNumber:Oa,isBoolean:zl,isObject:is,isPlainObject:kn,isUndefined:en,isDate:Wl,isFile:Gl,isBlob:Kl,isRegExp:fu,isFunction:_e,isStream:Jl,isURLSearchParams:Ql,isTypedArray:ou,isFileList:Yl,forEach:an,merge:hr,extend:eu,trim:Zl,stripBOM:tu,inherits:nu,toFlatObject:su,kindOf:ss,kindOfTest:Ie,endsWith:ru,toArray:iu,forEachEntry:au,matchAll:cu,isHTMLForm:lu,hasOwnProperty:ki,hasOwnProp:ki,reduceDescriptors:Na,freezeMethods:hu,toObjectSet:du,toCamelCase:uu,noop:pu,toFiniteNumber:mu,findKey:Ta,global:Ra,isContextDefined:Aa,ALPHABET:La,generateString:vu,isSpecCompliantForm:gu,toJSONObject:yu,isAsyncFn:bu,isThenable:_u};function V(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}y.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Pa=V.prototype,$a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$a[e]={value:e}});Object.defineProperties(V,$a);Object.defineProperty(Pa,"isAxiosError",{value:!0});V.from=(e,t,n,s,r,i)=>{const o=Object.create(Pa);return y.toFlatObject(e,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),V.call(o,e.message,t,n,s,r),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const wu=null;function dr(e){return y.isPlainObject(e)||y.isArray(e)}function Ba(e){return y.endsWith(e,"[]")?e.slice(0,-2):e}function Ti(e,t,n){return e?e.concat(t).map(function(r,i){return r=Ba(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function Eu(e){return y.isArray(e)&&!e.some(dr)}const Su=y.toFlatObject(y,{},null,function(t){return/^is[A-Z]/.test(t)});function os(e,t,n){if(!y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!y.isUndefined(b[m])});const s=n.metaTokens,r=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(t);if(!y.isFunction(r))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(y.isDate(p))return p.toISOString();if(!c&&y.isBlob(p))throw new V("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(p)||y.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,b){let E=p;if(p&&!b&&typeof p=="object"){if(y.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(y.isArray(p)&&Eu(p)||(y.isFileList(p)||y.endsWith(m,"[]"))&&(E=y.toArray(p)))return m=Ba(m),E.forEach(function(d,_){!(y.isUndefined(d)||d===null)&&t.append(o===!0?Ti([m],_,i):o===null?m:m+"[]",l(d))}),!1}return dr(p)?!0:(t.append(Ti(b,m,i),l(p)),!1)}const f=[],h=Object.assign(Su,{defaultVisitor:u,convertValue:l,isVisitable:dr});function v(p,m){if(!y.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(p),y.forEach(p,function(E,g){(!(y.isUndefined(E)||E===null)&&r.call(t,E,y.isString(g)?g.trim():g,m,h))===!0&&v(E,m?m.concat(g):[g])}),f.pop()}}if(!y.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Ri(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Wr(e,t){this._pairs=[],e&&os(e,this,t)}const Ia=Wr.prototype;Ia.append=function(t,n){this._pairs.push([t,n])};Ia.toString=function(t){const n=t?function(s){return t.call(this,s,Ri)}:Ri;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function xu(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Da(e,t,n){if(!t)return e;const s=n&&n.encode||xu,r=n&&n.serialize;let i;if(r?i=r(t,n):i=y.isURLSearchParams(t)?t.toString():new Wr(t,n).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Cu{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){y.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Ai=Cu,Va={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ku=typeof URLSearchParams<"u"?URLSearchParams:Wr,Ou=typeof FormData<"u"?FormData:null,Tu=typeof Blob<"u"?Blob:null,Ru=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Au=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ne={isBrowser:!0,classes:{URLSearchParams:ku,FormData:Ou,Blob:Tu},isStandardBrowserEnv:Ru,isStandardBrowserWebWorkerEnv:Au,protocols:["http","https","file","blob","url","data"]};function Nu(e,t){return os(e,new Ne.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return Ne.isNode&&y.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Lu(e){return y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Pu(e){const t={},n=Object.keys(e);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],t[i]=e[i];return t}function Fa(e){function t(n,s,r,i){let o=n[i++];const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&y.isArray(r)?r.length:o,c?(y.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!y.isObject(r[o]))&&(r[o]=[]),t(n,s,r[o],i)&&y.isArray(r[o])&&(r[o]=Pu(r[o])),!a)}if(y.isFormData(e)&&y.isFunction(e.entries)){const n={};return y.forEachEntry(e,(s,r)=>{t(Lu(s),r,n,0)}),n}return null}function $u(e,t,n){if(y.isString(e))try{return(t||JSON.parse)(e),y.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Gr={transitional:Va,adapter:["xhr","http"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=y.isObject(t);if(i&&y.isHTMLForm(t)&&(t=new FormData(t)),y.isFormData(t))return r&&r?JSON.stringify(Fa(t)):t;if(y.isArrayBuffer(t)||y.isBuffer(t)||y.isStream(t)||y.isFile(t)||y.isBlob(t))return t;if(y.isArrayBufferView(t))return t.buffer;if(y.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Nu(t,this.formSerializer).toString();if((a=y.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return os(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),$u(t)):t}],transformResponse:[function(t){const n=this.transitional||Gr.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(t&&y.isString(t)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?V.from(a,V.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ne.classes.FormData,Blob:Ne.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],e=>{Gr.headers[e]={}});const Kr=Gr,Bu=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Iu=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||t[n]&&Bu[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Ni=Symbol("internals");function $t(e){return e&&String(e).trim().toLowerCase()}function On(e){return e===!1||e==null?e:y.isArray(e)?e.map(On):String(e)}function Du(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Vu=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function As(e,t,n,s,r){if(y.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!y.isString(t)){if(y.isString(s))return t.indexOf(s)!==-1;if(y.isRegExp(s))return s.test(t)}}function Fu(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Uu(e,t){const n=y.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,i,o){return this[s].call(this,t,r,i,o)},configurable:!0})})}class as{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function i(a,c,l){const u=$t(c);if(!u)throw new Error("header name must be a non-empty string");const f=y.findKey(r,u);(!f||r[f]===void 0||l===!0||l===void 0&&r[f]!==!1)&&(r[f||c]=On(a))}const o=(a,c)=>y.forEach(a,(l,u)=>i(l,u,c));return y.isPlainObject(t)||t instanceof this.constructor?o(t,n):y.isString(t)&&(t=t.trim())&&!Vu(t)?o(Iu(t),n):t!=null&&i(n,t,s),this}get(t,n){if(t=$t(t),t){const s=y.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return Du(r);if(y.isFunction(n))return n.call(this,r,s);if(y.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=$t(t),t){const s=y.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||As(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function i(o){if(o=$t(o),o){const a=y.findKey(s,o);a&&(!n||As(s,s[a],a,n))&&(delete s[a],r=!0)}}return y.isArray(t)?t.forEach(i):i(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!t||As(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const n=this,s={};return y.forEach(this,(r,i)=>{const o=y.findKey(s,i);if(o){n[o]=On(r),delete n[i];return}const a=t?Fu(i):String(i).trim();a!==i&&delete n[i],n[a]=On(r),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return y.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&y.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Ni]=this[Ni]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=$t(o);s[a]||(Uu(r,o),s[a]=!0)}return y.isArray(t)?t.forEach(i):i(t),this}}as.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(as.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});y.freezeMethods(as);const qe=as;function Ns(e,t){const n=this||Kr,s=t||n,r=qe.from(s.headers);let i=s.data;return y.forEach(e,function(a){i=a.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function Ua(e){return!!(e&&e.__CANCEL__)}function cn(e,t,n){V.call(this,e??"canceled",V.ERR_CANCELED,t,n),this.name="CanceledError"}y.inherits(cn,V,{__CANCEL__:!0});function Mu(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new V("Request failed with status code "+n.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const qu=Ne.isStandardBrowserEnv?function(){return{write:function(n,s,r,i,o,a){const c=[];c.push(n+"="+encodeURIComponent(s)),y.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),y.isString(i)&&c.push("path="+i),y.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ju(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Hu(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Ma(e,t){return e&&!ju(t)?Hu(e,t):t}const zu=Ne.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function r(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=r(window.location.href),function(o){const a=y.isString(o)?r(o):o;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}();function Wu(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Gu(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),u=s[i];o||(o=l),n[r]=c,s[r]=l;let f=i,h=0;for(;f!==r;)h+=n[f++],f=f%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),l-o<t)return;const v=u&&l-u;return v?Math.round(h*1e3/v):void 0}}function Li(e,t){let n=0;const s=Gu(50,250);return r=>{const i=r.loaded,o=r.lengthComputable?r.total:void 0,a=i-n,c=s(a),l=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&l?(o-i)/c:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}const Ku=typeof XMLHttpRequest<"u",Yu=Ku&&function(e){return new Promise(function(n,s){let r=e.data;const i=qe.from(e.headers).normalize(),o=e.responseType;let a;function c(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}let l;y.isFormData(r)&&(Ne.isStandardBrowserEnv||Ne.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.getContentType(/^\s*multipart\/form-data/)?y.isString(l=i.getContentType())&&i.setContentType(l.replace(/^\s*(multipart\/form-data);+/,"$1")):i.setContentType("multipart/form-data"));let u=new XMLHttpRequest;if(e.auth){const p=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+m))}const f=Ma(e.baseURL,e.url);u.open(e.method.toUpperCase(),Da(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function h(){if(!u)return;const p=qe.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:e,request:u};Mu(function(g){n(g),c()},function(g){s(g),c()},b),u=null}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){u&&(s(new V("Request aborted",V.ECONNABORTED,e,u)),u=null)},u.onerror=function(){s(new V("Network Error",V.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let m=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const b=e.transitional||Va;e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),s(new V(m,b.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,u)),u=null},Ne.isStandardBrowserEnv){const p=(e.withCredentials||zu(f))&&e.xsrfCookieName&&qu.read(e.xsrfCookieName);p&&i.set(e.xsrfHeaderName,p)}r===void 0&&i.setContentType(null),"setRequestHeader"in u&&y.forEach(i.toJSON(),function(m,b){u.setRequestHeader(b,m)}),y.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&o!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",Li(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Li(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=p=>{u&&(s(!p||p.type?new cn(null,e,u):p),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const v=Wu(f);if(v&&Ne.protocols.indexOf(v)===-1){s(new V("Unsupported protocol "+v+":",V.ERR_BAD_REQUEST,e));return}u.send(r||null)})},pr={http:wu,xhr:Yu};y.forEach(pr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Pi=e=>`- ${e}`,Ju=e=>y.isFunction(e)||e===null||e===!1,qa={getAdapter:e=>{e=y.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let i=0;i<t;i++){n=e[i];let o;if(s=n,!Ju(n)&&(s=pr[(o=String(n)).toLowerCase()],s===void 0))throw new V(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Pi).join(`
`):" "+Pi(i[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:pr};function Ls(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cn(null,e)}function $i(e){return Ls(e),e.headers=qe.from(e.headers),e.data=Ns.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qa.getAdapter(e.adapter||Kr.adapter)(e).then(function(s){return Ls(e),s.data=Ns.call(e,e.transformResponse,s),s.headers=qe.from(s.headers),s},function(s){return Ua(s)||(Ls(e),s&&s.response&&(s.response.data=Ns.call(e,e.transformResponse,s.response),s.response.headers=qe.from(s.response.headers))),Promise.reject(s)})}const Bi=e=>e instanceof qe?e.toJSON():e;function Ot(e,t){t=t||{};const n={};function s(l,u,f){return y.isPlainObject(l)&&y.isPlainObject(u)?y.merge.call({caseless:f},l,u):y.isPlainObject(u)?y.merge({},u):y.isArray(u)?u.slice():u}function r(l,u,f){if(y.isUndefined(u)){if(!y.isUndefined(l))return s(void 0,l,f)}else return s(l,u,f)}function i(l,u){if(!y.isUndefined(u))return s(void 0,u)}function o(l,u){if(y.isUndefined(u)){if(!y.isUndefined(l))return s(void 0,l)}else return s(void 0,u)}function a(l,u,f){if(f in t)return s(l,u);if(f in e)return s(void 0,l)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u)=>r(Bi(l),Bi(u),!0)};return y.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=c[u]||r,h=f(e[u],t[u],u);y.isUndefined(h)&&f!==a||(n[u]=h)}),n}const ja="1.5.1",Yr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yr[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Ii={};Yr.transitional=function(t,n,s){function r(i,o){return"[Axios v"+ja+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(t===!1)throw new V(r(o," has been removed"+(n?" in "+n:"")),V.ERR_DEPRECATED);return n&&!Ii[o]&&(Ii[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};function Xu(e,t,n){if(typeof e!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const i=s[r],o=t[i];if(o){const a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new V("option "+i+" must be "+c,V.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new V("Unknown option "+i,V.ERR_BAD_OPTION)}}const mr={assertOptions:Xu,validators:Yr},Ke=mr.validators;class Hn{constructor(t){this.defaults=t,this.interceptors={request:new Ai,response:new Ai}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ot(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&mr.assertOptions(s,{silentJSONParsing:Ke.transitional(Ke.boolean),forcedJSONParsing:Ke.transitional(Ke.boolean),clarifyTimeoutError:Ke.transitional(Ke.boolean)},!1),r!=null&&(y.isFunction(r)?n.paramsSerializer={serialize:r}:mr.assertOptions(r,{encode:Ke.function,serialize:Ke.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&y.merge(i.common,i[n.method]);i&&y.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=qe.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,f=0,h;if(!c){const p=[$i.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,l),h=p.length,u=Promise.resolve(n);f<h;)u=u.then(p[f++],p[f++]);return u}h=a.length;let v=n;for(f=0;f<h;){const p=a[f++],m=a[f++];try{v=p(v)}catch(b){m.call(this,b);break}}try{u=$i.call(this,v)}catch(p){return Promise.reject(p)}for(f=0,h=l.length;f<h;)u=u.then(l[f++],l[f++]);return u}getUri(t){t=Ot(this.defaults,t);const n=Ma(t.baseURL,t.url);return Da(n,t.params,t.paramsSerializer)}}y.forEach(["delete","get","head","options"],function(t){Hn.prototype[t]=function(n,s){return this.request(Ot(s||{},{method:t,url:n,data:(s||{}).data}))}});y.forEach(["post","put","patch"],function(t){function n(s){return function(i,o,a){return this.request(Ot(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Hn.prototype[t]=n(),Hn.prototype[t+"Form"]=n(!0)});const Tn=Hn;class Jr{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,a){s.reason||(s.reason=new cn(i,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Jr(function(r){t=r}),cancel:t}}}const Qu=Jr;function Zu(e){return function(n){return e.apply(null,n)}}function ef(e){return y.isObject(e)&&e.isAxiosError===!0}const vr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vr).forEach(([e,t])=>{vr[t]=e});const tf=vr;function Ha(e){const t=new Tn(e),n=Ca(Tn.prototype.request,t);return y.extend(n,Tn.prototype,t,{allOwnKeys:!0}),y.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Ha(Ot(e,r))},n}const X=Ha(Kr);X.Axios=Tn;X.CanceledError=cn;X.CancelToken=Qu;X.isCancel=Ua;X.VERSION=ja;X.toFormData=os;X.AxiosError=V;X.Cancel=X.CanceledError;X.all=function(t){return Promise.all(t)};X.spread=Zu;X.isAxiosError=ef;X.mergeConfig=Ot;X.AxiosHeaders=qe;X.formToJSON=e=>Fa(y.isHTMLForm(e)?new FormData(e):e);X.getAdapter=qa.getAdapter;X.HttpStatusCode=tf;X.default=X;const mt=X,Pe=Object.create(null);Pe.open="0";Pe.close="1";Pe.ping="2";Pe.pong="3";Pe.message="4";Pe.upgrade="5";Pe.noop="6";const Rn=Object.create(null);Object.keys(Pe).forEach(e=>{Rn[Pe[e]]=e});const gr={type:"error",data:"parser error"},za=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Wa=typeof ArrayBuffer=="function",Ga=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Xr=({type:e,data:t},n,s)=>za&&t instanceof Blob?n?s(t):Di(t,s):Wa&&(t instanceof ArrayBuffer||Ga(t))?n?s(t):Di(new Blob([t]),s):s(Pe[e]+(t||"")),Di=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Vi(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ps;function nf(e,t){if(za&&e.data instanceof Blob)return e.data.arrayBuffer().then(Vi).then(t);if(Wa&&(e.data instanceof ArrayBuffer||Ga(e.data)))return t(Vi(e.data));Xr(e,!1,n=>{Ps||(Ps=new TextEncoder),t(Ps.encode(n))})}const Fi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Fi.length;e++)Wt[Fi.charCodeAt(e)]=e;const sf=e=>{let t=e.length*.75,n=e.length,s,r=0,i,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const l=new ArrayBuffer(t),u=new Uint8Array(l);for(s=0;s<n;s+=4)i=Wt[e.charCodeAt(s)],o=Wt[e.charCodeAt(s+1)],a=Wt[e.charCodeAt(s+2)],c=Wt[e.charCodeAt(s+3)],u[r++]=i<<2|o>>4,u[r++]=(o&15)<<4|a>>2,u[r++]=(a&3)<<6|c&63;return l},rf=typeof ArrayBuffer=="function",Qr=(e,t)=>{if(typeof e!="string")return{type:"message",data:Ka(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:of(e.substring(1),t)}:Rn[n]?e.length>1?{type:Rn[n],data:e.substring(1)}:{type:Rn[n]}:gr},of=(e,t)=>{if(rf){const n=sf(e);return Ka(n,t)}else return{base64:!0,data:e}},Ka=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Ya=String.fromCharCode(30),af=(e,t)=>{const n=e.length,s=new Array(n);let r=0;e.forEach((i,o)=>{Xr(i,!1,a=>{s[o]=a,++r===n&&t(s.join(Ya))})})},cf=(e,t)=>{const n=e.split(Ya),s=[];for(let r=0;r<n.length;r++){const i=Qr(n[r],t);if(s.push(i),i.type==="error")break}return s};function lf(){return new TransformStream({transform(e,t){nf(e,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(n)})}})}let $s;function pn(e){return e.reduce((t,n)=>t+n.length,0)}function mn(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let r=0;r<t;r++)n[r]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function uf(e,t){$s||($s=new TextDecoder);const n=[];let s=0,r=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(s===0){if(pn(n)<1)break;const c=mn(n,1);i=(c[0]&128)===128,r=c[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(pn(n)<2)break;const c=mn(n,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(pn(n)<8)break;const c=mn(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,53-32)-1){a.enqueue(gr);break}r=u*Math.pow(2,32)+l.getUint32(4),s=3}else{if(pn(n)<r)break;const c=mn(n,r);a.enqueue(Qr(i?c:$s.decode(c),t)),s=0}if(r===0||r>e){a.enqueue(gr);break}}}})}const Ja=4;function J(e){if(e)return ff(e)}function ff(e){for(var t in J.prototype)e[t]=J.prototype[t];return e}J.prototype.on=J.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};J.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};J.prototype.off=J.prototype.removeListener=J.prototype.removeAllListeners=J.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===t||s.fn===t){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+e],this};J.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,t)}return this};J.prototype.emitReserved=J.prototype.emit;J.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};J.prototype.hasListeners=function(e){return!!this.listeners(e).length};const be=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Xa(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const hf=be.setTimeout,df=be.clearTimeout;function cs(e,t){t.useNativeTimers?(e.setTimeoutFn=hf.bind(be),e.clearTimeoutFn=df.bind(be)):(e.setTimeoutFn=be.setTimeout.bind(be),e.clearTimeoutFn=be.clearTimeout.bind(be))}const pf=1.33;function mf(e){return typeof e=="string"?vf(e):Math.ceil((e.byteLength||e.size)*pf)}function vf(e){let t=0,n=0;for(let s=0,r=e.length;s<r;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function gf(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function yf(e){let t={},n=e.split("&");for(let s=0,r=n.length;s<r;s++){let i=n[s].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class bf extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}let Zr=class extends J{constructor(t){super(),this.writable=!1,cs(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new bf(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Qr(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=gf(t);return n.length?"?"+n:""}};const Qa="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),yr=64,_f={};let Ui=0,vn=0,Mi;function qi(e){let t="";do t=Qa[e%yr]+t,e=Math.floor(e/yr);while(e>0);return t}function Za(){const e=qi(+new Date);return e!==Mi?(Ui=0,Mi=e):e+"."+qi(Ui++)}for(;vn<yr;vn++)_f[Qa[vn]]=vn;let ec=!1;try{ec=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const wf=ec;function tc(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||wf))return new XMLHttpRequest}catch{}if(!t)try{return new be[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Ef(){}const Sf=function(){return new tc({xdomain:!1}).responseType!=null}();let xf=class extends Zr{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Sf&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};cf(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,af(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Za()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new St(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}},St=class An extends J{constructor(t,n){super(),cs(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=Xa(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new tc(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=An.requestsCount++,An.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Ef,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete An.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};St.requestsCount=0;St.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ji);else if(typeof addEventListener=="function"){const e="onpagehide"in be?"pagehide":"unload";addEventListener(e,ji,!1)}}function ji(){for(let e in St.requests)St.requests.hasOwnProperty(e)&&St.requests[e].abort()}const ei=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),gn=be.WebSocket||be.MozWebSocket,Hi=!0,Cf="arraybuffer",zi=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";let kf=class extends Zr{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=zi?{}:Xa(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Hi&&!zi?n?new gn(t,n):new gn(t):new gn(t,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;Xr(s,this.supportsBinary,i=>{const o={};try{Hi&&this.ws.send(i)}catch{}r&&ei(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Za()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!gn}};class Of extends Zr{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=uf(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),r=lf();r.readable.pipeTo(t.writable),this.writer=r.writable.getWriter();const i=()=>{s.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;this.writer.write(s).then(()=>{r&&ei(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Tf={websocket:kf,webtransport:Of,polling:xf},Rf=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Af=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function br(e){const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let r=Rf.exec(e||""),i={},o=14;for(;o--;)i[Af[o]]=r[o]||"";return n!=-1&&s!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Nf(i,i.path),i.queryKey=Lf(i,i.query),i}function Nf(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Lf(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,i){r&&(n[r]=i)}),n}let nc=class _t extends J{constructor(t,n={}){super(),this.binaryType=Cf,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=br(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=br(n.host).host),cs(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yf(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Ja,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Tf[t](s)}open(){let t;if(this.opts.rememberUpgrade&&_t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;_t.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!s)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;_t.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){s||(s=!0,u(),n.close(),n=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function c(){o("socket closed")}function l(f){n&&f.name!==n.name&&i()}const u=()=>{n.removeListener("open",r),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};n.once("open",r),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",l),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",_t.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=mf(r)),s>0&&n>this.maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:t,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){_t.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const r=t.length;for(;s<r;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};nc.protocol=Ja;function Pf(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=br(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+t,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}const $f=typeof ArrayBuffer=="function",Bf=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,sc=Object.prototype.toString,If=typeof Blob=="function"||typeof Blob<"u"&&sc.call(Blob)==="[object BlobConstructor]",Df=typeof File=="function"||typeof File<"u"&&sc.call(File)==="[object FileConstructor]";function ti(e){return $f&&(e instanceof ArrayBuffer||Bf(e))||If&&e instanceof Blob||Df&&e instanceof File}function Nn(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Nn(e[n]))return!0;return!1}if(ti(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Nn(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Nn(e[n]))return!0;return!1}function Vf(e){const t=[],n=e.data,s=e;return s.data=_r(n,t),s.attachments=t.length,{packet:s,buffers:t}}function _r(e,t){if(!e)return e;if(ti(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=_r(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=_r(e[s],t));return n}return e}function Ff(e,t){return e.data=wr(e.data,t),delete e.attachments,e}function wr(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=wr(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=wr(e[n],t));return e}const Uf=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Mf=5;var I;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(I||(I={}));let qf=class{constructor(t){this.replacer=t}encode(t){return(t.type===I.EVENT||t.type===I.ACK)&&Nn(t)?this.encodeAsBinary({type:t.type===I.EVENT?I.BINARY_EVENT:I.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===I.BINARY_EVENT||t.type===I.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Vf(t),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}};function Wi(e){return Object.prototype.toString.call(e)==="[object Object]"}let jf=class rc extends J{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===I.BINARY_EVENT;s||n.type===I.BINARY_ACK?(n.type=s?I.EVENT:I.ACK,this.reconstructor=new Hf(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ti(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(I[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===I.BINARY_EVENT||s.type===I.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(i,n)}else s.nsp="/";const r=t.charAt(n+1);if(r!==""&&Number(r)==r){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}s.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(rc.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case I.CONNECT:return Wi(n);case I.DISCONNECT:return n===void 0;case I.CONNECT_ERROR:return typeof n=="string"||Wi(n);case I.EVENT:case I.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Uf.indexOf(n[0])===-1);case I.ACK:case I.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Hf=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Ff(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};const zf=Object.freeze(Object.defineProperty({__proto__:null,Decoder:jf,Encoder:qf,get PacketType(){return I},protocol:Mf},Symbol.toStringTag,{value:"Module"}));function Ce(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Wf=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});let ic=class extends J{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ce(t,"open",this.onopen.bind(this)),Ce(t,"packet",this.onpacket.bind(this)),Ce(t,"error",this.onerror.bind(this)),Ce(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Wf.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:I.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),s.id=o}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(i),n.apply(this,[null,...o])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((r,i)=>{n.push((o,a)=>s?o?i(o):r(a):r(o)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...i)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:I.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case I.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case I.EVENT:case I.BINARY_EVENT:this.onevent(t);break;case I.ACK:case I.BINARY_ACK:this.onack(t);break;case I.DISCONNECT:this.ondisconnect();break;case I.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:I.ACK,id:t,data:r}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:I.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}};function Rt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Rt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Rt.prototype.reset=function(){this.attempts=0};Rt.prototype.setMin=function(e){this.ms=e};Rt.prototype.setMax=function(e){this.max=e};Rt.prototype.setJitter=function(e){this.jitter=e};let Er=class extends J{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,cs(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Rt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const r=n.parser||zf;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new nc(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=Ce(n,"open",function(){s.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Ce(n,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ce(t,"ping",this.onping.bind(this)),Ce(t,"data",this.ondata.bind(this)),Ce(t,"error",this.onerror.bind(this)),Ce(t,"close",this.onclose.bind(this)),Ce(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ei(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new ic(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};const Bt={};function Ln(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Pf(e,t.path||"/socket.io"),s=n.source,r=n.id,i=n.path,o=Bt[r]&&i in Bt[r].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new Er(s,t):(Bt[r]||(Bt[r]=new Er(s,t)),c=Bt[r]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Ln,{Manager:Er,Socket:ic,io:Ln,connect:Ln});const j={};var Bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var it={},zn={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */zn.exports;(function(e,t){(function(n){var s=t&&!t.nodeType&&t,r=e&&!e.nodeType&&e,i=typeof Bs=="object"&&Bs;(i.global===i||i.window===i||i.self===i)&&(n=i);var o,a=2147483647,c=36,l=1,u=26,f=38,h=700,v=72,p=128,m="-",b=/^xn--/,E=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=c-l,x=Math.floor,T=String.fromCharCode,L;function k(S){throw RangeError(d[S])}function O(S,C){for(var P=S.length,U=[];P--;)U[P]=C(S[P]);return U}function q(S,C){var P=S.split("@"),U="";P.length>1&&(U=P[0]+"@",S=P[1]),S=S.replace(g,".");var W=S.split("."),ce=O(W,C).join(".");return U+ce}function B(S){for(var C=[],P=0,U=S.length,W,ce;P<U;)W=S.charCodeAt(P++),W>=55296&&W<=56319&&P<U?(ce=S.charCodeAt(P++),(ce&64512)==56320?C.push(((W&1023)<<10)+(ce&1023)+65536):(C.push(W),P--)):C.push(W);return C}function R(S){return O(S,function(C){var P="";return C>65535&&(C-=65536,P+=T(C>>>10&1023|55296),C=56320|C&1023),P+=T(C),P}).join("")}function A(S){return S-48<10?S-22:S-65<26?S-65:S-97<26?S-97:c}function F(S,C){return S+22+75*(S<26)-((C!=0)<<5)}function K(S,C,P){var U=0;for(S=P?x(S/h):S>>1,S+=x(S/C);S>_*u>>1;U+=c)S=x(S/_);return x(U+(_+1)*S/(S+f))}function G(S){var C=[],P=S.length,U,W=0,ce=p,ne=v,fe,Se,Oe,De,ie,me,xe,Ge,ot;for(fe=S.lastIndexOf(m),fe<0&&(fe=0),Se=0;Se<fe;++Se)S.charCodeAt(Se)>=128&&k("not-basic"),C.push(S.charCodeAt(Se));for(Oe=fe>0?fe+1:0;Oe<P;){for(De=W,ie=1,me=c;Oe>=P&&k("invalid-input"),xe=A(S.charCodeAt(Oe++)),(xe>=c||xe>x((a-W)/ie))&&k("overflow"),W+=xe*ie,Ge=me<=ne?l:me>=ne+u?u:me-ne,!(xe<Ge);me+=c)ot=c-Ge,ie>x(a/ot)&&k("overflow"),ie*=ot;U=C.length+1,ne=K(W-De,U,De==0),x(W/U)>a-ce&&k("overflow"),ce+=x(W/U),W%=U,C.splice(W++,0,ce)}return R(C)}function te(S){var C,P,U,W,ce,ne,fe,Se,Oe,De,ie,me=[],xe,Ge,ot,Ts;for(S=B(S),xe=S.length,C=p,P=0,ce=v,ne=0;ne<xe;++ne)ie=S[ne],ie<128&&me.push(T(ie));for(U=W=me.length,W&&me.push(m);U<xe;){for(fe=a,ne=0;ne<xe;++ne)ie=S[ne],ie>=C&&ie<fe&&(fe=ie);for(Ge=U+1,fe-C>x((a-P)/Ge)&&k("overflow"),P+=(fe-C)*Ge,C=fe,ne=0;ne<xe;++ne)if(ie=S[ne],ie<C&&++P>a&&k("overflow"),ie==C){for(Se=P,Oe=c;De=Oe<=ce?l:Oe>=ce+u?u:Oe-ce,!(Se<De);Oe+=c)Ts=Se-De,ot=c-De,me.push(T(F(De+Ts%ot,0))),Se=x(Ts/ot);me.push(T(F(Se,0))),ce=K(P,Ge,U==W),P=0,++U}++P,++C}return me.join("")}function Y(S){return q(S,function(C){return b.test(C)?G(C.slice(4).toLowerCase()):C})}function z(S){return q(S,function(C){return E.test(C)?"xn--"+te(C):C})}if(o={version:"1.3.2",ucs2:{decode:B,encode:R},decode:G,encode:te,toASCII:z,toUnicode:Y},s&&r)if(e.exports==s)r.exports=o;else for(L in o)o.hasOwnProperty(L)&&(s[L]=o[L]);else n.punycode=o})(Bs)})(zn,zn.exports);var Kf=zn.exports,Yf={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},tn={};function Jf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Xf=function(e,t,n,s){t=t||"&",n=n||"=";var r={};if(typeof e!="string"||e.length===0)return r;var i=/\+/g;e=e.split(t);var o=1e3;s&&typeof s.maxKeys=="number"&&(o=s.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var c=0;c<a;++c){var l=e[c].replace(i,"%20"),u=l.indexOf(n),f,h,v,p;u>=0?(f=l.substr(0,u),h=l.substr(u+1)):(f=l,h=""),v=decodeURIComponent(f),p=decodeURIComponent(h),Jf(r,v)?Array.isArray(r[v])?r[v].push(p):r[v]=[r[v],p]:r[v]=p}return r},It=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Qf=function(e,t,n,s){return t=t||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(r){var i=encodeURIComponent(It(r))+n;return Array.isArray(e[r])?e[r].map(function(o){return i+encodeURIComponent(It(o))}).join(t):i+encodeURIComponent(It(e[r]))}).join(t):s?encodeURIComponent(It(s))+n+encodeURIComponent(It(e)):""};tn.decode=tn.parse=Xf;tn.encode=tn.stringify=Qf;var Zf=Kf,Ae=Yf;it.parse=ln;it.resolve=lh;it.resolveObject=uh;it.format=ch;it.Url=we;function we(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var eh=/^([a-z0-9.+-]+:)/i,th=/:[0-9]*$/,nh=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,sh=["<",">",'"',"`"," ","\r",`
`,"	"],rh=["{","}","|","\\","^","`"].concat(sh),Sr=["'"].concat(rh),Gi=["%","/","?",";","#"].concat(Sr),Ki=["/","?","#"],ih=255,Yi=/^[+a-z0-9A-Z_-]{0,63}$/,oh=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ah={javascript:!0,"javascript:":!0},xr={javascript:!0,"javascript:":!0},xt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Cr=tn;function ln(e,t,n){if(e&&Ae.isObject(e)&&e instanceof we)return e;var s=new we;return s.parse(e,t,n),s}we.prototype.parse=function(e,t,n){if(!Ae.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),r=s!==-1&&s<e.indexOf("#")?"?":"#",i=e.split(r),o=/\\/g;i[0]=i[0].replace(o,"/"),e=i.join(r);var a=e;if(a=a.trim(),!n&&e.split("#").length===1){var c=nh.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],t?this.query=Cr.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=eh.exec(a);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";f&&!(l&&xr[l])&&(a=a.substr(2),this.slashes=!0)}if(!xr[l]&&(f||l&&!xt[l])){for(var h=-1,v=0;v<Ki.length;v++){var p=a.indexOf(Ki[v]);p!==-1&&(h===-1||p<h)&&(h=p)}var m,b;h===-1?b=a.lastIndexOf("@"):b=a.lastIndexOf("@",h),b!==-1&&(m=a.slice(0,b),a=a.slice(b+1),this.auth=decodeURIComponent(m)),h=-1;for(var v=0;v<Gi.length;v++){var p=a.indexOf(Gi[v]);p!==-1&&(h===-1||p<h)&&(h=p)}h===-1&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var g=this.hostname.split(/\./),v=0,d=g.length;v<d;v++){var _=g[v];if(_&&!_.match(Yi)){for(var x="",T=0,L=_.length;T<L;T++)_.charCodeAt(T)>127?x+="x":x+=_[T];if(!x.match(Yi)){var k=g.slice(0,v),O=g.slice(v+1),q=_.match(oh);q&&(k.push(q[1]),O.unshift(q[2])),O.length&&(a="/"+O.join(".")+a),this.hostname=k.join(".");break}}}this.hostname.length>ih?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=Zf.toASCII(this.hostname));var B=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+B,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!ah[u])for(var v=0,d=Sr.length;v<d;v++){var A=Sr[v];if(a.indexOf(A)!==-1){var F=encodeURIComponent(A);F===A&&(F=escape(A)),a=a.split(A).join(F)}}var K=a.indexOf("#");K!==-1&&(this.hash=a.substr(K),a=a.slice(0,K));var G=a.indexOf("?");if(G!==-1?(this.search=a.substr(G),this.query=a.substr(G+1),t&&(this.query=Cr.parse(this.query)),a=a.slice(0,G)):t&&(this.search="",this.query={}),a&&(this.pathname=a),xt[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",te=this.search||"";this.path=B+te}return this.href=this.format(),this};function ch(e){return Ae.isString(e)&&(e=ln(e)),e instanceof we?e.format():we.prototype.format.call(e)}we.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",s=this.hash||"",r=!1,i="";this.host?r=e+this.host:this.hostname&&(r=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&Ae.isObject(this.query)&&Object.keys(this.query).length&&(i=Cr.stringify(this.query));var o=this.search||i&&"?"+i||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||xt[t])&&r!==!1?(r="//"+(r||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):r||(r=""),s&&s.charAt(0)!=="#"&&(s="#"+s),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),t+r+n+o+s};function lh(e,t){return ln(e,!1,!0).resolve(t)}we.prototype.resolve=function(e){return this.resolveObject(ln(e,!1,!0)).format()};function uh(e,t){return e?ln(e,!1,!0).resolveObject(t):t}we.prototype.resolveObject=function(e){if(Ae.isString(e)){var t=new we;t.parse(e,!1,!0),e=t}for(var n=new we,s=Object.keys(this),r=0;r<s.length;r++){var i=s[r];n[i]=this[i]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(n[c]=e[c])}return xt[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!xt[e.protocol]){for(var l=Object.keys(e),u=0;u<l.length;u++){var f=l[u];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!xr[e.protocol]){for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),d[0]!==""&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",v=n.search||"";n.path=h+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var p=n.pathname&&n.pathname.charAt(0)==="/",m=e.host||e.pathname&&e.pathname.charAt(0)==="/",b=m||p||n.host&&e.pathname,E=b,g=n.pathname&&n.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],_=n.protocol&&!xt[n.protocol];if(_&&(n.hostname="",n.port=null,n.host&&(g[0]===""?g[0]=n.host:g.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(d[0]===""?d[0]=e.host:d.unshift(e.host)),e.host=null),b=b&&(d[0]===""||g[0]==="")),m)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,g=d;else if(d.length)g||(g=[]),g.pop(),g=g.concat(d),n.search=e.search,n.query=e.query;else if(!Ae.isNullOrUndefined(e.search)){if(_){n.hostname=n.host=g.shift();var x=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;x&&(n.auth=x.shift(),n.host=n.hostname=x.shift())}return n.search=e.search,n.query=e.query,(!Ae.isNull(n.pathname)||!Ae.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!g.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=g.slice(-1)[0],L=(n.host||e.host||g.length>1)&&(T==="."||T==="..")||T==="",k=0,O=g.length;O>=0;O--)T=g[O],T==="."?g.splice(O,1):T===".."?(g.splice(O,1),k++):k&&(g.splice(O,1),k--);if(!b&&!E)for(;k--;k)g.unshift("..");b&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),L&&g.join("/").substr(-1)!=="/"&&g.push("");var q=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(_){n.hostname=n.host=q?"":g.length?g.shift():"";var x=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;x&&(n.auth=x.shift(),n.host=n.hostname=x.shift())}return b=b||n.host&&g.length,b&&!q&&g.unshift(""),g.length?n.pathname=g.join("/"):(n.pathname=null,n.path=null),(!Ae.isNull(n.pathname)||!Ae.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};we.prototype.parseHost=function(){var e=this.host,t=th.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var ni={exports:{}},Ct=typeof Reflect=="object"?Reflect:null,Ji=Ct&&typeof Ct.apply=="function"?Ct.apply:function(t,n,s){return Function.prototype.apply.call(t,n,s)},Pn;Ct&&typeof Ct.ownKeys=="function"?Pn=Ct.ownKeys:Object.getOwnPropertySymbols?Pn=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Pn=function(t){return Object.getOwnPropertyNames(t)};function fh(e){console&&console.warn&&console.warn(e)}var oc=Number.isNaN||function(t){return t!==t};function H(){H.init.call(this)}ni.exports=H;ni.exports.once=mh;H.EventEmitter=H;H.prototype._events=void 0;H.prototype._eventsCount=0;H.prototype._maxListeners=void 0;var Xi=10;function ls(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(H,"defaultMaxListeners",{enumerable:!0,get:function(){return Xi},set:function(e){if(typeof e!="number"||e<0||oc(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Xi=e}});H.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};H.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||oc(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function ac(e){return e._maxListeners===void 0?H.defaultMaxListeners:e._maxListeners}H.prototype.getMaxListeners=function(){return ac(this)};H.prototype.emit=function(t){for(var n=[],s=1;s<arguments.length;s++)n.push(arguments[s]);var r=t==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")Ji(c,this,n);else for(var l=c.length,u=hc(c,l),s=0;s<l;++s)Ji(u[s],this,n);return!0};function cc(e,t,n,s){var r,i,o;if(ls(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=s?[n,o]:[o,n]:s?o.unshift(n):o.push(n),r=ac(e),r>0&&o.length>r&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,fh(a)}return e}H.prototype.addListener=function(t,n){return cc(this,t,n,!1)};H.prototype.on=H.prototype.addListener;H.prototype.prependListener=function(t,n){return cc(this,t,n,!0)};function hh(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function lc(e,t,n){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=hh.bind(s);return r.listener=n,s.wrapFn=r,r}H.prototype.once=function(t,n){return ls(n),this.on(t,lc(this,t,n)),this};H.prototype.prependOnceListener=function(t,n){return ls(n),this.prependListener(t,lc(this,t,n)),this};H.prototype.removeListener=function(t,n){var s,r,i,o,a;if(ls(n),r=this._events,r===void 0)return this;if(s=r[t],s===void 0)return this;if(s===n||s.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,s.listener||n));else if(typeof s!="function"){for(i=-1,o=s.length-1;o>=0;o--)if(s[o]===n||s[o].listener===n){a=s[o].listener,i=o;break}if(i<0)return this;i===0?s.shift():dh(s,i),s.length===1&&(r[t]=s[0]),r.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};H.prototype.off=H.prototype.removeListener;H.prototype.removeAllListeners=function(t){var n,s,r;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[t]),this;if(arguments.length===0){var i=Object.keys(s),o;for(r=0;r<i.length;++r)o=i[r],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=s[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this};function uc(e,t,n){var s=e._events;if(s===void 0)return[];var r=s[t];return r===void 0?[]:typeof r=="function"?n?[r.listener||r]:[r]:n?ph(r):hc(r,r.length)}H.prototype.listeners=function(t){return uc(this,t,!0)};H.prototype.rawListeners=function(t){return uc(this,t,!1)};H.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):fc.call(e,t)};H.prototype.listenerCount=fc;function fc(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}H.prototype.eventNames=function(){return this._eventsCount>0?Pn(this._events):[]};function hc(e,t){for(var n=new Array(t),s=0;s<t;++s)n[s]=e[s];return n}function dh(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function ph(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function mh(e,t){return new Promise(function(n,s){function r(o){e.removeListener(t,i),s(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",r),n([].slice.call(arguments))}dc(e,t,i,{once:!0}),t!=="error"&&vh(e,r,{once:!0})})}function vh(e,t,n){typeof e.on=="function"&&dc(e,"error",t,n)}function dc(e,t,n,s){if(typeof e.on=="function")s.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function r(i){s.once&&e.removeEventListener(t,r),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var gh=ni.exports;const pc=Gf(gh),{defineComponent:mc,openBlock:$n,createElementBlock:Bn,Fragment:yh,renderList:bh,createElementVNode:Qe,createTextVNode:vc,toDisplayString:Qi}=await w("vue");function _h(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(s){if(s!=="default"&&!(s in e)){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(e,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}})}),Object.freeze(e)}var wh=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Eh=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],kr=function(t){var n=t,s=t.indexOf("["),r=t.indexOf("]");s!=-1&&r!=-1&&(t=t.substring(0,s)+t.substring(s,r).replace(/:/g,";")+t.substring(r,t.length));for(var i=wh.exec(t||""),o={},a=14;a--;)o[Eh[a]]=i[a]||"";return s!=-1&&r!=-1&&(o.source=n,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Sh(o,o.path),o.queryKey=xh(o,o.query),o};function Sh(e,t){var n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&s.splice(0,1),t.substr(t.length-1,1)=="/"&&s.splice(s.length-1,1),s}function xh(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,i){r&&(n[r]=i)}),n}function Ch(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=kr(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+t,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}/**
 * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.
 *
 * This can be used with JS designed for browsers to improve reuse of code and
 * allow the use of existing libraries.
 *
 * Usage: include("XMLHttpRequest.js") and use XMLHttpRequest per W3C specs.
 *
 * @author Dan DeFelippi <dan@driverdan.com>
 * @contributor David Ellis <d.f.ellis@ieee.org>
 * @license MIT
 */var kh=j.spawn,In=Or;Or.XMLHttpRequest=Or;function Or(e){e=e||{};var t=this,n=j,s=j,r,i,o={},a=!1,c={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},l=Object.assign({},c),u=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],f=["TRACE","TRACK","CONNECT"],h=!1,v=!1,p=!1,m={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var b=function(d){return a||d&&u.indexOf(d.toLowerCase())===-1},E=function(d){return d&&f.indexOf(d)===-1};this.open=function(d,_,x,T,L){if(this.abort(),v=!1,p=!1,!E(d))throw new Error("SecurityError: Request method not allowed");o={method:d,url:_.toString(),async:typeof x!="boolean"?!0:x,user:T||null,password:L||null},g(this.OPENED)},this.setDisableHeaderCheck=function(d){a=d},this.setRequestHeader=function(d,_){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!b(d))return console.warn('Refused to set unsafe header "'+d+'"'),!1;if(h)throw new Error("INVALID_STATE_ERR: send flag is true");return l[d]=_,!0},this.getResponseHeader=function(d){return typeof d=="string"&&this.readyState>this.OPENED&&i.headers[d.toLowerCase()]&&!v?i.headers[d.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||v)return"";var d="";for(var _ in i.headers)_!=="set-cookie"&&_!=="set-cookie2"&&(d+=_+": "+i.headers[_]+`\r
`);return d.substr(0,d.length-2)},this.getRequestHeader=function(d){return typeof d=="string"&&l[d]?l[d]:""},this.send=function(d){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(h)throw new Error("INVALID_STATE_ERR: send has already been called");var _=!1,x=!1,T=it.parse(o.url),L;switch(T.protocol){case"https:":_=!0;case"http:":L=T.hostname;break;case"file:":x=!0;break;case void 0:case"":L="localhost";break;default:throw new Error("Protocol not supported.")}if(x){if(o.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(o.async)j.readFile(unescape(T.pathname),"utf8",function(C,P){C?t.handleError(C,C.errno||-1):(t.status=200,t.responseText=P,g(t.DONE))});else try{this.responseText=j.readFileSync(unescape(T.pathname),"utf8"),this.status=200,g(t.DONE)}catch(C){this.handleError(C,C.errno||-1)}return}var k=T.port||(_?443:80),O=T.pathname+(T.search?T.search:"");if(l.Host=L,_&&k===443||k===80||(l.Host+=":"+T.port),o.user){typeof o.password>"u"&&(o.password="");var q=new Buffer(o.user+":"+o.password);l.Authorization="Basic "+q.toString("base64")}o.method==="GET"||o.method==="HEAD"?d=null:d?(l["Content-Length"]=Buffer.isBuffer(d)?d.length:Buffer.byteLength(d),l["Content-Type"]||(l["Content-Type"]="text/plain;charset=UTF-8")):o.method==="POST"&&(l["Content-Length"]=0);var B=e.agent||!1,R={host:L,port:k,path:O,method:o.method,headers:l,agent:B};if(_&&(R.pfx=e.pfx,R.key=e.key,R.passphrase=e.passphrase,R.cert=e.cert,R.ca=e.ca,R.ciphers=e.ciphers,R.rejectUnauthorized=e.rejectUnauthorized!==!1),v=!1,o.async){var A=_?s.request:n.request;h=!0,t.dispatchEvent("readystatechange");var F=function(C){if(i=C,i.statusCode===302||i.statusCode===303||i.statusCode===307){o.url=i.headers.location;var P=it.parse(o.url);L=P.hostname;var U={hostname:P.hostname,port:P.port,path:P.path,method:i.statusCode===303?"GET":o.method,headers:l};_&&(U.pfx=e.pfx,U.key=e.key,U.passphrase=e.passphrase,U.cert=e.cert,U.ca=e.ca,U.ciphers=e.ciphers,U.rejectUnauthorized=e.rejectUnauthorized!==!1),r=A(U,F).on("error",K),r.end();return}i&&i.setEncoding&&i.setEncoding("utf8"),g(t.HEADERS_RECEIVED),t.status=i.statusCode,i.on("data",function(W){W&&(t.responseText+=W),h&&g(t.LOADING)}),i.on("end",function(){h&&(h=!1,g(t.DONE))}),i.on("error",function(W){t.handleError(W)})},K=function(C){t.handleError(C)};r=A(R,F).on("error",K),e.autoUnref&&r.on("socket",C=>{C.unref()}),d&&r.write(d),r.end(),t.dispatchEvent("loadstart")}else{var G=".node-xmlhttprequest-content-"+process.pid,te=".node-xmlhttprequest-sync-"+process.pid;j.writeFileSync(te,"","utf8");for(var Y="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(_?"s":"")+".request;var options = "+JSON.stringify(R)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+G+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+te+"');});response.on('error', function(error) {fs.writeFileSync('"+G+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+te+"');});}).on('error', function(error) {fs.writeFileSync('"+G+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+te+"');});"+(d?"req.write('"+JSON.stringify(d).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",z=kh(process.argv[0],["-e",Y]);j.existsSync(te););if(t.responseText=j.readFileSync(G,"utf8"),z.stdin.end(),j.unlinkSync(G),t.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var S=t.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");t.handleError(S,503)}else t.status=t.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),t.responseText=t.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),g(t.DONE)}},this.handleError=function(d,_){this.status=_||0,this.statusText=d,this.responseText=d.stack,v=!0,g(this.DONE)},this.abort=function(){r&&(r.abort(),r=null),l=Object.assign({},c),this.responseText="",this.responseXML="",v=p=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||h)&&this.readyState!==this.DONE&&(h=!1,g(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(d,_){d in m||(m[d]=[]),m[d].push(_)},this.removeEventListener=function(d,_){d in m&&(m[d]=m[d].filter(function(x){return x!==_}))},this.dispatchEvent=function(d){if(typeof t["on"+d]=="function"&&(this.readyState===this.DONE?setImmediate(function(){t["on"+d]()}):t["on"+d]()),d in m)for(let _=0,x=m[d].length;_<x;_++)this.readyState===this.DONE?setImmediate(function(){m[d][_].call(t)}):m[d][_].call(t)};var g=function(d){if(!(t.readyState===d||t.readyState===t.UNSENT&&p)&&(t.readyState=d,(o.async||t.readyState<t.OPENED||t.readyState===t.DONE)&&t.dispatchEvent("readystatechange"),t.readyState===t.DONE)){let _;p?_="abort":v?_="error":_="load",t.dispatchEvent(_),t.dispatchEvent("loadend")}}}var Oh=Object.freeze(_h({__proto__:null,default:In,__moduleExports:In},[In]));const gc=In||Oh;var Gt=global;function yc(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const Th=setTimeout,Rh=clearTimeout;function us(e,t){t.useNativeTimers?(e.setTimeoutFn=Th.bind(Gt),e.clearTimeoutFn=Rh.bind(Gt)):(e.setTimeoutFn=setTimeout.bind(Gt),e.clearTimeoutFn=clearTimeout.bind(Gt))}var At=le;function le(e){if(e)return Ah(e)}function Ah(e){for(var t in le.prototype)e[t]=le.prototype[t];return e}le.prototype.on=le.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};le.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};le.prototype.off=le.prototype.removeListener=le.prototype.removeAllListeners=le.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===t||s.fn===t){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+e],this};le.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,t)}return this};le.prototype.emitReserved=le.prototype.emit;le.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};le.prototype.hasListeners=function(e){return!!this.listeners(e).length};const $e=Object.create(null);$e.open="0";$e.close="1";$e.ping="2";$e.pong="3";$e.message="4";$e.upgrade="5";$e.noop="6";const Dn=Object.create(null);Object.keys($e).forEach(e=>{Dn[$e[e]]=e});const Nh={type:"error",data:"parser error"},bc=({type:e,data:t},n,s)=>{if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){const r=Lh(t);return s(Ph(r,n))}return s($e[e]+(t||""))},Lh=e=>Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):Buffer.from(e.buffer,e.byteOffset,e.byteLength),Ph=(e,t)=>t?e:"b"+e.toString("base64"),_c=(e,t)=>{if(typeof e!="string")return{type:"message",data:Zi(e,t)};const n=e.charAt(0);if(n==="b"){const s=Buffer.from(e.substring(1),"base64");return{type:"message",data:Zi(s,t)}}return Dn[n]?e.length>1?{type:Dn[n],data:e.substring(1)}:{type:Dn[n]}:Nh},Zi=(e,t)=>{const n=Buffer.isBuffer(e);switch(t){case"arraybuffer":return n?$h(e):e;case"nodebuffer":default:return e}},$h=e=>{const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let s=0;s<e.length;s++)n[s]=e[s];return t},wc=String.fromCharCode(30),Bh=(e,t)=>{const n=e.length,s=new Array(n);let r=0;e.forEach((i,o)=>{bc(i,!1,a=>{s[o]=a,++r===n&&t(s.join(wc))})})},Ih=(e,t)=>{const n=e.split(wc),s=[];for(let r=0;r<n.length;r++){const i=_c(n[r],t);if(s.push(i),i.type==="error")break}return s},Ec=4;class Sc extends At{constructor(t){super(),this.writable=!1,us(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,n){const s=new Error(t);return s.type="TransportError",s.description=n,super.emit("error",s),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(t){const n=_c(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emit("packet",t)}onClose(){this.readyState="closed",super.emit("close")}}var xc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Wn=64,Cc={},eo=0,st=0,to;function Tr(e){var t="";do t=xc[e%Wn]+t,e=Math.floor(e/Wn);while(e>0);return t}function Dh(e){var t=0;for(st=0;st<e.length;st++)t=t*Wn+Cc[e.charAt(st)];return t}function si(){var e=Tr(+new Date);return e!==to?(eo=0,to=e):e+"."+Tr(eo++)}for(;st<Wn;st++)Cc[xc[st]]=st;si.encode=Tr;si.decode=Dh;var kc=si,Vh=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},Fh=function(e){for(var t={},n=e.split("&"),s=0,r=n.length;s<r;s++){var i=n[s].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t},ri={encode:Vh,decode:Fh};class Uh extends Sc{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose(),!1;this.onPacket(s)};Ih(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Bh(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emit("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let s="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=kc()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(s=":"+this.opts.port);const r=ri.encode(t),i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(r.length?"?"+r:"")}}function Mh(){}const qh=function(){return new gc({xdomain:!1}).responseType!=null}();class jh extends Uh{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==s}const n=t&&t.forceBase64;this.supportsBinary=qh&&!n}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Le(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",r=>{this.onError("xhr post error",r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",n=>{this.onError("xhr poll error",n)}),this.pollXhr=t}}class Le extends At{constructor(t,n){super(),us(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=yc(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new gc(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=Le.requestsCount++,Le.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(t){this.emit("data",t),this.onSuccess()}onError(t){this.emit("error",t),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Mh,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Le.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&this.onData(t)}abort(){this.cleanup()}}Le.requestsCount=0;Le.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",no);else if(typeof addEventListener=="function"){const e="onpagehide"in Gt?"pagehide":"unload";addEventListener(e,no,!1)}}function no(){for(let e in Le.requests)Le.requests.hasOwnProperty(e)&&Le.requests[e].abort()}function Oc(e,t,n){return n={path:t,exports:{},require:function(s,r){return Hh(s,r??n.path)}},e(n,n.exports),n.exports}function Hh(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var ft={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}},nn=Oc(function(e){const{EMPTY_BUFFER:t}=ft;function n(a,c){if(a.length===0)return t;if(a.length===1)return a[0];const l=Buffer.allocUnsafe(c);let u=0;for(let f=0;f<a.length;f++){const h=a[f];l.set(h,u),u+=h.length}return u<c?l.slice(0,u):l}function s(a,c,l,u,f){for(let h=0;h<f;h++)l[u+h]=a[h]^c[h&3]}function r(a,c){for(let l=0;l<a.length;l++)a[l]^=c[l&3]}function i(a){return a.byteLength===a.buffer.byteLength?a.buffer:a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}function o(a){if(o.readOnly=!0,Buffer.isBuffer(a))return a;let c;return a instanceof ArrayBuffer?c=Buffer.from(a):ArrayBuffer.isView(a)?c=Buffer.from(a.buffer,a.byteOffset,a.byteLength):(c=Buffer.from(a),o.readOnly=!1),c}try{const a=require("bufferutil");e.exports={concat:n,mask(c,l,u,f,h){h<48?s(c,l,u,f,h):a.mask(c,l,u,f,h)},toArrayBuffer:i,toBuffer:o,unmask(c,l){c.length<32?r(c,l):a.unmask(c,l)}}}catch{e.exports={concat:n,mask:s,toArrayBuffer:i,toBuffer:o,unmask:r}}});const so=Symbol("kDone"),Is=Symbol("kRun");class zh{constructor(t){this[so]=()=>{this.pending--,this[Is]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[Is]()}[Is](){if(this.pending!==this.concurrency&&this.jobs.length){const t=this.jobs.shift();this.pending++,t(this[so])}}}var Wh=zh;const{kStatusCode:Tc}=ft,Gh=Buffer.from([0,0,255,255]),Gn=Symbol("permessage-deflate"),Ue=Symbol("total-length"),Kt=Symbol("callback"),Ze=Symbol("buffers"),Vn=Symbol("error");let yn;class Kh{constructor(t,n,s){if(this._maxPayload=s|0,this._options=t||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!n,this._deflate=null,this._inflate=null,this.params=null,!yn){const r=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;yn=new Wh(r)}}static get extensionName(){return"permessage-deflate"}offer(){const t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const t=this._deflate[Kt];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){const n=this._options,s=t.find(r=>!(n.serverNoContextTakeover===!1&&r.server_no_context_takeover||r.server_max_window_bits&&(n.serverMaxWindowBits===!1||typeof n.serverMaxWindowBits=="number"&&n.serverMaxWindowBits>r.server_max_window_bits)||typeof n.clientMaxWindowBits=="number"&&!r.client_max_window_bits));if(!s)throw new Error("None of the extension offers can be accepted");return n.serverNoContextTakeover&&(s.server_no_context_takeover=!0),n.clientNoContextTakeover&&(s.client_no_context_takeover=!0),typeof n.serverMaxWindowBits=="number"&&(s.server_max_window_bits=n.serverMaxWindowBits),typeof n.clientMaxWindowBits=="number"?s.client_max_window_bits=n.clientMaxWindowBits:(s.client_max_window_bits===!0||n.clientMaxWindowBits===!1)&&delete s.client_max_window_bits,s}acceptAsClient(t){const n=t[0];if(this._options.clientNoContextTakeover===!1&&n.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!n.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(n.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&n.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return n}normalizeParams(t){return t.forEach(n=>{Object.keys(n).forEach(s=>{let r=n[s];if(r.length>1)throw new Error(`Parameter "${s}" must have only a single value`);if(r=r[0],s==="client_max_window_bits"){if(r!==!0){const i=+r;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${s}": ${r}`);r=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${s}": ${r}`)}else if(s==="server_max_window_bits"){const i=+r;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${s}": ${r}`);r=i}else if(s==="client_no_context_takeover"||s==="server_no_context_takeover"){if(r!==!0)throw new TypeError(`Invalid value for parameter "${s}": ${r}`)}else throw new Error(`Unknown parameter "${s}"`);n[s]=r})}),t}decompress(t,n,s){yn.add(r=>{this._decompress(t,n,(i,o)=>{r(),s(i,o)})})}compress(t,n,s){yn.add(r=>{this._compress(t,n,(i,o)=>{r(),s(i,o)})})}_decompress(t,n,s){const r=this._isServer?"client":"server";if(!this._inflate){const i=`${r}_max_window_bits`,o=typeof this.params[i]!="number"?j.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=j.createInflateRaw({...this._options.zlibInflateOptions,windowBits:o}),this._inflate[Gn]=this,this._inflate[Ue]=0,this._inflate[Ze]=[],this._inflate.on("error",Jh),this._inflate.on("data",Rc)}this._inflate[Kt]=s,this._inflate.write(t),n&&this._inflate.write(Gh),this._inflate.flush(()=>{const i=this._inflate[Vn];if(i){this._inflate.close(),this._inflate=null,s(i);return}const o=nn.concat(this._inflate[Ze],this._inflate[Ue]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Ue]=0,this._inflate[Ze]=[],n&&this.params[`${r}_no_context_takeover`]&&this._inflate.reset()),s(null,o)})}_compress(t,n,s){const r=this._isServer?"server":"client";if(!this._deflate){const i=`${r}_max_window_bits`,o=typeof this.params[i]!="number"?j.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=j.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:o}),this._deflate[Ue]=0,this._deflate[Ze]=[],this._deflate.on("data",Yh)}this._deflate[Kt]=s,this._deflate.write(t),this._deflate.flush(j.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=nn.concat(this._deflate[Ze],this._deflate[Ue]);n&&(i=i.slice(0,i.length-4)),this._deflate[Kt]=null,this._deflate[Ue]=0,this._deflate[Ze]=[],n&&this.params[`${r}_no_context_takeover`]&&this._deflate.reset(),s(null,i)})}}var Z=Kh;function Yh(e){this[Ze].push(e),this[Ue]+=e.length}function Rc(e){if(this[Ue]+=e.length,this[Gn]._maxPayload<1||this[Ue]<=this[Gn]._maxPayload){this[Ze].push(e);return}this[Vn]=new RangeError("Max payload size exceeded"),this[Vn].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Vn][Tc]=1009,this.removeListener("data",Rc),this.reset()}function Jh(e){this[Gn]._inflate=null,e[Tc]=1007,this[Kt](e)}var fs=Oc(function(e){const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function n(r){return r>=1e3&&r<=1014&&r!==1004&&r!==1005&&r!==1006||r>=3e3&&r<=4999}function s(r){const i=r.length;let o=0;for(;o<i;)if(!(r[o]&128))o++;else if((r[o]&224)===192){if(o+1===i||(r[o+1]&192)!==128||(r[o]&254)===192)return!1;o+=2}else if((r[o]&240)===224){if(o+2>=i||(r[o+1]&192)!==128||(r[o+2]&192)!==128||r[o]===224&&(r[o+1]&224)===128||r[o]===237&&(r[o+1]&224)===160)return!1;o+=3}else if((r[o]&248)===240){if(o+3>=i||(r[o+1]&192)!==128||(r[o+2]&192)!==128||(r[o+3]&192)!==128||r[o]===240&&(r[o+1]&240)===128||r[o]===244&&r[o+1]>143||r[o]>244)return!1;o+=4}else return!1;return!0}try{const r=require("utf-8-validate");e.exports={isValidStatusCode:n,isValidUTF8(i){return i.length<150?s(i):r(i)},tokenChars:t}}catch{e.exports={isValidStatusCode:n,isValidUTF8:s,tokenChars:t}}});const{Writable:Xh}=j,{BINARY_TYPES:Qh,EMPTY_BUFFER:ro,kStatusCode:Zh,kWebSocket:ed}=ft,{concat:Ds,toArrayBuffer:td,unmask:nd}=nn,{isValidStatusCode:sd,isValidUTF8:io}=fs,Dt=0,oo=1,ao=2,co=3,Vs=4,rd=5;class id extends Xh{constructor(t={}){super(),this._binaryType=t.binaryType||Qh[0],this._extensions=t.extensions||{},this._isServer=!!t.isServer,this._maxPayload=t.maxPayload|0,this._skipUTF8Validation=!!t.skipUTF8Validation,this[ed]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=Dt,this._loop=!1}_write(t,n,s){if(this._opcode===8&&this._state==Dt)return s();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(s)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){const s=this._buffers[0];return this._buffers[0]=s.slice(t),s.slice(0,t)}const n=Buffer.allocUnsafe(t);do{const s=this._buffers[0],r=n.length-t;t>=s.length?n.set(this._buffers.shift(),r):(n.set(new Uint8Array(s.buffer,s.byteOffset,t),r),this._buffers[0]=s.slice(t)),t-=s.length}while(t>0);return n}startLoop(t){let n;this._loop=!0;do switch(this._state){case Dt:n=this.getInfo();break;case oo:n=this.getPayloadLength16();break;case ao:n=this.getPayloadLength64();break;case co:this.getMask();break;case Vs:n=this.getData(t);break;default:this._loop=!1;return}while(this._loop);t(n)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}const t=this.consume(2);if(t[0]&48)return this._loop=!1,Q(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const n=(t[0]&64)===64;if(n&&!this._extensions[Z.extensionName])return this._loop=!1,Q(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(n)return this._loop=!1,Q(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Q(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Q(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Q(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(n)return this._loop=!1,Q(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,Q(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Q(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,Q(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Q(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=oo;else if(this._payloadLength===127)this._state=ao;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}const t=this.consume(8),n=t.readUInt32BE(0);return n>Math.pow(2,53-32)-1?(this._loop=!1,Q(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=n*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Q(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=co:this._state=Vs}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Vs}getData(t){let n=ro;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}n=this.consume(this._payloadLength),this._masked&&nd(n,this._mask)}if(this._opcode>7)return this.controlMessage(n);if(this._compressed){this._state=rd,this.decompress(n,t);return}return n.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(n)),this.dataMessage()}decompress(t,n){this._extensions[Z.extensionName].decompress(t,this._fin,(r,i)=>{if(r)return n(r);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return n(Q(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(i)}const o=this.dataMessage();if(o)return n(o);this.startLoop(n)})}dataMessage(){if(this._fin){const t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let s;this._binaryType==="nodebuffer"?s=Ds(n,t):this._binaryType==="arraybuffer"?s=td(Ds(n,t)):s=n,this.emit("message",s,!0)}else{const s=Ds(n,t);if(!this._skipUTF8Validation&&!io(s))return this._loop=!1,Q(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",s,!1)}}this._state=Dt}controlMessage(t){if(this._opcode===8)if(this._loop=!1,t.length===0)this.emit("conclude",1005,ro),this.end();else{if(t.length===1)return Q(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{const n=t.readUInt16BE(0);if(!sd(n))return Q(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const s=t.slice(2);if(!this._skipUTF8Validation&&!io(s))return Q(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",n,s),this.end()}}else this._opcode===9?this.emit("ping",t):this.emit("pong",t);this._state=Dt}}var Ac=id;function Q(e,t,n,s,r){const i=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,Q),i.code=r,i[Zh]=s,i}const{randomFillSync:od}=j,{EMPTY_BUFFER:ad}=ft,{isValidStatusCode:cd}=fs,{mask:lo,toBuffer:Ve}=nn,at=Buffer.alloc(4);class et{constructor(t,n){this._extensions=n||{},this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(t,n){const s=n.mask&&n.readOnly;let r=n.mask?6:2,i=t.length;t.length>=65536?(r+=8,i=127):t.length>125&&(r+=2,i=126);const o=Buffer.allocUnsafe(s?t.length+r:r);return o[0]=n.fin?n.opcode|128:n.opcode,n.rsv1&&(o[0]|=64),o[1]=i,i===126?o.writeUInt16BE(t.length,2):i===127&&(o.writeUInt32BE(0,2),o.writeUInt32BE(t.length,6)),n.mask?(od(at,0,4),o[1]|=128,o[r-4]=at[0],o[r-3]=at[1],o[r-2]=at[2],o[r-1]=at[3],s?(lo(t,at,o,r,t.length),[o]):(lo(t,at,t,0,t.length),[o,t])):[o,t]}close(t,n,s,r){let i;if(t===void 0)i=ad;else{if(typeof t!="number"||!cd(t))throw new TypeError("First argument must be a valid error code number");if(n===void 0||!n.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(t,0);else{const o=Buffer.byteLength(n);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+o),i.writeUInt16BE(t,0),typeof n=="string"?i.write(n,2):i.set(n,2)}}this._deflating?this.enqueue([this.doClose,i,s,r]):this.doClose(i,s,r)}doClose(t,n,s){this.sendFrame(et.frame(t,{fin:!0,rsv1:!1,opcode:8,mask:n,readOnly:!1}),s)}ping(t,n,s){const r=Ve(t);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,r,n,Ve.readOnly,s]):this.doPing(r,n,Ve.readOnly,s)}doPing(t,n,s,r){this.sendFrame(et.frame(t,{fin:!0,rsv1:!1,opcode:9,mask:n,readOnly:s}),r)}pong(t,n,s){const r=Ve(t);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,r,n,Ve.readOnly,s]):this.doPong(r,n,Ve.readOnly,s)}doPong(t,n,s,r){this.sendFrame(et.frame(t,{fin:!0,rsv1:!1,opcode:10,mask:n,readOnly:s}),r)}send(t,n,s){const r=Ve(t),i=this._extensions[Z.extensionName];let o=n.binary?2:1,a=n.compress;if(this._firstFragment?(this._firstFragment=!1,a&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(a=r.length>=i._threshold),this._compress=a):(a=!1,o=0),n.fin&&(this._firstFragment=!0),i){const c={fin:n.fin,rsv1:a,opcode:o,mask:n.mask,readOnly:Ve.readOnly};this._deflating?this.enqueue([this.dispatch,r,this._compress,c,s]):this.dispatch(r,this._compress,c,s)}else this.sendFrame(et.frame(r,{fin:n.fin,rsv1:!1,opcode:o,mask:n.mask,readOnly:Ve.readOnly}),s)}dispatch(t,n,s,r){if(!n){this.sendFrame(et.frame(t,s),r);return}const i=this._extensions[Z.extensionName];this._bufferedBytes+=t.length,this._deflating=!0,i.compress(t,s.fin,(o,a)=>{if(this._socket.destroyed){const c=new Error("The socket was closed while data was being compressed");typeof r=="function"&&r(c);for(let l=0;l<this._queue.length;l++){const u=this._queue[l][4];typeof u=="function"&&u(c)}return}this._bufferedBytes-=t.length,this._deflating=!1,s.readOnly=!1,this.sendFrame(et.frame(a,s),r),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const t=this._queue.shift();this._bufferedBytes-=t[1].length,Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[1].length,this._queue.push(t)}sendFrame(t,n){t.length===2?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],n),this._socket.uncork()):this._socket.write(t[0],n)}}var Nc=et;const{kForOnEventAttribute:Fs,kListener:uo}=ft,fo=Symbol("kCode"),ho=Symbol("kData"),po=Symbol("kError"),mo=Symbol("kMessage"),vo=Symbol("kReason"),wt=Symbol("kTarget"),go=Symbol("kType"),yo=Symbol("kWasClean");class ht{constructor(t){this[wt]=null,this[go]=t}get target(){return this[wt]}get type(){return this[go]}}Object.defineProperty(ht.prototype,"target",{enumerable:!0});Object.defineProperty(ht.prototype,"type",{enumerable:!0});class un extends ht{constructor(t,n={}){super(t),this[fo]=n.code===void 0?0:n.code,this[vo]=n.reason===void 0?"":n.reason,this[yo]=n.wasClean===void 0?!1:n.wasClean}get code(){return this[fo]}get reason(){return this[vo]}get wasClean(){return this[yo]}}Object.defineProperty(un.prototype,"code",{enumerable:!0});Object.defineProperty(un.prototype,"reason",{enumerable:!0});Object.defineProperty(un.prototype,"wasClean",{enumerable:!0});class hs extends ht{constructor(t,n={}){super(t),this[po]=n.error===void 0?null:n.error,this[mo]=n.message===void 0?"":n.message}get error(){return this[po]}get message(){return this[mo]}}Object.defineProperty(hs.prototype,"error",{enumerable:!0});Object.defineProperty(hs.prototype,"message",{enumerable:!0});class ii extends ht{constructor(t,n={}){super(t),this[ho]=n.data===void 0?null:n.data}get data(){return this[ho]}}Object.defineProperty(ii.prototype,"data",{enumerable:!0});const ld={addEventListener(e,t,n={}){let s;if(e==="message")s=function(i,o){const a=new ii("message",{data:o?i:i.toString()});a[wt]=this,t.call(this,a)};else if(e==="close")s=function(i,o){const a=new un("close",{code:i,reason:o.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[wt]=this,t.call(this,a)};else if(e==="error")s=function(i){const o=new hs("error",{error:i,message:i.message});o[wt]=this,t.call(this,o)};else if(e==="open")s=function(){const i=new ht("open");i[wt]=this,t.call(this,i)};else return;s[Fs]=!!n[Fs],s[uo]=t,n.once?this.once(e,s):this.on(e,s)},removeEventListener(e,t){for(const n of this.listeners(e))if(n[uo]===t&&!n[Fs]){this.removeListener(e,n);break}}};var ud={CloseEvent:un,ErrorEvent:hs,Event:ht,EventTarget:ld,MessageEvent:ii};const{tokenChars:Vt}=fs;function Te(e,t,n){e[t]===void 0?e[t]=[n]:e[t].push(n)}function fd(e){const t=Object.create(null);let n=Object.create(null),s=!1,r=!1,i=!1,o,a,c=-1,l=-1,u=-1,f=0;for(;f<e.length;f++)if(l=e.charCodeAt(f),o===void 0)if(u===-1&&Vt[l]===1)c===-1&&(c=f);else if(f!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=f);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${f}`);u===-1&&(u=f);const v=e.slice(c,u);l===44?(Te(t,v,n),n=Object.create(null)):o=v,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);else if(a===void 0)if(u===-1&&Vt[l]===1)c===-1&&(c=f);else if(l===32||l===9)u===-1&&c!==-1&&(u=f);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${f}`);u===-1&&(u=f),Te(n,e.slice(c,u),!0),l===44&&(Te(t,o,n),n=Object.create(null),o=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)a=e.slice(c,f),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(r){if(Vt[l]!==1)throw new SyntaxError(`Unexpected character at index ${f}`);c===-1?c=f:s||(s=!0),r=!1}else if(i)if(Vt[l]===1)c===-1&&(c=f);else if(l===34&&c!==-1)i=!1,u=f;else if(l===92)r=!0;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(l===34&&e.charCodeAt(f-1)===61)i=!0;else if(u===-1&&Vt[l]===1)c===-1&&(c=f);else if(c!==-1&&(l===32||l===9))u===-1&&(u=f);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${f}`);u===-1&&(u=f);let v=e.slice(c,u);s&&(v=v.replace(/\\/g,""),s=!1),Te(n,a,v),l===44&&(Te(t,o,n),n=Object.create(null),o=void 0),a=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);if(c===-1||i||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=f);const h=e.slice(c,u);return o===void 0?Te(t,h,n):(a===void 0?Te(n,h,!0):s?Te(n,a,h.replace(/\\/g,"")):Te(n,a,h),Te(t,o,n)),t}function hd(e){return Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(s=>[t].concat(Object.keys(s).map(r=>{let i=s[r];return Array.isArray(i)||(i=[i]),i.map(o=>o===!0?r:`${r}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}var Rr={format:hd,parse:fd};const{randomBytes:dd,createHash:pd}=j,{URL:Us}=it,{BINARY_TYPES:bo,EMPTY_BUFFER:bn,GUID:md,kForOnEventAttribute:Ms,kListener:vd,kStatusCode:gd,kWebSocket:ae,NOOP:Lc}=ft,{EventTarget:{addEventListener:yd,removeEventListener:bd}}=ud,{format:_d,parse:wd}=Rr,{toBuffer:Ed}=nn,He=["CONNECTING","OPEN","CLOSING","CLOSED"],Sd=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,qs=[8,13],xd=30*1e3;class $ extends pc{constructor(t,n,s){super(),this._binaryType=bo[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=bn,this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=$.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,t!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,n===void 0?n=[]:Array.isArray(n)||(typeof n=="object"&&n!==null?(s=n,n=[]):n=[n]),Pc(this,t,n,s)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(t){bo.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,n,s){const r=new Ac({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation});this._sender=new Nc(t,this._extensions),this._receiver=r,this._socket=t,r[ae]=this,t[ae]=this,r.on("conclude",Od),r.on("drain",Td),r.on("error",Rd),r.on("message",Ad),r.on("ping",Nd),r.on("pong",Ld),t.setTimeout(0),t.setNoDelay(),n.length>0&&t.unshift(n),t.on("close",Bc),t.on("data",ds),t.on("end",Ic),t.on("error",Dc),this._readyState=$.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=$.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Z.extensionName]&&this._extensions[Z.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=$.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,n){if(this.readyState!==$.CLOSED){if(this.readyState===$.CONNECTING){const s="WebSocket was closed before the connection was established";return ye(this,this._req,s)}if(this.readyState===$.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=$.CLOSING,this._sender.close(t,n,!this._isServer,s=>{s||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),xd)}}ping(t,n,s){if(this.readyState===$.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(s=t,t=n=void 0):typeof n=="function"&&(s=n,n=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==$.OPEN){js(this,t,s);return}n===void 0&&(n=!this._isServer),this._sender.ping(t||bn,n,s)}pong(t,n,s){if(this.readyState===$.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(s=t,t=n=void 0):typeof n=="function"&&(s=n,n=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==$.OPEN){js(this,t,s);return}n===void 0&&(n=!this._isServer),this._sender.pong(t||bn,n,s)}send(t,n,s){if(this.readyState===$.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof n=="function"&&(s=n,n={}),typeof t=="number"&&(t=t.toString()),this.readyState!==$.OPEN){js(this,t,s);return}const r={binary:typeof t!="string",mask:!this._isServer,compress:!0,fin:!0,...n};this._extensions[Z.extensionName]||(r.compress=!1),this._sender.send(t||bn,r,s)}terminate(){if(this.readyState!==$.CLOSED){if(this.readyState===$.CONNECTING){const t="WebSocket was closed before the connection was established";return ye(this,this._req,t)}this._socket&&(this._readyState=$.CLOSING,this._socket.destroy())}}}Object.defineProperty($,"CONNECTING",{enumerable:!0,value:He.indexOf("CONNECTING")});Object.defineProperty($.prototype,"CONNECTING",{enumerable:!0,value:He.indexOf("CONNECTING")});Object.defineProperty($,"OPEN",{enumerable:!0,value:He.indexOf("OPEN")});Object.defineProperty($.prototype,"OPEN",{enumerable:!0,value:He.indexOf("OPEN")});Object.defineProperty($,"CLOSING",{enumerable:!0,value:He.indexOf("CLOSING")});Object.defineProperty($.prototype,"CLOSING",{enumerable:!0,value:He.indexOf("CLOSING")});Object.defineProperty($,"CLOSED",{enumerable:!0,value:He.indexOf("CLOSED")});Object.defineProperty($.prototype,"CLOSED",{enumerable:!0,value:He.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(e=>{Object.defineProperty($.prototype,e,{enumerable:!0})});["open","error","close","message"].forEach(e=>{Object.defineProperty($.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[Ms])return t[vd];return null},set(t){for(const n of this.listeners(e))if(n[Ms]){this.removeListener(e,n);break}typeof t=="function"&&this.addEventListener(e,t,{[Ms]:!0})}})});$.prototype.addEventListener=yd;$.prototype.removeEventListener=bd;var Be=$;function Pc(e,t,n,s){const r={protocolVersion:qs[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!qs.includes(r.protocolVersion))throw new RangeError(`Unsupported protocol version: ${r.protocolVersion} (supported versions: ${qs.join(", ")})`);let i;if(t instanceof Us)i=t,e._url=t.href;else{try{i=new Us(t)}catch{throw new SyntaxError(`Invalid URL: ${t}`)}e._url=t}const o=i.protocol==="wss:",a=i.protocol==="ws+unix:";if(i.protocol!=="ws:"&&!o&&!a)throw new SyntaxError(`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`);if(a&&!i.pathname)throw new SyntaxError("The URL's pathname is empty");if(i.hash)throw new SyntaxError("The URL contains a fragment identifier");const c=o?443:80,l=dd(16).toString("base64"),u=j.get,f=new Set;let h;if(r.createConnection=o?kd:Cd,r.defaultPort=r.defaultPort||c,r.port=i.port||c,r.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,r.headers={"Sec-WebSocket-Version":r.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket",...r.headers},r.path=i.pathname+i.search,r.timeout=r.handshakeTimeout,r.perMessageDeflate&&(h=new Z(r.perMessageDeflate!==!0?r.perMessageDeflate:{},!1,r.maxPayload),r.headers["Sec-WebSocket-Extensions"]=_d({[Z.extensionName]:h.offer()})),n.length){for(const p of n){if(typeof p!="string"||!Sd.test(p)||f.has(p))throw new SyntaxError("An invalid or duplicated subprotocol was specified");f.add(p)}r.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(r.origin&&(r.protocolVersion<13?r.headers["Sec-WebSocket-Origin"]=r.origin:r.headers.Origin=r.origin),(i.username||i.password)&&(r.auth=`${i.username}:${i.password}`),a){const p=r.path.split(":");r.socketPath=p[0],r.path=p[1]}let v=e._req=u(r);r.timeout&&v.on("timeout",()=>{ye(e,v,"Opening handshake has timed out")}),v.on("error",p=>{v===null||v.aborted||(v=e._req=null,e._readyState=$.CLOSING,e.emit("error",p),e.emitClose())}),v.on("response",p=>{const m=p.headers.location,b=p.statusCode;if(m&&r.followRedirects&&b>=300&&b<400){if(++e._redirects>r.maxRedirects){ye(e,v,"Maximum redirects exceeded");return}v.abort();const E=new Us(m,t);Pc(e,E,n,s)}else e.emit("unexpected-response",v,p)||ye(e,v,`Unexpected server response: ${p.statusCode}`)}),v.on("upgrade",(p,m,b)=>{if(e.emit("upgrade",p),e.readyState!==$.CONNECTING)return;v=e._req=null;const E=pd("sha1").update(l+md).digest("base64");if(p.headers["sec-websocket-accept"]!==E){ye(e,m,"Invalid Sec-WebSocket-Accept header");return}const g=p.headers["sec-websocket-protocol"];let d;if(g!==void 0?f.size?f.has(g)||(d="Server sent an invalid subprotocol"):d="Server sent a subprotocol but none was requested":f.size&&(d="Server sent no subprotocol"),d){ye(e,m,d);return}g&&(e._protocol=g);const _=p.headers["sec-websocket-extensions"];if(_!==void 0){if(!h){ye(e,m,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let x;try{x=wd(_)}catch{ye(e,m,"Invalid Sec-WebSocket-Extensions header");return}const T=Object.keys(x);if(T.length!==1||T[0]!==Z.extensionName){ye(e,m,"Server indicated an extension that was not requested");return}try{h.accept(x[Z.extensionName])}catch{ye(e,m,"Invalid Sec-WebSocket-Extensions header");return}e._extensions[Z.extensionName]=h}e.setSocket(m,b,{maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation})})}function Cd(e){return e.path=e.socketPath,j.connect(e)}function kd(e){return e.path=void 0,!e.servername&&e.servername!==""&&(e.servername=j.isIP(e.host)?"":e.host),j.connect(e)}function ye(e,t,n){e._readyState=$.CLOSING;const s=new Error(n);Error.captureStackTrace(s,ye),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",s)):(t.destroy(s),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function js(e,t,n){if(t){const s=Ed(t).length;e._socket?e._sender._bufferedBytes+=s:e._bufferedAmount+=s}if(n){const s=new Error(`WebSocket is not open: readyState ${e.readyState} (${He[e.readyState]})`);n(s)}}function Od(e,t){const n=this[ae];n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,n._socket[ae]!==void 0&&(n._socket.removeListener("data",ds),process.nextTick($c,n._socket),e===1005?n.close():n.close(e,t))}function Td(){this[ae]._socket.resume()}function Rd(e){const t=this[ae];t._socket[ae]!==void 0&&(t._socket.removeListener("data",ds),process.nextTick($c,t._socket),t.close(e[gd])),t.emit("error",e)}function _o(){this[ae].emitClose()}function Ad(e,t){this[ae].emit("message",e,t)}function Nd(e){const t=this[ae];t.pong(e,!t._isServer,Lc),t.emit("ping",e)}function Ld(e){this[ae].emit("pong",e)}function $c(e){e.resume()}function Bc(){const e=this[ae];this.removeListener("close",Bc),this.removeListener("data",ds),this.removeListener("end",Ic),e._readyState=$.CLOSING;let t;!this._readableState.endEmitted&&!e._closeFrameReceived&&!e._receiver._writableState.errorEmitted&&(t=e._socket.read())!==null&&e._receiver.write(t),e._receiver.end(),this[ae]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",_o),e._receiver.on("finish",_o))}function ds(e){this[ae]._receiver.write(e)||this.pause()}function Ic(){const e=this[ae];e._readyState=$.CLOSING,e._receiver.end(),this.end()}function Dc(){const e=this[ae];this.removeListener("error",Dc),this.on("error",Lc),e&&(e._readyState=$.CLOSING,this.destroy())}const{Duplex:Pd}=j;function wo(e){e.emit("close")}function $d(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Vc(e){this.removeListener("error",Vc),this.destroy(),this.listenerCount("error")===0&&this.emit("error",e)}function Bd(e,t){let n=!0,s=!0;function r(){n&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",r)}):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",r));const i=new Pd({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(a,c){const l=!c&&i._readableState.objectMode?a.toString():a;i.push(l)||(n=!1,e._socket.pause())}),e.once("error",function(a){i.destroyed||(s=!1,i.destroy(a))}),e.once("close",function(){i.destroyed||i.push(null)}),i._destroy=function(o,a){if(e.readyState===e.CLOSED){a(o),process.nextTick(wo,i);return}let c=!1;e.once("error",function(u){c=!0,a(u)}),e.once("close",function(){c||a(o),process.nextTick(wo,i)}),s&&e.terminate()},i._final=function(o){if(e.readyState===e.CONNECTING){e.once("open",function(){i._final(o)});return}e._socket!==null&&(e._socket._writableState.finished?(o(),i._readableState.endEmitted&&i.destroy()):(e._socket.once("finish",function(){o()}),e.close()))},i._read=function(){e.readyState===e.OPEN&&!n&&(n=!0,e._receiver._writableState.needDrain||e._socket.resume())},i._write=function(o,a,c){if(e.readyState===e.CONNECTING){e.once("open",function(){i._write(o,a,c)});return}e.send(o,c)},i.on("end",$d),i.on("error",Vc),i}var Id=Bd;const{tokenChars:Dd}=fs;function Vd(e){const t=new Set;let n=-1,s=-1,r=0;for(r;r<e.length;r++){const o=e.charCodeAt(r);if(s===-1&&Dd[o]===1)n===-1&&(n=r);else if(r!==0&&(o===32||o===9))s===-1&&n!==-1&&(s=r);else if(o===44){if(n===-1)throw new SyntaxError(`Unexpected character at index ${r}`);s===-1&&(s=r);const a=e.slice(n,s);if(t.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);t.add(a),n=s=-1}else throw new SyntaxError(`Unexpected character at index ${r}`)}if(n===-1||s!==-1)throw new SyntaxError("Unexpected end of input");const i=e.slice(n,r);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return t.add(i),t}var Fd={parse:Vd};const{createHash:Ud}=j,{GUID:Md,kWebSocket:qd}=ft,jd=/^[+/0-9A-Za-z]{22}==$/,Eo=0,So=1,Fc=2;class Hd extends pc{constructor(t,n){if(super(),t={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...t},t.port==null&&!t.server&&!t.noServer||t.port!=null&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(t.port!=null?(this._server=j.createServer((s,r)=>{const i=j.STATUS_CODES[426];r.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),r.end(i)}),this._server.listen(t.port,t.host,t.backlog,n)):t.server&&(this._server=t.server),this._server){const s=this.emit.bind(this,"connection");this._removeListeners=Wd(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(r,i,o)=>{this.handleUpgrade(r,i,o,s)}})}t.perMessageDeflate===!0&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=Eo}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(this._state===Fc){t&&this.once("close",()=>{t(new Error("The server is not running"))}),process.nextTick(Ft,this);return}if(t&&this.once("close",t),this._state!==So)if(this._state=So,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Ft,this):process.nextTick(Ft,this);else{const n=this._server;this._removeListeners(),this._removeListeners=this._server=null,n.close(()=>{Ft(this)})}}shouldHandle(t){if(this.options.path){const n=t.url.indexOf("?");if((n!==-1?t.url.slice(0,n):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,n,s,r){n.on("error",Ar);const i=t.headers["sec-websocket-key"]!==void 0?t.headers["sec-websocket-key"]:!1,o=+t.headers["sec-websocket-version"];if(t.method!=="GET"||t.headers.upgrade.toLowerCase()!=="websocket"||!i||!jd.test(i)||o!==8&&o!==13||!this.shouldHandle(t))return vt(n,400);const a=t.headers["sec-websocket-protocol"];let c=new Set;if(a!==void 0)try{c=Fd.parse(a)}catch{return vt(n,400)}const l=t.headers["sec-websocket-extensions"],u={};if(this.options.perMessageDeflate&&l!==void 0){const f=new Z(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const h=Rr.parse(l);h[Z.extensionName]&&(f.accept(h[Z.extensionName]),u[Z.extensionName]=f)}catch{return vt(n,400)}}if(this.options.verifyClient){const f={origin:t.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(t.socket.authorized||t.socket.encrypted),req:t};if(this.options.verifyClient.length===2){this.options.verifyClient(f,(h,v,p,m)=>{if(!h)return vt(n,v||401,p,m);this.completeUpgrade(u,i,c,t,n,s,r)});return}if(!this.options.verifyClient(f))return vt(n,401)}this.completeUpgrade(u,i,c,t,n,s,r)}completeUpgrade(t,n,s,r,i,o,a){if(!i.readable||!i.writable)return i.destroy();if(i[qd])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Eo)return vt(i,503);const l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Ud("sha1").update(n+Md).digest("base64")}`],u=new Be(null);if(s.size){const f=this.options.handleProtocols?this.options.handleProtocols(s,r):s.values().next().value;f&&(l.push(`Sec-WebSocket-Protocol: ${f}`),u._protocol=f)}if(t[Z.extensionName]){const f=t[Z.extensionName].params,h=Rr.format({[Z.extensionName]:[f]});l.push(`Sec-WebSocket-Extensions: ${h}`),u._extensions=t}this.emit("headers",l,r),i.write(l.concat(`\r
`).join(`\r
`)),i.removeListener("error",Ar),u.setSocket(i,o,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Ft,this)})),a(u,r)}}var zd=Hd;function Wd(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const s of Object.keys(t))e.removeListener(s,t[s])}}function Ft(e){e._state=Fc,e.emit("close")}function Ar(){this.destroy()}function vt(e,t,n,s){e.writable&&(n=n||j.STATUS_CODES[t],s={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...s},e.write(`HTTP/1.1 ${t} ${j.STATUS_CODES[t]}\r
`+Object.keys(s).map(r=>`${r}: ${s[r]}`).join(`\r
`)+`\r
\r
`+n)),e.removeListener("error",Ar),e.destroy()}Be.createWebSocketStream=Id;Be.Server=zd;Be.Receiver=Ac;Be.Sender=Nc;Be.WebSocket=Be;Be.WebSocketServer=Be.Server;var Gd=Be;const Ut=Gd,xo=!1,Kd="nodebuffer",Yd=process.nextTick,Co=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class oi extends Sc{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=Co?{}:yc(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=xo&&!Co?n?new Ut(t,n):new Ut(t):new Ut(t,n,s)}catch(r){return this.emit("error",r)}this.ws.binaryType=this.socket.binaryType||Kd,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;bc(s,this.supportsBinary,i=>{const o={};s.options&&(o.compress=s.options.compress),this.opts.perMessageDeflate&&(typeof i=="string"?Buffer.byteLength(i):i.length)<this.opts.perMessageDeflate.threshold&&(o.compress=!1);try{xo||this.ws.send(i,o)}catch{}r&&Yd(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let s="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(s=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=kc()),this.supportsBinary||(t.b64=1);const r=ri.encode(t),i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(r.length?"?"+r:"")}check(){return!!Ut&&!("__initialize"in Ut&&this.name===oi.prototype.name)}}const Jd={websocket:oi,polling:jh};class nt extends At{constructor(t,n={}){super(),t&&typeof t=="object"&&(n=t,t=null),t?(t=kr(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=kr(n.host).host),us(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=ri.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Xd(this.opts.query);n.EIO=Ec,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Jd[t](s)}open(){let t;if(this.opts.rememberUpgrade&&nt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(t){let n=this.createTransport(t),s=!1;nt.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!s)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;nt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){s||(s=!0,u(),n.close(),n=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function c(){o("socket closed")}function l(f){n&&f.name!==n.name&&i()}const u=()=>{n.removeListener("open",r),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};n.once("open",r),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",l),n.open()}onOpen(){if(this.readyState="open",nt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:t,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){nt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const r=t.length;for(;s<r;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}nt.protocol=Ec;function Xd(e){const t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}const Qd=typeof ArrayBuffer=="function",Zd=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Uc=Object.prototype.toString,ep=typeof Blob=="function"||typeof Blob<"u"&&Uc.call(Blob)==="[object BlobConstructor]",tp=typeof File=="function"||typeof File<"u"&&Uc.call(File)==="[object FileConstructor]";function ai(e){return Qd&&(e instanceof ArrayBuffer||Zd(e))||ep&&e instanceof Blob||tp&&e instanceof File}function Fn(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Fn(e[n]))return!0;return!1}if(ai(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Fn(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Fn(e[n]))return!0;return!1}function np(e){const t=[],n=e.data,s=e;return s.data=Nr(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Nr(e,t){if(!e)return e;if(ai(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=Nr(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)e.hasOwnProperty(s)&&(n[s]=Nr(e[s],t));return n}return e}function sp(e,t){return e.data=Lr(e.data,t),e.attachments=void 0,e}function Lr(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Lr(e[n],t);else if(typeof e=="object")for(const n in e)e.hasOwnProperty(n)&&(e[n]=Lr(e[n],t));return e}const Mc=5;var D;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(D||(D={}));class rp{encode(t){return(t.type===D.EVENT||t.type===D.ACK)&&Fn(t)?(t.type=t.type===D.EVENT?D.BINARY_EVENT:D.BINARY_ACK,this.encodeAsBinary(t)):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===D.BINARY_EVENT||t.type===D.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data)),n}encodeAsBinary(t){const n=np(t),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}class ci extends At{constructor(){super()}add(t){let n;if(typeof t=="string")n=this.decodeString(t),n.type===D.BINARY_EVENT||n.type===D.BINARY_ACK?(this.reconstructor=new op(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n);else if(ai(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(D[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===D.BINARY_EVENT||s.type===D.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(i,n)}else s.nsp="/";const r=t.charAt(n+1);if(r!==""&&Number(r)==r){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}s.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=ip(t.substr(n));if(ci.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}static isPayloadValid(t,n){switch(t){case D.CONNECT:return typeof n=="object";case D.DISCONNECT:return n===void 0;case D.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case D.EVENT:case D.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case D.ACK:case D.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}function ip(e){try{return JSON.parse(e)}catch{return!1}}class op{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=sp(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var ap=Object.freeze({__proto__:null,protocol:Mc,get PacketType(){return D},Encoder:rp,Decoder:ci});function ke(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const cp=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class li extends At{constructor(t,n,s){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ke(t,"open",this.onopen.bind(this)),ke(t,"packet",this.onpacket.bind(this)),ke(t,"error",this.onerror.bind(this)),ke(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(cp.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');n.unshift(t);const s={type:D.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),s.id=o}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?this.packet(s):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){const s=this.flags.timeout;if(s===void 0){this.acks[t]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===t&&this.sendBuffer.splice(i,1);n.call(this,new Error("operation has timed out"))},s);this.acks[t]=(...i)=>{this.io.clearTimeoutFn(r),n.apply(this,[null,...i])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:D.CONNECT,data:t})}):this.packet({type:D.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case D.CONNECT:if(t.data&&t.data.sid){const r=t.data.sid;this.onconnect(r)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case D.EVENT:this.onevent(t);break;case D.BINARY_EVENT:this.onevent(t);break;case D.ACK:this.onack(t);break;case D.BINARY_ACK:this.onack(t);break;case D.DISCONNECT:this.ondisconnect();break;case D.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t)}ack(t){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:D.ACK,id:t,data:r}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>this.packet(t)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:D.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var lp=Nt;function Nt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Nt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Nt.prototype.reset=function(){this.attempts=0};Nt.prototype.setMin=function(e){this.ms=e};Nt.prototype.setMax=function(e){this.max=e};Nt.prototype.setJitter=function(e){this.jitter=e};class Kn extends At{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,us(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new lp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const r=n.parser||ap;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new nt(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=ke(n,"open",function(){s.onopen(),t&&t()}),i=ke(n,"error",o=>{s.cleanup(),s._readyState="closed",this.emitReserved("error",o),t?t(o):s.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&r();const a=this.setTimeoutFn(()=>{r(),n.close(),n.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(r),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ke(t,"ping",this.onping.bind(this)),ke(t,"data",this.ondata.bind(this)),ke(t,"error",this.onerror.bind(this)),ke(t,"close",this.onclose.bind(this)),ke(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s||(s=new li(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Mt={};function ct(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Ch(e,t.path||"/socket.io"),s=n.source,r=n.id,i=n.path,o=Mt[r]&&i in Mt[r].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new Kn(s,t):(Mt[r]||(Mt[r]=new Kn(s,t)),c=Mt[r]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(ct,{Manager:Kn,Socket:li,io:ct,connect:ct});var up=Object.freeze({__proto__:null,Manager:Kn,Socket:li,io:ct,connect:ct,default:ct,protocol:Mc});const fp=require("simple-signal-client");var ui=mc({name:"vue-webrtc",components:{},data(){return{signalClient:null,videoList:[],canvas:null,socket:null}},props:{roomId:{type:String,default:"public-room-v2"},socketURL:{type:String,default:"https://weston-vue-webrtc-lobby.azurewebsites.net"},cameraHeight:{type:[Number,String],default:160},autoplay:{type:Boolean,default:!0},screenshotFormat:{type:String,default:"image/jpeg"},enableAudio:{type:Boolean,default:!0},enableVideo:{type:Boolean,default:!0},enableLogs:{type:Boolean,default:!1},peerOptions:{type:Object,default(){return{}}},ioOptions:{type:Object,default(){return{rejectUnauthorized:!1,transports:["polling","websocket"]}}},deviceId:{type:String,default:null}},watch:{},mounted(){},methods:{async join(){var e=this;this.log("join"),this.socket=ct(this.socketURL,this.ioOptions),this.signalClient=new fp(this.socket);let t={video:e.enableVideo,audio:e.enableAudio};e.deviceId&&e.enableVideo&&(t.video={deviceId:{exact:e.deviceId}});const n=await navigator.mediaDevices.getUserMedia(t);this.log("opened",n),this.joinedRoom(n,!0),this.signalClient.once("discover",s=>{e.log("discovered",s);async function r(i){if(i!=e.socket.id)try{e.log("Connecting to peer");const{peer:o}=await e.signalClient.connect(i,e.roomId,e.peerOptions);e.videoList.forEach(a=>{a.isLocal&&e.onPeer(o,a.stream)})}catch{e.log("Error connecting to peer")}}s.peers.forEach(i=>r(i)),e.$emit("opened-room",e.roomId)}),this.signalClient.on("request",async s=>{e.log("requested",s);const{peer:r}=await s.accept({},e.peerOptions);e.log("accepted",r),e.videoList.forEach(i=>{i.isLocal&&e.onPeer(r,i.stream)})}),this.signalClient.discover(e.roomId)},onPeer(e,t){var n=this;n.log("onPeer"),e.addStream(t),e.on("stream",s=>{n.joinedRoom(s,!1),e.on("close",()=>{var r=[];n.videoList.forEach(function(i){i.id!==s.id&&r.push(i)}),n.videoList=r,n.$emit("left-room",s.id)}),e.on("error",r=>{n.log("peer error ",r)})})},joinedRoom(e,t){var n=this;if(n.videoList.find(r=>r.id===e.id)===void 0){let r={id:e.id,muted:t,stream:e,isLocal:t};n.videoList.push(r)}setTimeout(function(){for(var r=0,i=n.$refs.videos.length;r<i;r++)if(n.$refs.videos[r].id===e.id){n.$refs.videos[r].srcObject=e;break}},500),n.$emit("joined-room",e.id)},leave(){this.videoList.forEach(e=>e.stream.getTracks().forEach(t=>t.stop())),this.videoList=[],this.signalClient.peers().forEach(e=>e.removeAllListeners()),this.signalClient.destroy(),this.signalClient=null,this.socket.destroy(),this.socket=null},capture(){return this.getCanvas().toDataURL(this.screenshotFormat)},getCanvas(){let e=this.$refs.videos[0];if(e!==null&&!this.ctx){let s=document.createElement("canvas");s.height=e.clientHeight,s.width=e.clientWidth,this.canvas=s,this.ctx=s.getContext("2d")}const{ctx:t,canvas:n}=this;return t.drawImage(e,0,0,n.width,n.height),n},async shareScreen(){var e=this;if(navigator.mediaDevices==null){e.log("Error: https is required to load cameras");return}try{var t=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1});this.joinedRoom(t,!0),e.$emit("share-started",t.id),e.signalClient.peers().forEach(n=>e.onPeer(n,t))}catch(n){e.log("Media error: "+JSON.stringify(n))}},log(e,t){this.enableLogs&&(console.log(e),t!=null&&console.log(t))}}});const hp={class:"video-list"},dp=["video"],pp=["height","muted","id"];function mp(e,t,n,s,r,i){return $n(),Bn("div",hp,[($n(!0),Bn(yh,null,bh(e.videoList,o=>($n(),Bn("div",{video:o,key:o.id,class:"video-item"},[Qe("video",{controls:"",autoplay:"",playsinline:"",ref_for:!0,ref:"videos",height:e.cameraHeight,muted:o.muted,id:o.id},null,8,pp)],8,dp))),128))])}function qc(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var vp=`
.video-list[data-v-41044b41] {\r
        background: whitesmoke;\r
        height: auto;\r
        display: flex;\r
        flex-direction: row;\r
        justify-content: center;\r
        flex-wrap: wrap;
}
.video-list div[data-v-41044b41] {\r
            padding: 0px;
}
.video-item[data-v-41044b41] {\r
        background: #c5c4c4;\r
        display: inline-block;
}\r
`;qc(vp);ui.render=mp;ui.__scopeId="data-v-41044b41";var jc=mc({name:"VueWebrtcSample",data(){return{counter:5,initCounter:5,message:{action:null,amount:null}}},computed:{changedBy(){const{message:e}=this;return e.action?`${e.action} ${e.amount||""}`.trim():"initialized"}},methods:{increment(e){const t=typeof e!="number"?1:e;this.counter+=t,this.message.action="incremented by",this.message.amount=t},decrement(e){const t=typeof e!="number"?1:e;this.counter-=t,this.message.action="decremented by",this.message.amount=t},reset(){this.counter=this.initCounter,this.message.action="reset",this.message.amount=null}}});const gp={class:"vue-webrtc-sample"},yp=vc(".");function bp(e,t,n,s,r,i){return $n(),Bn("div",gp,[Qe("p",null,[vc("The counter was "+Qi(e.changedBy)+" to ",1),Qe("b",null,Qi(e.counter),1),yp]),Qe("button",{onClick:t[0]||(t[0]=function(){return e.increment&&e.increment(...arguments)})}," Click +1 "),Qe("button",{onClick:t[1]||(t[1]=function(){return e.decrement&&e.decrement(...arguments)})}," Click -1 "),Qe("button",{onClick:t[2]||(t[2]=o=>e.increment(5))}," Click +5 "),Qe("button",{onClick:t[3]||(t[3]=o=>e.decrement(5))}," Click -5 "),Qe("button",{onClick:t[4]||(t[4]=function(){return e.reset&&e.reset(...arguments)})}," Reset ")])}var _p=`
.vue-webrtc-sample[data-v-3020e3b4] {\r
    display: block;\r
    width: 400px;\r
    margin: 25px auto;\r
    border: 1px solid #ccc;\r
    background: #eaeaea;\r
    text-align: center;\r
    padding: 25px;
}
.vue-webrtc-sample p[data-v-3020e3b4] {\r
    margin: 0 0 1em;
}\r
`;qc(_p);jc.render=bp;jc.__scopeId="data-v-3020e3b4";window.io=up;const Hc=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n};const Ee=typeof window<"u",fi=Ee&&"IntersectionObserver"in window,{camelize:ob,capitalize:wp,computed:Ep,Fragment:Sp,reactive:xp,toRefs:Cp,watchEffect:kp}=await w("vue");function zc(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(s=>zc(e[s],t[s]))}function M(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function Pr(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function $r(e){return e&&"$el"in e?e.$el:e}const ko=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function Hs(e,t){return t.every(n=>e.hasOwnProperty(n))}function Op(e,t,n){const s=Object.create(null),r=Object.create(null);for(const i in e)t.some(o=>o instanceof RegExp?o.test(i):o===i)&&!n?.some(o=>o===i)?s[i]=e[i]:r[i]=e[i];return[s,r]}function Tp(e,t){const n={...e};return t.forEach(s=>delete n[s]),n}const Rp=/^on[^a-z]/,Wc=e=>Rp.test(e);function Ap(e){return e==null?[]:Array.isArray(e)?e:[e]}function Oo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function To(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function Np(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let s=0;for(;s<e.length;)n.push(e.substr(s,t)),s+=t;return n}function Et(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const s={};for(const r in e)s[r]=e[r];for(const r in t){const i=e[r],o=t[r];if(Pr(i)&&Pr(o)){s[r]=Et(i,o,n);continue}if(Array.isArray(i)&&Array.isArray(o)&&n){s[r]=n(i,o);continue}s[r]=o}return s}function Gc(e){return e.map(t=>t.type===Sp?Gc(t.children):t).flat()}function lt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(lt.cache.has(e))return lt.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return lt.cache.set(e,t),t}lt.cache=new Map;function Un(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Un(e,n)).flat(1);if(Array.isArray(t.children))return t.children.map(n=>Un(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Un(e,t.component.subTree).flat(1)}return[]}function hi(e){const t=xp({}),n=Ep(e);return kp(()=>{for(const s in n.value)t[s]=n.value[s]},{flush:"sync"}),Cp(t)}function Yn(e,t){return e.includes(t)}function Kc(e){return e[2].toLowerCase()+e.slice(3)}function Ro(e,t){return t="on"+wp(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function Lp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(s=>`${s}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function Pp(e,t){if(!(Ee&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}const Yc=["top","bottom"],$p=["start","end","left","right"];function Br(e,t){let[n,s]=e.split(" ");return s||(s=Yn(Yc,n)?"start":Yn($p,n)?"top":"center"),{side:Ao(n,t),align:Ao(s,t)}}function Ao(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function zs(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function Ws(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function No(e){return{side:e.align,align:e.side}}function Lo(e){return Yn(Yc,e.side)?"y":"x"}class kt{constructor(t){let{x:n,y:s,width:r,height:i}=t;this.x=n,this.y=s,this.width=r,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Po(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Jc(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),s=n.transform;if(s){let r,i,o,a,c;if(s.startsWith("matrix3d("))r=s.slice(9,-1).split(/, /),i=+r[0],o=+r[5],a=+r[12],c=+r[13];else if(s.startsWith("matrix("))r=s.slice(7,-1).split(/, /),i=+r[0],o=+r[3],a=+r[4],c=+r[5];else return new kt(t);const l=n.transformOrigin,u=t.x-a-(1-i)*parseFloat(l),f=t.y-c-(1-o)*parseFloat(l.slice(l.indexOf(" ")+1)),h=i?t.width/i:e.offsetWidth+1,v=o?t.height/o:e.offsetHeight+1;return new kt({x:u,y:f,width:h,height:v})}else return new kt(t)}function Yt(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let s;try{s=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof s.finished>"u"&&(s.finished=new Promise(r=>{s.onfinish=()=>{r(s)}})),s}const Mn=new WeakMap;function Bp(e,t){Object.keys(t).forEach(n=>{if(Wc(n)){const s=Kc(n),r=Mn.get(e);if(t[n]==null)r?.forEach(i=>{const[o,a]=i;o===s&&(e.removeEventListener(s,a),r.delete(i))});else if(!r||![...r].some(i=>i[0]===s&&i[1]===t[n])){e.addEventListener(s,t[n]);const i=r||new Set;i.add([s,t[n]]),Mn.has(e)||Mn.set(e,i)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function Ip(e,t){Object.keys(t).forEach(n=>{if(Wc(n)){const s=Kc(n),r=Mn.get(e);r?.forEach(i=>{const[o,a]=i;o===s&&(e.removeEventListener(s,a),r.delete(i))})}else e.removeAttribute(n)})}const gt=2.4,$o=.2126729,Bo=.7151522,Io=.072175,Dp=.55,Vp=.58,Fp=.57,Up=.62,_n=.03,Do=1.45,Mp=5e-4,qp=1.25,jp=1.25,Vo=.078,Fo=12.82051282051282,wn=.06,Uo=.001;function Mo(e,t){const n=(e.r/255)**gt,s=(e.g/255)**gt,r=(e.b/255)**gt,i=(t.r/255)**gt,o=(t.g/255)**gt,a=(t.b/255)**gt;let c=n*$o+s*Bo+r*Io,l=i*$o+o*Bo+a*Io;if(c<=_n&&(c+=(_n-c)**Do),l<=_n&&(l+=(_n-l)**Do),Math.abs(l-c)<Mp)return 0;let u;if(l>c){const f=(l**Dp-c**Vp)*qp;u=f<Uo?0:f<Vo?f-f*Fo*wn:f-wn}else{const f=(l**Up-c**Fp)*jp;u=f>-Uo?0:f>-Vo?f-f*Fo*wn:f+wn}return u*100}const{warn:Xc}=await w("vue");function Qt(e){Xc(`Vuetify: ${e}`)}function Hp(e){Xc(`Vuetify error: ${e}`)}function qo(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}const jo=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,zp={rgb:(e,t,n,s)=>({r:e,g:t,b:n,a:s}),rgba:(e,t,n,s)=>({r:e,g:t,b:n,a:s}),hsl:(e,t,n,s)=>Ho({h:e,s:t,l:n,a:s}),hsla:(e,t,n,s)=>Ho({h:e,s:t,l:n,a:s}),hsv:(e,t,n,s)=>sn({h:e,s:t,v:n,a:s}),hsva:(e,t,n,s)=>sn({h:e,s:t,v:n,a:s})};function Jt(e){if(typeof e=="number")return(isNaN(e)||e<0||e>16777215)&&Qt(`'${e}' is not a valid hex color`),{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&jo.test(e)){const{groups:t}=e.match(jo),{fn:n,values:s}=t,r=s.split(/,\s*/).map(i=>i.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return zp[n](...r)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;[3,4].includes(t.length)?t=t.split("").map(s=>s+s).join(""):[6,8].includes(t.length)||Qt(`'${e}' is not a valid hex(a) color`);const n=parseInt(t,16);return(isNaN(n)||n<0||n>4294967295)&&Qt(`'${e}' is not a valid hex(a) color`),Wp(t)}else if(typeof e=="object"){if(Hs(e,["r","g","b"]))return e;if(Hs(e,["h","s","l"]))return sn(Qc(e));if(Hs(e,["h","s","v"]))return sn(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function sn(e){const{h:t,s:n,v:s,a:r}=e,i=a=>{const c=(a+t/60)%6;return s-s*n*Math.max(Math.min(c,4-c,1),0)},o=[i(5),i(3),i(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:r}}function Ho(e){return sn(Qc(e))}function Qc(e){const{h:t,s:n,l:s,a:r}=e,i=s+n*Math.min(s,1-s),o=i===0?0:2-2*s/i;return{h:t,s:o,v:i,a:r}}function Wp(e){e=Gp(e);let[t,n,s,r]=Np(e,2).map(i=>parseInt(i,16));return r=r===void 0?r:r/255,{r:t,g:n,b:s,a:r}}function Gp(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=To(To(e,6),8,"F")),e}function Kp(e){const t=Math.abs(Mo(Jt(0),Jt(e)));return Math.abs(Mo(Jt(16777215),Jt(e)))>Math.min(t,50)?"#fff":"#000"}function N(e,t){return n=>Object.keys(e).reduce((s,r)=>{const o=typeof e[r]=="object"&&e[r]!=null&&!Array.isArray(e[r])?e[r]:{type:e[r]};return n&&r in n?s[r]={...o,default:n[r]}:s[r]=o,t&&!s[r].source&&(s[r].source=t),s},{})}const de=N({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component"),{computed:Ir,inject:Yp,provide:Zc,ref:Jp,shallowRef:Xp,unref:En,watchEffect:Qp}=await w("vue"),Jn=Symbol.for("vuetify:defaults");function di(){const e=Yp(Jn);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function pi(e,t){const n=di(),s=Jp(e),r=Ir(()=>{if(En(t?.disabled))return n.value;const o=En(t?.scoped),a=En(t?.reset),c=En(t?.root);if(s.value==null&&!(o||a||c))return n.value;let l=Et(s.value,{prev:n.value});if(o)return l;if(a||c){const u=Number(a||1/0);for(let f=0;f<=u&&!(!l||!("prev"in l));f++)l=l.prev;return l&&typeof c=="string"&&c in l&&(l=Et(Et(l,{prev:l}),l[c])),l}return l.prev?Et(l.prev,l):l});return Zc(Jn,r),r}function Zp(e,t){return typeof e.props?.[t]<"u"||typeof e.props?.[lt(t)]<"u"}function em(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:di();const s=pe("useDefaults");if(t=t??s.type.name??s.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const r=Ir(()=>n.value?.[e._as??t]),i=new Proxy(e,{get(c,l){const u=Reflect.get(c,l);return l==="class"||l==="style"?[r.value?.[l],u].filter(f=>f!=null):typeof l=="string"&&!Zp(s.vnode,l)?r.value?.[l]??n.value?.global?.[l]??u:u}}),o=Xp();Qp(()=>{if(r.value){const c=Object.entries(r.value).filter(l=>{let[u]=l;return u.startsWith(u[0].toUpperCase())});o.value=c.length?Object.fromEntries(c):void 0}else o.value=void 0});function a(){const c=um(Jn,s);Zc(Jn,Ir(()=>o.value?Et(c?.value??{},o.value):c?.value))}return{props:i,provideSubDefaults:a}}const{defineComponent:tm}=await w("vue");function ps(e){if(e._setup=e._setup??e.setup,!e.name)return Qt("The component is missing an explicit name, unable to generate default prop value"),e;if(e._setup){e.props=N(e.props??{},e.name)();const t=Object.keys(e.props);e.filterProps=function(s){return Op(s,t,["class","style"])},e.props._as=String,e.setup=function(s,r){const i=di();if(!i.value)return e._setup(s,r);const{props:o,provideSubDefaults:a}=em(s,s._as??e.name,i),c=e._setup(o,r);return a(),c}}return e}function ee(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?ps:tm)(t)}const{camelize:nm,capitalize:sm,h:rm}=await w("vue");function ms(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ee()({name:n??sm(nm(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...de()},setup(s,r){let{slots:i}=r;return()=>rm(s.tag,{class:[e,s.class],style:s.style},i.default?.())}})}function el(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Dr="cubic-bezier(0.4, 0, 0.2, 1)",im="cubic-bezier(0.0, 0, 0.2, 1)",om="cubic-bezier(0.4, 0, 1, 1)",{getCurrentInstance:am}=await w("vue");function pe(e,t){const n=am();if(!n)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return n}function dt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=pe(e).type;return lt(t?.aliasName||t?.name)}let tl=0,qn=new WeakMap;function nl(){const e=pe("getUid");if(qn.has(e))return qn.get(e);{const t=tl++;return qn.set(e,t),t}}nl.reset=()=>{tl=0,qn=new WeakMap};function cm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?lm(e):mi(e))return e;e=e.parentElement}return document.scrollingElement}function Xn(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(mi(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function mi(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function lm(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function um(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}function fm(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function ue(e){const t=pe("useRender");t.render=e}const{computed:hm,isRef:dm}=await w("vue"),vi=N({border:[Boolean,Number,String]},"border");function gi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt();return{borderClasses:hm(()=>{const s=dm(e)?e.value:e.border,r=[];if(s===!0||s==="")r.push(`${t}--border`);else if(typeof s=="string"||s===0)for(const i of String(s).split(" "))r.push(`border-${i}`);return r})}}const{computed:pm}=await w("vue"),mm=[null,"default","comfortable","compact"],fn=N({density:{type:String,default:"default",validator:e=>mm.includes(e)}},"density");function vs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt();return{densityClasses:pm(()=>`${t}--density-${e.density}`)}}const{computed:vm,isRef:gm}=await w("vue"),yi=N({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function bi(e){return{elevationClasses:vm(()=>{const n=gm(e)?e.value:e.elevation,s=[];return n==null||s.push(`elevation-${n}`),s})}}const{computed:ym,isRef:bm}=await w("vue"),Lt=N({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function Pt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt();return{roundedClasses:ym(()=>{const s=bm(e)?e.value:e.rounded,r=[];if(s===!0||s==="")r.push(`${t}--rounded`);else if(typeof s=="string"||s===0)for(const i of String(s).split(" "))r.push(`rounded-${i}`);return r})}}const pt=N({tag:{type:String,default:"div"}},"tag"),{computed:Gs,inject:_m,provide:wm,ref:ab,watch:cb,watchEffect:lb}=await w("vue"),zo=Symbol.for("vuetify:theme"),ze=N({theme:String},"theme");function We(e){pe("provideTheme");const t=_m(zo,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=Gs(()=>e.theme??t.name.value),s=Gs(()=>t.themes.value[n.value]),r=Gs(()=>t.isDisabled?void 0:`v-theme--${n.value}`),i={...t,name:n,current:s,themeClasses:r};return wm(zo,i),i}const{computed:sl,isRef:rl}=await w("vue");function _i(e){return hi(()=>{const t=[],n={};if(e.value.background)if(qo(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text){const s=Jt(e.value.background);if(s.a==null||s.a===1){const r=Kp(s);n.color=r,n.caretColor=r}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(qo(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function Qn(e,t){const n=sl(()=>({text:rl(e)?e.value:t?e[t]:null})),{colorClasses:s,colorStyles:r}=_i(n);return{textColorClasses:s,textColorStyles:r}}function Vr(e,t){const n=sl(()=>({background:rl(e)?e.value:t?e[t]:null})),{colorClasses:s,colorStyles:r}=_i(n);return{backgroundColorClasses:s,backgroundColorStyles:r}}const{createVNode:Ks,Fragment:Em}=await w("vue"),{computed:Wo,unref:Go}=await w("vue"),Sm=["elevated","flat","tonal","outlined","text","plain"];function gs(e,t){return Ks(Em,null,[e&&Ks("span",{key:"overlay",class:`${t}__overlay`},null),Ks("span",{key:"underlay",class:`${t}__underlay`},null)])}const hn=N({color:String,variant:{type:String,default:"elevated",validator:e=>Sm.includes(e)}},"variant");function ys(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt();const n=Wo(()=>{const{variant:i}=Go(e);return`${t}--variant-${i}`}),{colorClasses:s,colorStyles:r}=_i(Wo(()=>{const{variant:i,color:o}=Go(e);return{[["elevated","flat"].includes(i)?"background":"text"]:o}}));return{colorClasses:s,colorStyles:r,variantClasses:n}}const{createVNode:xm,resolveDirective:ub}=await w("vue"),{toRef:Ys}=await w("vue"),il=N({divided:Boolean,...vi(),...de(),...fn(),...yi(),...Lt(),...pt(),...ze(),...hn()},"VBtnGroup"),Ko=ee()({name:"VBtnGroup",props:il(),setup(e,t){let{slots:n}=t;const{themeClasses:s}=We(e),{densityClasses:r}=vs(e),{borderClasses:i}=gi(e),{elevationClasses:o}=bi(e),{roundedClasses:a}=Pt(e);pi({VBtn:{height:"auto",color:Ys(e,"color"),density:Ys(e,"density"),flat:!0,variant:Ys(e,"variant")}}),ue(()=>xm(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},s.value,i.value,r.value,o.value,a.value,e.class],style:e.style},n))}}),{effectScope:Cm,onScopeDispose:km,watch:Om}=await w("vue");function bs(e,t){let n;function s(){n=Cm(),n.run(()=>t.length?t(()=>{n?.stop(),s()}):t())}Om(e,r=>{r&&!n?s():r||(n?.stop(),n=void 0)},{immediate:!0}),km(()=>{n?.stop()})}const{computed:Js,ref:Tm,toRaw:Rm,watch:Am}=await w("vue");function dn(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const i=pe("useProxiedModel"),o=Tm(e[t]!==void 0?e[t]:n),a=lt(t),l=Js(a!==t?()=>(e[t],!!((i.vnode.props?.hasOwnProperty(t)||i.vnode.props?.hasOwnProperty(a))&&(i.vnode.props?.hasOwnProperty(`onUpdate:${t}`)||i.vnode.props?.hasOwnProperty(`onUpdate:${a}`)))):()=>(e[t],!!(i.vnode.props?.hasOwnProperty(t)&&i.vnode.props?.hasOwnProperty(`onUpdate:${t}`))));bs(()=>!l.value,()=>{Am(()=>e[t],f=>{o.value=f})});const u=Js({get(){const f=e[t];return s(l.value?f:o.value)},set(f){const h=r(f),v=Rm(l.value?e[t]:o.value);v===h||s(v)===f||(o.value=h,i?.emit(`update:${t}`,h))}});return Object.defineProperty(u,"externalValue",{get:()=>l.value?e[t]:o.value}),u}const{computed:Zt,inject:Nm,onBeforeUnmount:ol,onMounted:Lm,provide:al,reactive:Pm,toRef:cl,watch:$m}=await w("vue"),Bm=N({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Im=N({value:null,disabled:Boolean,selectedClass:String},"group-item");function Dm(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const s=pe("useGroupItem");if(!s)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=nl();al(Symbol.for(`${t.description}:id`),r);const i=Nm(t,null);if(!i){if(!n)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=cl(e,"value"),a=Zt(()=>!!(i.disabled.value||e.disabled));i.register({id:r,value:o,disabled:a},s),ol(()=>{i.unregister(r)});const c=Zt(()=>i.isSelected(r)),l=Zt(()=>c.value&&[i.selectedClass.value,e.selectedClass]);return $m(c,u=>{s.emit("group:selected",{value:u})}),{id:r,isSelected:c,toggle:()=>i.select(r,!c.value),select:u=>i.select(r,u),selectedClass:l,value:o,disabled:a,group:i}}function Vm(e,t){let n=!1;const s=Pm([]),r=dn(e,"modelValue",[],h=>h==null?[]:ll(s,Ap(h)),h=>{const v=Um(s,h);return e.multiple?v:v[0]}),i=pe("useGroup");function o(h,v){const p=h,m=Symbol.for(`${t.description}:id`),E=Un(m,i?.vnode).indexOf(v);E>-1?s.splice(E,0,p):s.push(p)}function a(h){if(n)return;c();const v=s.findIndex(p=>p.id===h);s.splice(v,1)}function c(){const h=s.find(v=>!v.disabled);h&&e.mandatory==="force"&&!r.value.length&&(r.value=[h.id])}Lm(()=>{c()}),ol(()=>{n=!0});function l(h,v){const p=s.find(m=>m.id===h);if(!(v&&p?.disabled))if(e.multiple){const m=r.value.slice(),b=m.findIndex(g=>g===h),E=~b;if(v=v??!E,E&&e.mandatory&&m.length<=1||!E&&e.max!=null&&m.length+1>e.max)return;b<0&&v?m.push(h):b>=0&&!v&&m.splice(b,1),r.value=m}else{const m=r.value.includes(h);if(e.mandatory&&m)return;r.value=v??!m?[h]:[]}}function u(h){if(e.multiple&&Qt('This method is not supported when using "multiple" prop'),r.value.length){const v=r.value[0],p=s.findIndex(E=>E.id===v);let m=(p+h)%s.length,b=s[m];for(;b.disabled&&m!==p;)m=(m+h)%s.length,b=s[m];if(b.disabled)return;r.value=[s[m].id]}else{const v=s.find(p=>!p.disabled);v&&(r.value=[v.id])}}const f={register:o,unregister:a,selected:r,select:l,disabled:cl(e,"disabled"),prev:()=>u(s.length-1),next:()=>u(1),isSelected:h=>r.value.includes(h),selectedClass:Zt(()=>e.selectedClass),items:Zt(()=>s),getItemIndex:h=>Fm(s,h)};return al(t,f),f}function Fm(e,t){const n=ll(e,[t]);return n.length?e.findIndex(s=>s.id===n[0]):-1}function ll(e,t){const n=[];return t.forEach(s=>{const r=e.find(o=>zc(s,o.value)),i=e[s];r?.value!=null?n.push(r.id):i!=null&&n.push(i.id)}),n}function Um(e,t){const n=[];return t.forEach(s=>{const r=e.findIndex(i=>i.id===s);if(~r){const i=e[r];n.push(i.value!=null?i.value:r)}}),n}const{createVNode:Mm,mergeProps:qm}=await w("vue"),ul=Symbol.for("vuetify:v-btn-toggle"),jm=N({...il(),...Bm()},"VBtnToggle");ee()({name:"VBtnToggle",props:jm(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:s,next:r,prev:i,select:o,selected:a}=Vm(e,ul);return ue(()=>{const[c]=Ko.filterProps(e);return Mm(Ko,qm({class:["v-btn-toggle",e.class]},c,{style:e.style}),{default:()=>[n.default?.({isSelected:s,next:r,prev:i,select:o,selected:a})]})}),{next:r,prev:i,select:o}}});const{toRefs:Hm}=await w("vue"),zm=N({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),rt=ee(!1)({name:"VDefaultsProvider",props:zm(),setup(e,t){let{slots:n}=t;const{defaults:s,disabled:r,reset:i,root:o,scoped:a}=Hm(e);return pi(s,{reset:i,root:o,scoped:a,disabled:r}),()=>n.default?.()}});const{mergeProps:Wm,createVNode:Me}=await w("vue"),{computed:Gm,inject:Km,unref:Ym}=await w("vue"),je=[String,Function,Object,Array],Jm=Symbol.for("vuetify:icons"),_s=N({icon:{type:je},tag:{type:String,required:!0}},"icon"),Yo=ee()({name:"VComponentIcon",props:_s(),setup(e,t){let{slots:n}=t;return()=>{const s=e.icon;return Me(e.tag,null,{default:()=>[e.icon?Me(s,null,null):n.default?.()]})}}}),Xm=ps({name:"VSvgIcon",inheritAttrs:!1,props:_s(),setup(e,t){let{attrs:n}=t;return()=>Me(e.tag,Wm(n,{style:null}),{default:()=>[Me("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(s=>Array.isArray(s)?Me("path",{d:s[0],"fill-opacity":s[1]},null):Me("path",{d:s},null)):Me("path",{d:e.icon},null)])]})}});ps({name:"VLigatureIcon",props:_s(),setup(e){return()=>Me(e.tag,null,{default:()=>[e.icon]})}});ps({name:"VClassIcon",props:_s(),setup(e){return()=>Me(e.tag,{class:e.icon},null)}});const Qm=e=>{const t=Km(Jm);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:Gm(()=>{const s=Ym(e);if(!s)return{component:Yo};let r=s;if(typeof r=="string"&&(r=r.trim(),r.startsWith("$")&&(r=t.aliases?.[r.slice(1)])),!r)throw new Error(`Could not find aliased icon "${s}"`);if(Array.isArray(r))return{component:Xm,icon:r};if(typeof r!="string")return{component:Yo,icon:r};const i=Object.keys(t.sets).find(c=>typeof r=="string"&&r.startsWith(`${c}:`)),o=i?r.slice(i.length+1):r;return{component:t.sets[i??t.defaultSet].component,icon:o}})}},Zm=["x-small","small","default","large","x-large"],ws=N({size:{type:[String,Number],default:"default"}},"size");function Es(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt();return hi(()=>{let n,s;return Yn(Zm,e.size)?n=`${t}--size-${e.size}`:e.size&&(s={width:M(e.size),height:M(e.size)}),{sizeClasses:n,sizeStyles:s}})}const{createVNode:ev}=await w("vue"),{computed:tv,ref:nv,Text:sv,toRef:rv}=await w("vue"),iv=N({color:String,start:Boolean,end:Boolean,icon:je,...de(),...ws(),...pt({tag:"i"}),...ze()},"VIcon"),ut=ee()({name:"VIcon",props:iv(),setup(e,t){let{attrs:n,slots:s}=t;const r=nv(),{themeClasses:i}=We(e),{iconData:o}=Qm(tv(()=>r.value||e.icon)),{sizeClasses:a}=Es(e),{textColorClasses:c,textColorStyles:l}=Qn(rv(e,"color"));return ue(()=>{const u=s.default?.();return u&&(r.value=Gc(u).filter(f=>f.type===sv&&f.children&&typeof f.children=="string")[0]?.children),ev(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",i.value,a.value,c.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[a.value?void 0:{fontSize:M(e.size),height:M(e.size),width:M(e.size)},l.value,e.style],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},{default:()=>[u]})}),{}}});const{onBeforeUnmount:ov,ref:av,shallowRef:cv,watch:lv}=await w("vue");function fl(e,t){const n=av(),s=cv(!1);if(fi){const r=new IntersectionObserver(i=>{e?.(i,r),s.value=!!i.find(o=>o.isIntersecting)},t);ov(()=>{r.disconnect()}),lv(n,(i,o)=>{o&&(r.unobserve(o),s.value=!1),i&&r.observe(i)},{flush:"post"})}return{intersectionRef:n,isIntersecting:s}}const{onBeforeUnmount:uv,readonly:fv,ref:Jo,watch:hv}=await w("vue");function dv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Jo(),s=Jo();if(Ee){const r=new ResizeObserver(i=>{e?.(i,r),i.length&&(t==="content"?s.value=i[0].contentRect:s.value=i[0].target.getBoundingClientRect())});uv(()=>{r.disconnect()}),hv(n,(i,o)=>{o&&(r.unobserve($r(o)),s.value=void 0),i&&r.observe($r(i))},{flush:"post"})}return{resizeRef:n,contentRect:fv(s)}}const{createVNode:qt}=await w("vue"),{computed:yt,ref:pv,toRef:Xo,watchEffect:mv}=await w("vue"),vv=N({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...de(),...ws(),...pt({tag:"div"}),...ze()},"VProgressCircular"),gv=ee()({name:"VProgressCircular",props:vv(),setup(e,t){let{slots:n}=t;const s=20,r=2*Math.PI*s,i=pv(),{themeClasses:o}=We(e),{sizeClasses:a,sizeStyles:c}=Es(e),{textColorClasses:l,textColorStyles:u}=Qn(Xo(e,"color")),{textColorClasses:f,textColorStyles:h}=Qn(Xo(e,"bgColor")),{intersectionRef:v,isIntersecting:p}=fl(),{resizeRef:m,contentRect:b}=dv(),E=yt(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),g=yt(()=>Number(e.width)),d=yt(()=>c.value?Number(e.size):b.value?b.value.width:Math.max(g.value,32)),_=yt(()=>s/(1-g.value/d.value)*2),x=yt(()=>g.value/d.value*_.value),T=yt(()=>M((100-E.value)/100*r));return mv(()=>{v.value=i.value,m.value=i.value}),ue(()=>qt(e.tag,{ref:i,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":p.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,a.value,l.value,e.class],style:[c.value,u.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:E.value},{default:()=>[qt("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${_.value} ${_.value}`},[qt("circle",{class:["v-progress-circular__underlay",f.value],style:h.value,fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":x.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),qt("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":x.value,"stroke-dasharray":r,"stroke-dashoffset":T.value},null)]),n.default&&qt("div",{class:"v-progress-circular__content"},[n.default({value:E.value})])]})),{}}}),{computed:yv}=await w("vue"),Ss=N({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function xs(e){return{dimensionStyles:yv(()=>({height:M(e.height),maxHeight:M(e.maxHeight),maxWidth:M(e.maxWidth),minHeight:M(e.minHeight),minWidth:M(e.minWidth),width:M(e.width)}))}}const{computed:fb,inject:bv,provide:hb,ref:db}=await w("vue"),_v=Symbol.for("vuetify:locale");function wi(){const e=bv(_v);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const{computed:wv}=await w("vue"),Qo={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Cs=N({location:String},"location");function ks(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:s}=wi();return{locationStyles:wv(()=>{if(!e.location)return{};const{side:i,align:o}=Br(e.location.split(" ").length>1?e.location:`${e.location} center`,s.value);function a(l){return n?n(l):0}const c={};return i!=="center"&&(t?c[Qo[i]]=`calc(100% - ${a(i)}px)`:c[i]=0),o!=="center"?t?c[Qo[o]]=`calc(100% - ${a(o)}px)`:c[o]=0:(i==="center"?c.top=c.left="50%":c[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",c.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),c})}}const{createVNode:Ye}=await w("vue"),{computed:Je,Transition:Ev}=await w("vue"),Sv=N({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...de(),...Cs({location:"top"}),...Lt(),...pt(),...ze()},"VProgressLinear"),xv=ee()({name:"VProgressLinear",props:Sv(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=dn(e,"modelValue"),{isRtl:r,rtlClasses:i}=wi(),{themeClasses:o}=We(e),{locationStyles:a}=ks(e),{textColorClasses:c,textColorStyles:l}=Qn(e,"color"),{backgroundColorClasses:u,backgroundColorStyles:f}=Vr(Je(()=>e.bgColor||e.color)),{backgroundColorClasses:h,backgroundColorStyles:v}=Vr(e,"color"),{roundedClasses:p}=Pt(e),{intersectionRef:m,isIntersecting:b}=fl(),E=Je(()=>parseInt(e.max,10)),g=Je(()=>parseInt(e.height,10)),d=Je(()=>parseFloat(e.bufferValue)/E.value*100),_=Je(()=>parseFloat(s.value)/E.value*100),x=Je(()=>r.value!==e.reverse),T=Je(()=>e.indeterminate?"fade-transition":"slide-x-transition"),L=Je(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function k(O){if(!m.value)return;const{left:q,right:B,width:R}=m.value.getBoundingClientRect(),A=x.value?R-O.clientX+(B-R):O.clientX-q;s.value=Math.round(A/R*E.value)}return ue(()=>Ye(e.tag,{ref:m,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&b.value,"v-progress-linear--reverse":x.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},p.value,o.value,i.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?M(g.value):0,"--v-progress-linear-height":M(g.value),...a.value},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:_.value,onClick:e.clickable&&k},{default:()=>[e.stream&&Ye("div",{key:"stream",class:["v-progress-linear__stream",c.value],style:{...l.value,[x.value?"left":"right"]:M(-g.value),borderTop:`${M(g.value/2)} dotted`,opacity:L.value,top:`calc(50% - ${M(g.value/4)})`,width:M(100-d.value,"%"),"--v-progress-linear-stream-to":M(g.value*(x.value?1:-1))}},null),Ye("div",{class:["v-progress-linear__background",u.value],style:[f.value,{opacity:L.value,width:M(e.stream?d.value:100,"%")}]},null),Ye(Ev,{name:T.value},{default:()=>[e.indeterminate?Ye("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(O=>Ye("div",{key:O,class:["v-progress-linear__indeterminate",O,h.value],style:v.value},null))]):Ye("div",{class:["v-progress-linear__determinate",h.value],style:[v.value,{width:M(_.value,"%")}]},null)]}),n.default&&Ye("div",{class:"v-progress-linear__content"},[n.default({value:_.value,buffer:d.value})])]})),{}}}),{createVNode:Zo}=await w("vue"),{computed:Cv}=await w("vue"),hl=N({loading:[Boolean,String]},"loader");function dl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt();return{loaderClasses:Cv(()=>({[`${t}--loading`]:e.loading}))}}function kv(e,t){let{slots:n}=t;return Zo("div",{class:`${e.name}__loader`},[n.default?.({color:e.color,isActive:e.active})||Zo(xv,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const{computed:Ov}=await w("vue"),Tv=["static","relative","fixed","absolute","sticky"],Ei=N({position:{type:String,validator:e=>Tv.includes(e)}},"position");function Si(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt();return{positionClasses:Ov(()=>e.position?`${t}--${e.position}`:void 0)}}const{computed:Sn,nextTick:Rv,onScopeDispose:Av,resolveDynamicComponent:Nv,toRef:Lv}=await w("vue");function Pv(){return pe("useRouter")?.proxy?.$router}function pl(e,t){const n=Nv("RouterLink"),s=Sn(()=>!!(e.href||e.to)),r=Sn(()=>s?.value||Ro(t,"click")||Ro(e,"click"));if(typeof n=="string")return{isLink:s,isClickable:r,href:Lv(e,"href")};const i=e.to?n.useLink(e):void 0;return{isLink:s,isClickable:r,route:i?.route,navigate:i?.navigate,isActive:i&&Sn(()=>e.exact?i.isExactActive?.value:i.isActive?.value),href:Sn(()=>e.to?i?.route.value.href:e.href)}}const ml=N({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Xs=!1;function $v(e,t){let n=!1,s,r;Ee&&(Rv(()=>{window.addEventListener("popstate",i),s=e?.beforeEach((o,a,c)=>{Xs?n?t(c):c():setTimeout(()=>n?t(c):c()),Xs=!0}),r=e?.afterEach(()=>{Xs=!1})}),Av(()=>{window.removeEventListener("popstate",i),s?.(),r?.()}));function i(o){o.state?.replaced||(n=!0,setTimeout(()=>n=!1))}}const{nextTick:Bv,watch:Iv}=await w("vue");function Dv(e,t){Iv(()=>e.isActive?.value,n=>{e.isLink.value&&n&&t&&Bv(()=>{t(!0)})},{immediate:!0})}const Fr=Symbol("rippleStop"),Vv=80;function ea(e,t){e.style.transform=t,e.style.webkitTransform=t}function Ur(e){return e.constructor.name==="TouchEvent"}function vl(e){return e.constructor.name==="KeyboardEvent"}const Fv=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=0,r=0;if(!vl(e)){const f=t.getBoundingClientRect(),h=Ur(e)?e.touches[e.touches.length-1]:e;s=h.clientX-f.left,r=h.clientY-f.top}let i=0,o=.3;t._ripple?.circle?(o=.15,i=t.clientWidth/2,i=n.center?i:i+Math.sqrt((s-i)**2+(r-i)**2)/4):i=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const a=`${(t.clientWidth-i*2)/2}px`,c=`${(t.clientHeight-i*2)/2}px`,l=n.center?a:`${s-i}px`,u=n.center?c:`${r-i}px`;return{radius:i,scale:o,x:l,y:u,centerX:a,centerY:c}},Zn={show(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t?._ripple?.enabled)return;const s=document.createElement("span"),r=document.createElement("span");s.appendChild(r),s.className="v-ripple__container",n.class&&(s.className+=` ${n.class}`);const{radius:i,scale:o,x:a,y:c,centerX:l,centerY:u}=Fv(e,t,n),f=`${i*2}px`;r.className="v-ripple__animation",r.style.width=f,r.style.height=f,t.appendChild(s);const h=window.getComputedStyle(t);h&&h.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),ea(r,`translate(${a}, ${c}) scale3d(${o},${o},${o})`),r.dataset.activated=String(performance.now()),setTimeout(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),ea(r,`translate(${l}, ${u}) scale3d(1,1,1)`)},0)},hide(e){if(!e?._ripple?.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const s=performance.now()-Number(n.dataset.activated),r=Math.max(250-s,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),n.parentNode?.parentNode===e&&e.removeChild(n.parentNode)},300)},r)}};function gl(e){return typeof e>"u"||!!e}function rn(e){const t={},n=e.currentTarget;if(!(!n?._ripple||n._ripple.touched||e[Fr])){if(e[Fr]=!0,Ur(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||vl(e),n._ripple.class&&(t.class=n._ripple.class),Ur(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Zn.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{n?._ripple?.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},Vv)}else Zn.show(e,n,t)}}function ta(e){e[Fr]=!0}function he(e){const t=e.currentTarget;if(t?._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{he(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Zn.hide(t)}}function yl(e){const t=e.currentTarget;t?._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let on=!1;function bl(e){!on&&(e.keyCode===ko.enter||e.keyCode===ko.space)&&(on=!0,rn(e))}function _l(e){on=!1,he(e)}function wl(e){on&&(on=!1,he(e))}function El(e,t,n){const{value:s,modifiers:r}=t,i=gl(s);if(i||Zn.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=i,e._ripple.centered=r.center,e._ripple.circle=r.circle,Pr(s)&&s.class&&(e._ripple.class=s.class),i&&!n){if(r.stop){e.addEventListener("touchstart",ta,{passive:!0}),e.addEventListener("mousedown",ta);return}e.addEventListener("touchstart",rn,{passive:!0}),e.addEventListener("touchend",he,{passive:!0}),e.addEventListener("touchmove",yl,{passive:!0}),e.addEventListener("touchcancel",he),e.addEventListener("mousedown",rn),e.addEventListener("mouseup",he),e.addEventListener("mouseleave",he),e.addEventListener("keydown",bl),e.addEventListener("keyup",_l),e.addEventListener("blur",wl),e.addEventListener("dragstart",he,{passive:!0})}else!i&&n&&Sl(e)}function Sl(e){e.removeEventListener("mousedown",rn),e.removeEventListener("touchstart",rn),e.removeEventListener("touchend",he),e.removeEventListener("touchmove",yl),e.removeEventListener("touchcancel",he),e.removeEventListener("mouseup",he),e.removeEventListener("mouseleave",he),e.removeEventListener("keydown",bl),e.removeEventListener("keyup",_l),e.removeEventListener("dragstart",he),e.removeEventListener("blur",wl)}function Uv(e,t){El(e,t,!1)}function Mv(e){delete e._ripple,Sl(e)}function qv(e,t){if(t.value===t.oldValue)return;const n=gl(t.oldValue);El(e,t,n)}const xl={mounted:Uv,unmounted:Mv,updated:qv},{withDirectives:jv,resolveDirective:Hv,createVNode:ve}=await w("vue"),{computed:xn}=await w("vue"),zv=N({active:{type:Boolean,default:void 0},symbol:{type:null,default:ul},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:je,appendIcon:je,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...vi(),...de(),...fn(),...Ss(),...yi(),...Im(),...hl(),...Cs(),...Ei(),...Lt(),...ml(),...ws(),...pt({tag:"button"}),...ze(),...hn({variant:"elevated"})},"VBtn"),bt=ee()({name:"VBtn",directives:{Ripple:xl},props:zv(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:s}=t;const{themeClasses:r}=We(e),{borderClasses:i}=gi(e),{colorClasses:o,colorStyles:a,variantClasses:c}=ys(e),{densityClasses:l}=vs(e),{dimensionStyles:u}=xs(e),{elevationClasses:f}=bi(e),{loaderClasses:h}=dl(e),{locationStyles:v}=ks(e),{positionClasses:p}=Si(e),{roundedClasses:m}=Pt(e),{sizeClasses:b,sizeStyles:E}=Es(e),g=Dm(e,e.symbol,!1),d=pl(e,n),_=xn(()=>e.active!==void 0?e.active:d.isLink.value?d.isActive?.value:g?.isSelected.value),x=xn(()=>g?.disabled.value||e.disabled),T=xn(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),L=xn(()=>{if(e.value!==void 0)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function k(O){x.value||d.isLink.value&&(O.metaKey||O.ctrlKey||O.shiftKey||O.button!==0||n.target==="_blank")||(d.navigate?.(O),g?.toggle())}return Dv(d,g?.select),ue(()=>{const O=d.isLink.value?"a":e.tag,q=!!(e.prependIcon||s.prepend),B=!!(e.appendIcon||s.append),R=!!(e.icon&&e.icon!==!0),A=g?.isSelected.value&&(!d.isLink.value||d.isActive?.value)||!g||d.isActive?.value;return jv(ve(O,{type:O==="a"?void 0:"button",class:["v-btn",g?.selectedClass.value,{"v-btn--active":_.value,"v-btn--block":e.block,"v-btn--disabled":x.value,"v-btn--elevated":T.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--stacked":e.stacked},r.value,i.value,A?o.value:void 0,l.value,f.value,h.value,p.value,m.value,b.value,c.value,e.class],style:[A?a.value:void 0,u.value,v.value,E.value,e.style],disabled:x.value||void 0,href:d.href.value,onClick:k,value:L.value},{default:()=>[gs(!0,"v-btn"),!e.icon&&q&&ve("span",{key:"prepend",class:"v-btn__prepend"},[s.prepend?ve(rt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},s.prepend):ve(ut,{key:"prepend-icon",icon:e.prependIcon},null)]),ve("span",{class:"v-btn__content","data-no-activator":""},[!s.default&&R?ve(ut,{key:"content-icon",icon:e.icon},null):ve(rt,{key:"content-defaults",disabled:!R,defaults:{VIcon:{icon:e.icon}}},{default:()=>[s.default?.()??e.text]})]),!e.icon&&B&&ve("span",{key:"append",class:"v-btn__append"},[s.append?ve(rt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},s.append):ve(ut,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&ve("span",{key:"loader",class:"v-btn__loader"},[s.loader?.()??ve(gv,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}),[[Hv("ripple"),!x.value&&e.ripple,null]])}),{}}});const{createVNode:Wv}=await w("vue"),Cl=ee()({name:"VCardActions",props:de(),setup(e,t){let{slots:n}=t;return pi({VBtn:{variant:"text"}}),ue(()=>Wv("div",{class:["v-card-actions",e.class],style:e.style},[n.default?.()])),{}}}),Gv=ms("v-card-subtitle"),kl=ms("v-card-title");const{createVNode:Qs}=await w("vue"),{computed:Kv}=await w("vue");function Yv(e){return{aspectStyles:Kv(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const Ol=N({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...de(),...Ss()},"VResponsive"),na=ee()({name:"VResponsive",props:Ol(),setup(e,t){let{slots:n}=t;const{aspectStyles:s}=Yv(e),{dimensionStyles:r}=xs(e);return ue(()=>Qs("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[r.value,e.style]},[Qs("div",{class:"v-responsive__sizer",style:s.value},null),n.additional?.(),n.default&&Qs("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])),{}}}),{h:Jv,mergeProps:Xv,Transition:Qv}=await w("vue"),Tl=N({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Xt=(e,t)=>{let{slots:n}=t;const{transition:s,disabled:r,...i}=e,{component:o=Qv,...a}=typeof s=="object"?s:{};return Jv(o,Xv(typeof s=="string"?{name:r?"":s}:a,i,{disabled:r}),n)};function Zv(e,t){if(!fi)return;const n=t.modifiers||{},s=t.value,{handler:r,options:i}=typeof s=="object"?s:{handler:s,options:{}},o=new IntersectionObserver(function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0;const l=e._observe?.[t.instance.$.uid];if(!l)return;const u=a.some(f=>f.isIntersecting);r&&(!n.quiet||l.init)&&(!n.once||u||l.init)&&r(u,a,c),u&&n.once?Rl(e,t):l.init=!0},i);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function Rl(e,t){const n=e._observe?.[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const eg={mounted:Zv,unmounted:Rl},tg=eg,{withDirectives:ng,mergeProps:sg,resolveDirective:rg,Fragment:ig,createVNode:se}=await w("vue"),{computed:Zs,nextTick:og,onBeforeMount:ag,ref:cg,shallowRef:jt,vShow:lg,watch:er,withDirectives:ug}=await w("vue"),fg=N({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...Ol(),...de(),...Tl()},"VImg"),Al=ee()({name:"VImg",directives:{intersect:tg},props:fg(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:s}=t;const r=jt(""),i=cg(),o=jt(e.eager?"loading":"idle"),a=jt(),c=jt(),l=Zs(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),u=Zs(()=>l.value.aspect||a.value/c.value||0);er(()=>e.src,()=>{f(o.value!=="idle")}),er(u,(k,O)=>{!k&&O&&i.value&&b(i.value)}),ag(()=>f());function f(k){if(!(e.eager&&k)&&!(fi&&!k&&!e.eager)){if(o.value="loading",l.value.lazySrc){const O=new Image;O.src=l.value.lazySrc,b(O,null)}l.value.src&&og(()=>{if(n("loadstart",i.value?.currentSrc||l.value.src),i.value?.complete){if(i.value.naturalWidth||v(),o.value==="error")return;u.value||b(i.value,null),h()}else u.value||b(i.value),p()})}}function h(){p(),o.value="loaded",n("load",i.value?.currentSrc||l.value.src)}function v(){o.value="error",n("error",i.value?.currentSrc||l.value.src)}function p(){const k=i.value;k&&(r.value=k.currentSrc||k.src)}let m=-1;function b(k){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const q=()=>{clearTimeout(m);const{naturalHeight:B,naturalWidth:R}=k;B||R?(a.value=R,c.value=B):!k.complete&&o.value==="loading"&&O!=null?m=window.setTimeout(q,O):(k.currentSrc.endsWith(".svg")||k.currentSrc.startsWith("data:image/svg+xml"))&&(a.value=1,c.value=1)};q()}const E=Zs(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),g=()=>{if(!l.value.src||o.value==="idle")return null;const k=se("img",{class:["v-img__img",E.value],src:l.value.src,srcset:l.value.srcset,alt:e.alt,sizes:e.sizes,ref:i,onLoad:h,onError:v},null),O=s.sources?.();return se(Xt,{transition:e.transition,appear:!0},{default:()=>[ug(O?se("picture",{class:"v-img__picture"},[O,k]):k,[[lg,o.value==="loaded"]])]})},d=()=>se(Xt,{transition:e.transition},{default:()=>[l.value.lazySrc&&o.value!=="loaded"&&se("img",{class:["v-img__img","v-img__img--preload",E.value],src:l.value.lazySrc,alt:e.alt},null)]}),_=()=>s.placeholder?se(Xt,{transition:e.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!s.error)&&se("div",{class:"v-img__placeholder"},[s.placeholder()])]}):null,x=()=>s.error?se(Xt,{transition:e.transition,appear:!0},{default:()=>[o.value==="error"&&se("div",{class:"v-img__error"},[s.error()])]}):null,T=()=>e.gradient?se("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,L=jt(!1);{const k=er(u,O=>{O&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{L.value=!0})}),k())})}return ue(()=>{const[k]=na.filterProps(e);return ng(se(na,sg({class:["v-img",{"v-img--booting":!L.value},e.class],style:[{width:M(e.width==="auto"?a.value:e.width)},e.style]},k,{aspectRatio:u.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>se(ig,null,[se(g,null,null),se(d,null,null),se(T,null,null),se(_,null,null),se(x,null,null)]),default:s.default}),[[rg("intersect"),{handler:f,options:e.options},null,{once:!0}]])}),{currentSrc:r,image:i,state:o,naturalWidth:a,naturalHeight:c}}}),{createVNode:tr}=await w("vue"),hg=N({start:Boolean,end:Boolean,icon:je,image:String,...de(),...fn(),...Lt(),...ws(),...pt(),...ze(),...hn({variant:"flat"})},"VAvatar"),sa=ee()({name:"VAvatar",props:hg(),setup(e,t){let{slots:n}=t;const{themeClasses:s}=We(e),{colorClasses:r,colorStyles:i,variantClasses:o}=ys(e),{densityClasses:a}=vs(e),{roundedClasses:c}=Pt(e),{sizeClasses:l,sizeStyles:u}=Es(e);return ue(()=>tr(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},s.value,r.value,a.value,c.value,l.value,o.value,e.class],style:[i.value,u.value,e.style]},{default:()=>[e.image?tr(Al,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?tr(ut,{key:"icon",icon:e.icon},null):n.default?.(),gs(!1,"v-avatar")]})),{}}}),{resolveDirective:pb,createVNode:Re}=await w("vue"),dg=N({appendAvatar:String,appendIcon:je,prependAvatar:String,prependIcon:je,subtitle:String,title:String,...de(),...fn()},"VCardItem"),pg=ee()({name:"VCardItem",props:dg(),setup(e,t){let{slots:n}=t;return ue(()=>{const s=!!(e.prependAvatar||e.prependIcon),r=!!(s||n.prepend),i=!!(e.appendAvatar||e.appendIcon),o=!!(i||n.append),a=!!(e.title||n.title),c=!!(e.subtitle||n.subtitle);return Re("div",{class:["v-card-item",e.class],style:e.style},[r&&Re("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?Re(rt,{key:"prepend-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},n.prepend):s&&Re(sa,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),Re("div",{class:"v-card-item__content"},[a&&Re(kl,{key:"title"},{default:()=>[n.title?.()??e.title]}),c&&Re(Gv,{key:"subtitle"},{default:()=>[n.subtitle?.()??e.subtitle]}),n.default?.()]),o&&Re("div",{key:"append",class:"v-card-item__append"},[n.append?Re(rt,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},n.append):i&&Re(sa,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),Nl=ms("v-card-text"),{withDirectives:mg,resolveDirective:vg,createVNode:Xe}=await w("vue"),{computed:ra}=await w("vue"),gg=N({appendAvatar:String,appendIcon:je,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:je,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...vi(),...de(),...fn(),...Ss(),...yi(),...hl(),...Cs(),...Ei(),...Lt(),...ml(),...pt(),...ze(),...hn({variant:"elevated"})},"VCard"),yg=ee()({name:"VCard",directives:{Ripple:xl},props:gg(),setup(e,t){let{attrs:n,slots:s}=t;const{themeClasses:r}=We(e),{borderClasses:i}=gi(e),{colorClasses:o,colorStyles:a,variantClasses:c}=ys(e),{densityClasses:l}=vs(e),{dimensionStyles:u}=xs(e),{elevationClasses:f}=bi(e),{loaderClasses:h}=dl(e),{locationStyles:v}=ks(e),{positionClasses:p}=Si(e),{roundedClasses:m}=Pt(e),b=pl(e,n),E=ra(()=>e.link!==!1&&b.isLink.value),g=ra(()=>!e.disabled&&e.link!==!1&&(e.link||b.isClickable.value));return ue(()=>{const d=E.value?"a":e.tag,_=!!(s.title||e.title),x=!!(s.subtitle||e.subtitle),T=_||x,L=!!(s.append||e.appendAvatar||e.appendIcon),k=!!(s.prepend||e.prependAvatar||e.prependIcon),O=!!(s.image||e.image),q=T||k||L,B=!!(s.text||e.text);return mg(Xe(d,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":g.value},r.value,i.value,o.value,l.value,f.value,h.value,p.value,m.value,c.value,e.class],style:[a.value,u.value,v.value,e.style],href:b.href.value,onClick:g.value&&b.navigate,tabindex:e.disabled?-1:void 0},{default:()=>[O&&Xe("div",{key:"image",class:"v-card__image"},[s.image?Xe(rt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},s.image):Xe(Al,{key:"image-img",cover:!0,src:e.image},null)]),Xe(kv,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:s.loader}),q&&Xe(pg,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:s.item,prepend:s.prepend,title:s.title,subtitle:s.subtitle,append:s.append}),B&&Xe(Nl,{key:"text"},{default:()=>[s.text?.()??e.text]}),s.default?.(),s.actions&&Xe(Cl,null,{default:s.actions}),gs(g.value,"v-card")]}),[[vg("ripple"),g.value&&e.ripple]])}),{}}});const{createVNode:ia,mergeProps:bg,resolveDirective:mb}=await w("vue"),{Transition:oa}=await w("vue"),_g=N({target:Object},"v-dialog-transition"),wg=ee()({name:"VDialogTransition",props:_g(),setup(e,t){let{slots:n}=t;const s={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,i){await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),r.style.visibility="";const{x:o,y:a,sx:c,sy:l,speed:u}=ca(e.target,r),f=Yt(r,[{transform:`translate(${o}px, ${a}px) scale(${c}, ${l})`,opacity:0},{}],{duration:225*u,easing:im});aa(r)?.forEach(h=>{Yt(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*u,easing:Dr})}),f.finished.then(()=>i())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,i){await new Promise(h=>requestAnimationFrame(h));const{x:o,y:a,sx:c,sy:l,speed:u}=ca(e.target,r);Yt(r,[{},{transform:`translate(${o}px, ${a}px) scale(${c}, ${l})`,opacity:0}],{duration:125*u,easing:om}).finished.then(()=>i()),aa(r)?.forEach(h=>{Yt(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*u,easing:Dr})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>e.target?ia(oa,bg({name:"dialog-transition"},s,{css:!1}),n):ia(oa,{name:"dialog-transition"},n)}});function aa(e){const t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return t&&[...t]}function ca(e,t){const n=e.getBoundingClientRect(),s=Jc(t),[r,i]=getComputedStyle(t).transformOrigin.split(" ").map(E=>parseFloat(E)),[o,a]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let c=n.left+n.width/2;o==="left"||a==="left"?c-=n.width/2:(o==="right"||a==="right")&&(c+=n.width/2);let l=n.top+n.height/2;o==="top"||a==="top"?l-=n.height/2:(o==="bottom"||a==="bottom")&&(l+=n.height/2);const u=n.width/s.width,f=n.height/s.height,h=Math.max(1,u,f),v=u/h||0,p=f/h||0,m=s.width*s.height/(window.innerWidth*window.innerHeight),b=m>.12?Math.min(1.5,(m-.12)*10+1):1;return{x:c-(r+s.left),y:l-(i+s.top),sx:v,sy:p,speed:b}}function nr(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Eg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function la(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:s}=e,r=s==="left"?0:s==="center"?t.width/2:s==="right"?t.width:s,i=n==="top"?0:n==="bottom"?t.height:n;return nr({x:r,y:i},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:s}=e,r=n==="left"?0:n==="right"?t.width:n,i=s==="top"?0:s==="center"?t.height/2:s==="bottom"?t.height:s;return nr({x:r,y:i},t)}return nr({x:t.width/2,y:t.height/2},t)}const{computed:ua,nextTick:Sg,onScopeDispose:Mr,ref:fa,watch:qr}=await w("vue"),Ll={static:kg,connected:Tg},xg=N({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Ll},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Cg(e,t){const n=fa({}),s=fa();Ee&&(bs(()=>!!(t.isActive.value&&e.locationStrategy),i=>{qr(()=>e.locationStrategy,i),Mr(()=>{s.value=void 0}),typeof e.locationStrategy=="function"?s.value=e.locationStrategy(t,e,n)?.updateLocation:s.value=Ll[e.locationStrategy](t,e,n)?.updateLocation}),window.addEventListener("resize",r,{passive:!0}),Mr(()=>{window.removeEventListener("resize",r),s.value=void 0}));function r(i){s.value?.(i)}return{contentStyles:n,updateLocation:s}}function kg(){}function Og(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=Jc(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function Tg(e,t,n){fm(e.activatorEl.value)&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:i}=hi(()=>{const p=Br(t.location,e.isRtl.value),m=t.origin==="overlap"?p:t.origin==="auto"?zs(p):Br(t.origin,e.isRtl.value);return p.side===m.side&&p.align===Ws(m).align?{preferredAnchor:No(p),preferredOrigin:No(m)}:{preferredAnchor:p,preferredOrigin:m}}),[o,a,c,l]=["minWidth","minHeight","maxWidth","maxHeight"].map(p=>ua(()=>{const m=parseFloat(t[p]);return isNaN(m)?1/0:m})),u=ua(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const p=t.offset.split(" ").map(parseFloat);return p.length<2&&p.push(0),p}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let f=!1;const h=new ResizeObserver(()=>{f&&v()});qr([e.activatorEl,e.contentEl],(p,m)=>{let[b,E]=p,[g,d]=m;g&&h.unobserve(g),b&&h.observe(b),d&&h.unobserve(d),E&&h.observe(E)},{immediate:!0}),Mr(()=>{h.disconnect()});function v(){if(f=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>f=!0)}),!e.activatorEl.value||!e.contentEl.value)return;const p=e.activatorEl.value.getBoundingClientRect(),m=Og(e.contentEl.value,e.isRtl.value),b=Xn(e.contentEl.value),E=12;b.length||(b.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(m.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),m.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const g=b.reduce((B,R)=>{const A=R.getBoundingClientRect(),F=new kt({x:R===document.documentElement?0:A.x,y:R===document.documentElement?0:A.y,width:R.clientWidth,height:R.clientHeight});return B?new kt({x:Math.max(B.left,F.left),y:Math.max(B.top,F.top),width:Math.min(B.right,F.right)-Math.max(B.left,F.left),height:Math.min(B.bottom,F.bottom)-Math.max(B.top,F.top)}):F},void 0);g.x+=E,g.y+=E,g.width-=E*2,g.height-=E*2;let d={anchor:r.value,origin:i.value};function _(B){const R=new kt(m),A=la(B.anchor,p),F=la(B.origin,R);let{x:K,y:G}=Eg(A,F);switch(B.anchor.side){case"top":G-=u.value[0];break;case"bottom":G+=u.value[0];break;case"left":K-=u.value[0];break;case"right":K+=u.value[0];break}switch(B.anchor.align){case"top":G-=u.value[1];break;case"bottom":G+=u.value[1];break;case"left":K-=u.value[1];break;case"right":K+=u.value[1];break}return R.x+=K,R.y+=G,R.width=Math.min(R.width,c.value),R.height=Math.min(R.height,l.value),{overflows:Po(R,g),x:K,y:G}}let x=0,T=0;const L={x:0,y:0},k={x:!1,y:!1};let O=-1;for(;;){if(O++>10){Hp("Infinite loop detected in connectedLocationStrategy");break}const{x:B,y:R,overflows:A}=_(d);x+=B,T+=R,m.x+=B,m.y+=R;{const F=Lo(d.anchor),K=A.x.before||A.x.after,G=A.y.before||A.y.after;let te=!1;if(["x","y"].forEach(Y=>{if(Y==="x"&&K&&!k.x||Y==="y"&&G&&!k.y){const z={anchor:{...d.anchor},origin:{...d.origin}},S=Y==="x"?F==="y"?Ws:zs:F==="y"?zs:Ws;z.anchor=S(z.anchor),z.origin=S(z.origin);const{overflows:C}=_(z);(C[Y].before<=A[Y].before&&C[Y].after<=A[Y].after||C[Y].before+C[Y].after<(A[Y].before+A[Y].after)/2)&&(d=z,te=k[Y]=!0)}}),te)continue}A.x.before&&(x+=A.x.before,m.x+=A.x.before),A.x.after&&(x-=A.x.after,m.x-=A.x.after),A.y.before&&(T+=A.y.before,m.y+=A.y.before),A.y.after&&(T-=A.y.after,m.y-=A.y.after);{const F=Po(m,g);L.x=g.width-F.x.before-F.x.after,L.y=g.height-F.y.before-F.y.after,x+=F.x.before,m.x+=F.x.before,T+=F.y.before,m.y+=F.y.before}break}const q=Lo(d.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${d.anchor.side} ${d.anchor.align}`,transformOrigin:`${d.origin.side} ${d.origin.align}`,top:M(sr(T)),left:e.isRtl.value?void 0:M(sr(x)),right:e.isRtl.value?M(sr(-x)):void 0,minWidth:M(q==="y"?Math.min(o.value,p.width):o.value),maxWidth:M(ha(Oo(L.x,o.value===1/0?0:o.value,c.value))),maxHeight:M(ha(Oo(L.y,a.value===1/0?0:a.value,l.value)))}),{available:L,contentBox:m}}return qr(()=>[r.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>v()),Sg(()=>{const p=v();if(!p)return;const{available:m,contentBox:b}=p;b.height>m.y&&requestAnimationFrame(()=>{v(),requestAnimationFrame(()=>{v()})})}),{updateLocation:v}}function sr(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function ha(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let jr=!0;const es=[];function Rg(e){!jr||es.length?(es.push(e),Hr()):(jr=!1,e(),Hr())}let da=-1;function Hr(){cancelAnimationFrame(da),da=requestAnimationFrame(()=>{const e=es.shift();e&&e(),es.length?Hr():jr=!0})}const{effectScope:Ag,nextTick:Ng,onScopeDispose:Os,watchEffect:Lg}=await w("vue"),Pl={none:null,close:Bg,block:Ig,reposition:Dg},Pg=N({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Pl}},"VOverlay-scroll-strategies");function $g(e,t){if(!Ee)return;let n;Lg(async()=>{n?.stop(),t.isActive.value&&e.scrollStrategy&&(n=Ag(),await Ng(),n.active&&n.run(()=>{typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):Pl[e.scrollStrategy]?.(t,e,n)}))}),Os(()=>{n?.stop()})}function Bg(e){function t(n){e.isActive.value=!1}$l(e.activatorEl.value??e.contentEl.value,t)}function Ig(e,t){const n=e.root.value?.offsetParent,s=[...new Set([...Xn(e.activatorEl.value,t.contained?n:void 0),...Xn(e.contentEl.value,t.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,i=(o=>mi(o)&&o)(n||document.documentElement);i&&e.root.value.classList.add("v-overlay--scroll-blocked"),s.forEach((o,a)=>{o.style.setProperty("--v-body-scroll-x",M(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",M(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",M(r)),o.classList.add("v-overlay-scroll-blocked")}),Os(()=>{s.forEach((o,a)=>{const c=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),l=parseFloat(o.style.getPropertyValue("--v-body-scroll-y"));o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-c,o.scrollTop=-l}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Dg(e,t,n){let s=!1,r=-1,i=-1;function o(a){Rg(()=>{const c=performance.now();e.updateLocation.value?.(a),s=(performance.now()-c)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{$l(e.activatorEl.value??e.contentEl.value,a=>{s?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),Os(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(r)})}function $l(e,t){const n=[document,...Xn(e)];n.forEach(s=>{s.addEventListener("scroll",t,{passive:!0})}),Os(()=>{n.forEach(s=>{s.removeEventListener("scroll",t)})})}const Vg=Symbol.for("vuetify:v-menu"),Fg=N({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Ug(e,t){const n={},s=r=>()=>{if(!Ee)return Promise.resolve(!0);const i=r==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(o=>{const a=parseInt(e[r]??0,10);n[r]=window.setTimeout(()=>{t?.(i),o(i)},a)})};return{runCloseDelay:s("closeDelay"),runOpenDelay:s("openDelay")}}const{computed:Ht,effectScope:Mg,inject:qg,mergeProps:pa,nextTick:Bl,onScopeDispose:Il,ref:ma,watch:ts,watchEffect:jg}=await w("vue"),Hg=N({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Fg()},"VOverlay-activator");function zg(e,t){let{isActive:n,isTop:s}=t;const r=ma();let i=!1,o=!1,a=!0;const c=Ht(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),l=Ht(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!c.value),{runOpenDelay:u,runCloseDelay:f}=Ug(e,d=>{d===(e.openOnHover&&i||c.value&&o)&&!(e.openOnHover&&n.value&&!s.value)&&(n.value!==d&&(a=!0),n.value=d)}),h={onClick:d=>{d.stopPropagation(),r.value=d.currentTarget||d.target,n.value=!n.value},onMouseenter:d=>{d.sourceCapabilities?.firesTouchEvents||(i=!0,r.value=d.currentTarget||d.target,u())},onMouseleave:d=>{i=!1,f()},onFocus:d=>{Pp(d.target,":focus-visible")!==!1&&(o=!0,d.stopPropagation(),r.value=d.currentTarget||d.target,u())},onBlur:d=>{o=!1,d.stopPropagation(),f()}},v=Ht(()=>{const d={};return l.value&&(d.onClick=h.onClick),e.openOnHover&&(d.onMouseenter=h.onMouseenter,d.onMouseleave=h.onMouseleave),c.value&&(d.onFocus=h.onFocus,d.onBlur=h.onBlur),d}),p=Ht(()=>{const d={};if(e.openOnHover&&(d.onMouseenter=()=>{i=!0,u()},d.onMouseleave=()=>{i=!1,f()}),c.value&&(d.onFocusin=()=>{o=!0,u()},d.onFocusout=()=>{o=!1,f()}),e.closeOnContentClick){const _=qg(Vg,null);d.onClick=()=>{n.value=!1,_?.closeParents()}}return d}),m=Ht(()=>{const d={};return e.openOnHover&&(d.onMouseenter=()=>{a&&(i=!0,a=!1,u())},d.onMouseleave=()=>{i=!1,f()}),d});ts(s,d=>{d&&(e.openOnHover&&!i&&(!c.value||!o)||c.value&&!o&&(!e.openOnHover||!i))&&(n.value=!1)});const b=ma();jg(()=>{b.value&&Bl(()=>{r.value=$r(b.value)})});const E=pe("useActivator");let g;return ts(()=>!!e.activator,d=>{d&&Ee?(g=Mg(),g.run(()=>{Wg(e,E,{activatorEl:r,activatorEvents:v})})):g&&g.stop()},{flush:"post",immediate:!0}),Il(()=>{g?.stop()}),{activatorEl:r,activatorRef:b,activatorEvents:v,contentEvents:p,scrimEvents:m}}function Wg(e,t,n){let{activatorEl:s,activatorEvents:r}=n;ts(()=>e.activator,(c,l)=>{if(l&&c!==l){const u=a(l);u&&o(u)}c&&Bl(()=>i())},{immediate:!0}),ts(()=>e.activatorProps,()=>{i()}),Il(()=>{o()});function i(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;c&&Bp(c,pa(r.value,l))}function o(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;c&&Ip(c,pa(r.value,l))}function a(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,l;if(c)if(c==="parent"){let u=t?.proxy?.$el?.parentNode;for(;u?.hasAttribute("data-no-activator");)u=u.parentNode;l=u}else typeof c=="string"?l=document.querySelector(c):"$el"in c?l=c.$el:l=c;return s.value=l?.nodeType===Node.ELEMENT_NODE?l:null,s.value}}const{inject:Gg,reactive:vb,shallowRef:gb,toRefs:yb,watchEffect:bb}=await w("vue"),Kg=Symbol.for("vuetify:display");function Yg(){const e=Gg(Kg);if(!e)throw new Error("Could not find Vuetify display injection");return e}const{onMounted:Jg,shallowRef:rr}=await w("vue");function Xg(){if(!Ee)return rr(!1);const{ssr:e}=Yg();if(e){const t=rr(!1);return Jg(()=>{t.value=!0}),t}else return rr(!0)}const{computed:Qg,shallowRef:Zg,watch:ey}=await w("vue"),ty=N({eager:Boolean},"lazy");function ny(e,t){const n=Zg(!1),s=Qg(()=>n.value||e.eager||t.value);ey(t,()=>n.value=!0);function r(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:s,onAfterLeave:r}}function xi(){const t=pe("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const{computed:va,inject:sy,onScopeDispose:ry,provide:iy,reactive:Dl,readonly:oy,shallowRef:ga,toRaw:ay,watchEffect:cy}=await w("vue"),ya=Symbol.for("vuetify:stack"),zt=Dl([]);function ly(e,t,n){const s=pe("useStack"),r=!n,i=sy(ya,void 0),o=Dl({activeChildren:new Set});iy(ya,o);const a=ga(+t.value);bs(e,()=>{const u=zt.at(-1)?.[1];a.value=u?u+10:+t.value,r&&zt.push([s.uid,a.value]),i?.activeChildren.add(s.uid),ry(()=>{if(r){const f=ay(zt).findIndex(h=>h[0]===s.uid);zt.splice(f,1)}i?.activeChildren.delete(s.uid)})});const c=ga(!0);r&&cy(()=>{const u=zt.at(-1)?.[0]===s.uid;setTimeout(()=>c.value=u)});const l=va(()=>!o.activeChildren.size);return{globalTop:oy(c),localTop:l,stackStyles:va(()=>({zIndex:a.value}))}}const{computed:uy,warn:fy}=await w("vue");function hy(e){return{teleportTarget:uy(()=>{const n=e.value;if(n===!0||!Ee)return;const s=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(s==null){fy(`Unable to locate target ${n}`);return}let r=s.querySelector(":scope > .v-overlay-container");return r||(r=document.createElement("div"),r.className="v-overlay-container",s.appendChild(r)),r})}}function dy(){return!0}function Vl(e,t,n){if(!e||Fl(e,n)===!1)return!1;const s=el(t);if(typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&s.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(i=>i?.contains(e.target))}function Fl(e,t){return(typeof t.value=="object"&&t.value.closeConditional||dy)(e)}function py(e,t,n){const s=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&Vl(e,t,n)&&setTimeout(()=>{Fl(e,n)&&s&&s(e)},0)}function ba(e,t){const n=el(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const my={mounted(e,t){const n=r=>py(r,e,t),s=r=>{e._clickOutside.lastMousedownWasOutside=Vl(r,e,t)};ba(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",s,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:s}},unmounted(e,t){e._clickOutside&&(ba(e,n=>{if(!n||!e._clickOutside?.[t.instance.$.uid])return;const{onClick:s,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",s,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}},{withDirectives:vy,resolveDirective:gy,vShow:yy,Fragment:by,createVNode:tt,mergeProps:jn}=await w("vue"),{computed:ir,mergeProps:_y,ref:or,Teleport:wy,toRef:Ey,Transition:Sy,watch:ar}=await w("vue");function xy(e){const{modelValue:t,color:n,...s}=e;return tt(Sy,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&tt("div",jn({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},s),null)]})}const Ci=N({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Hg(),...de(),...Ss(),...ty(),...xg(),...Pg(),...ze(),...Tl()},"VOverlay"),ns=ee()({name:"VOverlay",directives:{ClickOutside:my},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Ci()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:s,emit:r}=t;const i=dn(e,"modelValue"),o=ir({get:()=>i.value,set:z=>{z&&e.disabled||(i.value=z)}}),{teleportTarget:a}=hy(ir(()=>e.attach||e.contained)),{themeClasses:c}=We(e),{rtlClasses:l,isRtl:u}=wi(),{hasContent:f,onAfterLeave:h}=ny(e,o),v=Vr(ir(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:p,localTop:m,stackStyles:b}=ly(o,Ey(e,"zIndex"),e._disableGlobalStack),{activatorEl:E,activatorRef:g,activatorEvents:d,contentEvents:_,scrimEvents:x}=zg(e,{isActive:o,isTop:m}),{dimensionStyles:T}=xs(e),L=Xg(),{scopeId:k}=xi();ar(()=>e.disabled,z=>{z&&(o.value=!1)});const O=or(),q=or(),{contentStyles:B,updateLocation:R}=Cg(e,{isRtl:u,contentEl:q,activatorEl:E,isActive:o});$g(e,{root:O,contentEl:q,activatorEl:E,isActive:o,updateLocation:R});function A(z){r("click:outside",z),e.persistent?Y():o.value=!1}function F(){return o.value&&p.value}Ee&&ar(o,z=>{z?window.addEventListener("keydown",K):window.removeEventListener("keydown",K)},{immediate:!0});function K(z){z.key==="Escape"&&p.value&&(e.persistent?Y():(o.value=!1,q.value?.contains(document.activeElement)&&E.value?.focus()))}const G=Pv();bs(()=>e.closeOnBack,()=>{$v(G,z=>{p.value&&o.value?(z(!1),e.persistent?Y():o.value=!1):z()})});const te=or();ar(()=>o.value&&(e.absolute||e.contained)&&a.value==null,z=>{if(z){const S=cm(O.value);S&&S!==document.scrollingElement&&(te.value=S.scrollTop)}});function Y(){e.noClickAnimation||q.value&&Yt(q.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Dr})}return ue(()=>tt(by,null,[n.activator?.({isActive:o.value,props:_y({ref:g},d.value,e.activatorProps)}),L.value&&f.value&&tt(wy,{disabled:!a.value,to:a.value},{default:()=>[tt("div",jn({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":o.value,"v-overlay--contained":e.contained},c.value,l.value,e.class],style:[b.value,{top:M(te.value)},e.style],ref:O},k,s),[tt(xy,jn({color:v,modelValue:o.value&&!!e.scrim},x.value),null),tt(Xt,{appear:!0,persisted:!0,transition:e.transition,target:E.value,onAfterLeave:()=>{h(),r("afterLeave")}},{default:()=>[vy(tt("div",jn({ref:q,class:["v-overlay__content",e.contentClass],style:[T.value,B.value]},_.value,e.contentProps),[n.default?.({isActive:o})]),[[yy,o.value],[gy("click-outside"),{handler:A,closeConditional:F,include:()=>[E.value]}]])]})])]})])),{activatorEl:E,animateClick:Y,contentEl:q,globalTop:p,localTop:m,updateLocation:R}}}),cr=Symbol("Forwarded refs");function lr(e,t){let n=e;for(;n;){const s=Reflect.getOwnPropertyDescriptor(n,t);if(s)return s;n=Object.getPrototypeOf(n)}}function Ul(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return e[cr]=n,new Proxy(e,{get(r,i){if(Reflect.has(r,i))return Reflect.get(r,i);if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,i)){const a=Reflect.get(o.value,i);return typeof a=="function"?a.bind(o.value):a}}},has(r,i){if(Reflect.has(r,i))return!0;if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,i))return!0;return!1},set(r,i,o){if(Reflect.has(r,i))return Reflect.set(r,i,o);if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,i))return Reflect.set(a.value,i,o);return!1},getOwnPropertyDescriptor(r,i){const o=Reflect.getOwnPropertyDescriptor(r,i);if(o)return o;if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const a of n){if(!a.value)continue;const c=lr(a.value,i)??("_"in a.value?lr(a.value._?.setupState,i):void 0);if(c)return c}for(const a of n){const c=a.value&&a.value[cr];if(!c)continue;const l=c.slice();for(;l.length;){const u=l.shift(),f=lr(u.value,i);if(f)return f;const h=u.value&&u.value[cr];h&&l.push(...h)}}}}})}const{mergeProps:Cy,createVNode:_a}=await w("vue"),{computed:ky,mergeProps:Oy,nextTick:Ty,ref:Ry,watch:wa}=await w("vue"),Ay=N({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ci({origin:"center center",scrollStrategy:"block",transition:{component:wg},zIndex:2400})},"VDialog"),Ny=ee()({name:"VDialog",props:Ay(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=dn(e,"modelValue"),{scopeId:r}=xi(),i=Ry();function o(c){const l=c.relatedTarget,u=c.target;if(l!==u&&i.value?.contentEl&&i.value?.globalTop&&![document,i.value.contentEl].includes(u)&&!i.value.contentEl.contains(u)){const f=Lp(i.value.contentEl);if(!f.length)return;const h=f[0],v=f[f.length-1];l===h?v.focus():h.focus()}}Ee&&wa(()=>s.value&&e.retainFocus,c=>{c?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),wa(s,async c=>{await Ty(),c?i.value.contentEl?.focus({preventScroll:!0}):i.value.activatorEl?.focus({preventScroll:!0})});const a=ky(()=>Oy({"aria-haspopup":"dialog","aria-expanded":String(s.value)},e.activatorProps));return ue(()=>{const[c]=ns.filterProps(e);return _a(ns,Cy({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},c,{modelValue:s.value,"onUpdate:modelValue":l=>s.value=l,"aria-modal":"true",activatorProps:a.value,role:"dialog"},r),{activator:n.activator,default:function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return _a(rt,{root:"VDialog"},{default:()=>[n.default?.(...u)]})}})}),Ul({},i)}}),Ly=ms("v-spacer","div","VSpacer");const{mergeProps:Py,resolveDirective:_b,createVNode:Cn}=await w("vue"),{mergeProps:$y,onMounted:By,ref:Iy,watch:Ea}=await w("vue"),Dy=N({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Cs({location:"bottom"}),...Ei(),...Lt(),...hn(),...ze(),...Tp(Ci({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Vy=ee()({name:"VSnackbar",props:Dy(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=dn(e,"modelValue"),{locationStyles:r}=ks(e),{positionClasses:i}=Si(e),{scopeId:o}=xi(),{themeClasses:a}=We(e),{colorClasses:c,colorStyles:l,variantClasses:u}=ys(e),{roundedClasses:f}=Pt(e),h=Iy();Ea(s,p),Ea(()=>e.timeout,p),By(()=>{s.value&&p()});let v=-1;function p(){window.clearTimeout(v);const b=Number(e.timeout);!s.value||b===-1||(v=window.setTimeout(()=>{s.value=!1},b))}function m(){window.clearTimeout(v)}return ue(()=>{const[b]=ns.filterProps(e);return Cn(ns,Py({ref:h,class:["v-snackbar",{"v-snackbar--active":s.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},i.value,e.class],style:e.style},b,{modelValue:s.value,"onUpdate:modelValue":E=>s.value=E,contentProps:$y({class:["v-snackbar__wrapper",a.value,c.value,f.value,u.value],style:[r.value,l.value],onPointerenter:m,onPointerleave:p},b.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},o),{default:()=>[gs(!1,"v-snackbar"),n.default&&Cn("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.default()]),n.actions&&Cn(rt,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[Cn("div",{class:"v-snackbar__actions"},[n.actions()])]})],activator:n.activator})}),Ul({},h)}}),{ref:Fy}=await w("vue"),ge=Ln("http://localhost:3000"),Uy={name:"demo-component",components:{"vue-webrtc":ui},data(){return{el:Fy(null),roomId:"roomId",hasJoined:!1,videoOn:!0,micOn:!0,mediaRecorder:{},chunks:[],userStream:{},audioContext:null,videoContainer:null,stream:null,dialog:!1,snackbar:!1,isHost:"",streamId:"",textUserStatus:"User Join",isRecording:!1,mediaStream:null}},mounted(){ge.on("deleteUser",({roomId:t,sessionId:n})=>{this.roomId===t&&(this.snackbar=!0,this.textUserStatus=`User ( ${n} ) has left the meeting room.`)}),ge.on("join",({roomId:t,sessionId:n})=>{this.roomId===t&&(this.snackbar=!0,this.textUserStatus=`User ( ${n} ) has join the meeting room.`)}),ge.on("talking",({sessionId:t,isTalking:n})=>{this.videoContainer=document.querySelector(`.video-item video[id='${t}']`),n&&this.videoContainer?this.videoContainer.style.border="thick solid #FF6B35":this.videoContainer&&(this.videoContainer.style.border="none")});const e=window.location.hash;e!=""&&(this.roomId=e.substring(1),this.toggleRoom())},created(){this.audioContext=new window.AudioContext,window.addEventListener("beforeunload",function(e){console.log("event onload create: ",e),e.returnValue="Write something"})},methods:{async onStop(e){console.log("streamId: ",e)},async onDownloadLocal(){this.$refs.webrtc.leave(),this.hasJoined=!1,this.stopListening(),this.mediaRecorder&&this.isRecording&&(this.mediaRecorder.stop(),this.mediaStream&&this.mediaStream.getTracks().forEach(r=>r.stop()),this.isRecording=!1),await mt.delete(`http://localhost:3000/users/list/${this.roomId}/${this.userStream.id}`),await mt.post("http://localhost:3000/users/files",{fileName:this.roomId}),ge.emit("usersList",{roomId:this.roomId}),ge.emit("deleteUser",{roomId:this.roomId,sessionId:this.userStream.id});var e=new Blob(this.chunks,{type:"video/webm"});this.chunks=[];const t=new File([e],`${this.roomId}.webm`,{type:"video/webm"});var n=document.createElement("a"),s=URL.createObjectURL(t);n.href=s,n.download="meeting.webm",document.body.appendChild(n),n.click()},pushData(e){this.chunks.push(e.data)},record(){this.mediaRecorder.start()},onHandleVideoOn(){this.videoOn=!this.videoOn,this.userStream.video=this.videoOn,this.userStream.getVideoTracks()[0].enabled=this.videoOn},onHandleMicOn(){this.micOn=!this.micOn,this.userStream.audio=this.micOn,this.userStream.getAudioTracks()[0].enabled=this.micOn,this.micOn?this.startListening(this.userStream.id):this.stopListening(this.userStream.id)},stopListening(e){this.mediaStreamSource&&(this.mediaStreamSource.disconnect(),this.mediaStreamSource=null,this.analyser=null,this.isListening=!1),setTimeout(function(){this.videoContainer=document.querySelector(`.video-item video[id='${e}']`),this.videoContainer&&(this.videoContainer.style.border="none")},1e3)},startListening(e){navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{this.mediaStreamSource=this.audioContext.createMediaStreamSource(t),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=32,this.mediaStreamSource.connect(this.analyser),this.isListening=!0,this.checkTalking(e)}).catch(t=>{console.error("Error accessing microphone:",t)})},checkTalking(e){const t=this.analyser.frequencyBinCount,n=new Uint8Array(t),s=()=>{if(!this.isListening)return;this.analyser.getByteFrequencyData(n);const r=n.reduce((o,a)=>o+a,0)/t,i=100;setTimeout(function(){this.videoContainer=document.querySelector(`.video-item video[id='${e}']`),r>i&&this.videoContainer?(this.videoContainer.style.border="thick solid #FF6B35",ge.emit("talking",{isTalking:!0,sessionId:e})):(this.videoContainer&&(this.videoContainer.style.border="none"),ge.emit("talking",{isTalking:!1,sessionId:e}))},1e3),requestAnimationFrame(s)};s()},async toggleRoom(){try{if(this.hasJoined){const{data:e}=await mt.get(`http://localhost:3000/users/${this.userStream.id}`);console.log("data: ",e),e.data.isHost?this.dialog=!0:this.onDownloadLocal()}else{await this.$refs.webrtc.join(),this.userStream=this.$refs.webrtc.videoList[0].stream,ge.emit("usersList",{roomId:this.roomId}),ge.emit("join",{roomId:this.roomId,sessionId:this.userStream.id}),this.startListening(this.userStream.id),this.getUserList();const{data:e}=await mt.get(`http://localhost:3000/users/${this.userStream.id}`);console.log("data isHost: ",e,this.userStream.id),this.mediaStream=await navigator.mediaDevices.getDisplayMedia({video:{mediaSource:"screen"},audio:!0,preferCurrentTab:!0}),this.mediaRecorder=new MediaRecorder(this.mediaStream);const t=[];this.mediaRecorder.ondataavailable=n=>{n.data.size>0&&(ge.emit("record",{roomId:this.roomId,data:n.data}),t.push(n.data),this.pushData(n))},this.mediaRecorder.onstop=()=>{const n=new Blob(t,{type:"video/webm"}),s=this.$refs.recordedVideo;s.src=URL.createObjectURL(n),s.controls=!0},this.mediaRecorder.start(5e3),this.isRecording=!0,this.hasJoined=!0}}catch(e){alert(e)}},async getUserList(){},screenShare(){try{this.$refs.webrtc.shareScreen()}catch{alert("Screen share not available")}},async addTrack(){try{this.$refs.webrtc.videoList.forEach(t=>{this.userStream.addTrack(t)})}catch(e){alert(e)}},joinedRoom(e){const t=document.createElement("p");t.setAttribute("class","user-video");const n=document.createTextNode(e);t.appendChild(n),setTimeout(function(){const s=document.getElementById(e);s.after(t,s.children[0])},1e3)},shareStarted(e){console.log(e)},leftRoom(e){console.log(e)},async copyClipboard(){const e=window.location.origin;await navigator.clipboard.writeText(`${e}/#${this.roomId}`),alert("Link copied to clipboard!")},async share(){const t={title:"Vere-ai",text:"Join my meeting!",url:`${window.location.origin}/#${this.roomId}`};try{await navigator.share(t)}catch{this.copyClipboard()}},async meetingRoomEndForEveryone(){const{data:e}=await mt.delete(`http://localhost:3000/users/list/${this.roomId}/${this.streamId}`);ge.emit("deleteUser",{roomId:this.roomId,sessionId:this.userStream.id}),console.log("this.streamId}: ",this.streamId),console.log("meetingRoomEndForEveryone: ",e),this.onDownloadLocal()},async meetingRoomEnd(){const{data:e}=await mt.delete(`http://localhost:3000/users/list/${this.roomId}`);ge.emit("deleteUser",{roomId:this.roomId,sessionId:this.userStream.id}),console.log("meetingRoomEnd: ",e),this.onDownloadLocal()}}},{resolveComponent:My,createVNode:re,createElementVNode:ur,toDisplayString:fr,createTextVNode:Fe,withCtx:oe,openBlock:Sa,createElementBlock:xa,createCommentVNode:qy}=await w("vue"),jy={class:"video-container"},Hy={key:0,class:"video-webrtc-controls"};function zy(e,t,n,s,r,i){const o=My("vue-webrtc");return Sa(),xa("div",null,[ur("div",null,[ur("form",null,[ur("div",jy,[re(o,{id:"call-canvas",roomId:r.roomId,ref:"webrtc",onShareStarted:i.shareStarted,class:"w-full video-webrtc",onShareStopped:i.leftRoom,onLeftRoom:i.leftRoom,onJoinedRoom:i.joinedRoom,width:"100%"},null,8,["roomId","onShareStarted","onShareStopped","onLeftRoom","onJoinedRoom"])]),r.hasJoined?(Sa(),xa("div",Hy,[re(bt,{onClick:i.onHandleVideoOn,class:"mx-2 bg-primary",size:"x-large"},{default:oe(()=>[re(ut,null,{default:oe(()=>[Fe(fr(r.videoOn?"mdi-video-outline":"mdi-video-off-outline"),1)]),_:1})]),_:1},8,["onClick"]),re(bt,{onClick:i.onHandleMicOn,class:"mx-2 bg-primary",size:"x-large"},{default:oe(()=>[re(ut,null,{default:oe(()=>[Fe(fr(r.micOn?"mdi-microphone":"mdi-microphone-off"),1)]),_:1})]),_:1},8,["onClick"]),re(bt,{onClick:i.toggleRoom,class:"mx-2 bg-red",size:"x-large"},{default:oe(()=>[re(ut,null,{default:oe(()=>[Fe("mdi-phone-hangup")]),_:1})]),_:1},8,["onClick"]),re(Ny,{modelValue:r.dialog,"onUpdate:modelValue":t[2]||(t[2]=a=>r.dialog=a),width:"auto"},{default:oe(()=>[re(yg,null,{default:oe(()=>[re(kl,{class:"text-h5"},{default:oe(()=>[Fe(" End the call or just leave? ")]),_:1}),re(Nl,null,{default:oe(()=>[Fe("You can just leave the call if you don't want to end it for everyone else")]),_:1}),re(Cl,null,{default:oe(()=>[re(Ly),re(bt,{variant:"text",onClick:t[0]||(t[0]=a=>i.meetingRoomEnd()),style:{"margin-right":"15px"}},{default:oe(()=>[Fe(" Just leave the call ")]),_:1}),re(bt,{variant:"text",onClick:t[1]||(t[1]=a=>i.meetingRoomEndForEveryone())},{default:oe(()=>[Fe(" End the call for everyone ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),re(Vy,{modelValue:r.snackbar,"onUpdate:modelValue":t[4]||(t[4]=a=>r.snackbar=a),timeout:3e3},{actions:oe(()=>[re(bt,{color:"blue",variant:"text",onClick:t[3]||(t[3]=a=>r.snackbar=!1)},{default:oe(()=>[Fe(" Close ")]),_:1})]),default:oe(()=>[Fe(fr(r.textUserStatus)+" ",1)]),_:1},8,["modelValue"])])):qy("",!0)])])])}const Wy=Hc(Uy,[["render",zy]]);const Gy={name:"App",components:{"video-chat":Wy}},{resolveComponent:Ky,openBlock:Yy,createBlock:Jy}=await w("vue");function Xy(e,t,n,s,r,i){const o=Ky("video-chat");return Yy(),Jy(o)}const wb=Hc(Gy,[["render",Xy]]);export{wb as default};
